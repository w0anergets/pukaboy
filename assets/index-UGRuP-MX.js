function Yy(a,n){for(var i=0;i<n.length;i++){const s=n[i];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in a)){const u=Object.getOwnPropertyDescriptor(s,l);u&&Object.defineProperty(a,l,u.get?u:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function Hg(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ju={exports:{}},vs={};var Jp;function Ky(){if(Jp)return vs;Jp=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(s,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var d in l)d!=="key"&&(u[d]=l[d])}else u=l;return l=u.ref,{$$typeof:a,type:s,key:h,ref:l!==void 0?l:null,props:u}}return vs.Fragment=n,vs.jsx=i,vs.jsxs=i,vs}var Qp;function Jy(){return Qp||(Qp=1,ju.exports=Ky()),ju.exports}var Q=Jy(),Du={exports:{}},Te={};var Xp;function Qy(){if(Xp)return Te;Xp=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function R(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,W={};function V(C,H,K){this.props=C,this.context=H,this.refs=W,this.updater=K||M}V.prototype.isReactComponent={},V.prototype.setState=function(C,H){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,H,"setState")},V.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function L(){}L.prototype=V.prototype;function B(C,H,K){this.props=C,this.context=H,this.refs=W,this.updater=K||M}var Y=B.prototype=new L;Y.constructor=B,q(Y,V.prototype),Y.isPureReactComponent=!0;var ge=Array.isArray;function de(){}var re={H:null,A:null,T:null,S:null},qe=Object.prototype.hasOwnProperty;function Ie(C,H,K){var ne=K.ref;return{$$typeof:a,type:C,key:H,ref:ne!==void 0?ne:null,props:K}}function bn(C,H){return Ie(C.type,H,C.props)}function Ht(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function ut(C){var H={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(K){return H[K]})}var _n=/\/+/g;function It(C,H){return typeof C=="object"&&C!==null&&C.key!=null?ut(""+C.key):H.toString(36)}function Tt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(de,de):(C.status="pending",C.then(function(H){C.status==="pending"&&(C.status="fulfilled",C.value=H)},function(H){C.status==="pending"&&(C.status="rejected",C.reason=H)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function x(C,H,K,ne,_e){var Ce=typeof C;(Ce==="undefined"||Ce==="boolean")&&(C=null);var Ne=!1;if(C===null)Ne=!0;else switch(Ce){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(C.$$typeof){case a:case n:Ne=!0;break;case b:return Ne=C._init,x(Ne(C._payload),H,K,ne,_e)}}if(Ne)return _e=_e(C),Ne=ne===""?"."+It(C,0):ne,ge(_e)?(K="",Ne!=null&&(K=Ne.replace(_n,"$&/")+"/"),x(_e,H,K,"",function(Sn){return Sn})):_e!=null&&(Ht(_e)&&(_e=bn(_e,K+(_e.key==null||C&&C.key===_e.key?"":(""+_e.key).replace(_n,"$&/")+"/")+Ne)),H.push(_e)),1;Ne=0;var Je=ne===""?".":ne+":";if(ge(C))for(var Fe=0;Fe<C.length;Fe++)ne=C[Fe],Ce=Je+It(ne,Fe),Ne+=x(ne,H,K,Ce,_e);else if(Fe=R(C),typeof Fe=="function")for(C=Fe.call(C),Fe=0;!(ne=C.next()).done;)ne=ne.value,Ce=Je+It(ne,Fe++),Ne+=x(ne,H,K,Ce,_e);else if(Ce==="object"){if(typeof C.then=="function")return x(Tt(C),H,K,ne,_e);throw H=String(C),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function G(C,H,K){if(C==null)return C;var ne=[],_e=0;return x(C,ne,"","",function(Ce){return H.call(K,Ce,_e++)}),ne}function oe(C){if(C._status===-1){var H=C._result;H=H(),H.then(function(K){(C._status===0||C._status===-1)&&(C._status=1,C._result=K)},function(K){(C._status===0||C._status===-1)&&(C._status=2,C._result=K)}),C._status===-1&&(C._status=0,C._result=H)}if(C._status===1)return C._result.default;throw C._result}var ve=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},J={map:G,forEach:function(C,H,K){G(C,function(){H.apply(this,arguments)},K)},count:function(C){var H=0;return G(C,function(){H++}),H},toArray:function(C){return G(C,function(H){return H})||[]},only:function(C){if(!Ht(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Te.Activity=S,Te.Children=J,Te.Component=V,Te.Fragment=i,Te.Profiler=l,Te.PureComponent=B,Te.StrictMode=s,Te.Suspense=m,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Te.__COMPILER_RUNTIME={__proto__:null,c:function(C){return re.H.useMemoCache(C)}},Te.cache=function(C){return function(){return C.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(C,H,K){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ne=q({},C.props),_e=C.key;if(H!=null)for(Ce in H.key!==void 0&&(_e=""+H.key),H)!qe.call(H,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&H.ref===void 0||(ne[Ce]=H[Ce]);var Ce=arguments.length-2;if(Ce===1)ne.children=K;else if(1<Ce){for(var Ne=Array(Ce),Je=0;Je<Ce;Je++)Ne[Je]=arguments[Je+2];ne.children=Ne}return Ie(C.type,_e,ne)},Te.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},Te.createElement=function(C,H,K){var ne,_e={},Ce=null;if(H!=null)for(ne in H.key!==void 0&&(Ce=""+H.key),H)qe.call(H,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(_e[ne]=H[ne]);var Ne=arguments.length-2;if(Ne===1)_e.children=K;else if(1<Ne){for(var Je=Array(Ne),Fe=0;Fe<Ne;Fe++)Je[Fe]=arguments[Fe+2];_e.children=Je}if(C&&C.defaultProps)for(ne in Ne=C.defaultProps,Ne)_e[ne]===void 0&&(_e[ne]=Ne[ne]);return Ie(C,Ce,_e)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(C){return{$$typeof:d,render:C}},Te.isValidElement=Ht,Te.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:oe}},Te.memo=function(C,H){return{$$typeof:g,type:C,compare:H===void 0?null:H}},Te.startTransition=function(C){var H=re.T,K={};re.T=K;try{var ne=C(),_e=re.S;_e!==null&&_e(K,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(de,ve)}catch(Ce){ve(Ce)}finally{H!==null&&K.types!==null&&(H.types=K.types),re.T=H}},Te.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Te.use=function(C){return re.H.use(C)},Te.useActionState=function(C,H,K){return re.H.useActionState(C,H,K)},Te.useCallback=function(C,H){return re.H.useCallback(C,H)},Te.useContext=function(C){return re.H.useContext(C)},Te.useDebugValue=function(){},Te.useDeferredValue=function(C,H){return re.H.useDeferredValue(C,H)},Te.useEffect=function(C,H){return re.H.useEffect(C,H)},Te.useEffectEvent=function(C){return re.H.useEffectEvent(C)},Te.useId=function(){return re.H.useId()},Te.useImperativeHandle=function(C,H,K){return re.H.useImperativeHandle(C,H,K)},Te.useInsertionEffect=function(C,H){return re.H.useInsertionEffect(C,H)},Te.useLayoutEffect=function(C,H){return re.H.useLayoutEffect(C,H)},Te.useMemo=function(C,H){return re.H.useMemo(C,H)},Te.useOptimistic=function(C,H){return re.H.useOptimistic(C,H)},Te.useReducer=function(C,H,K){return re.H.useReducer(C,H,K)},Te.useRef=function(C){return re.H.useRef(C)},Te.useState=function(C){return re.H.useState(C)},Te.useSyncExternalStore=function(C,H,K){return re.H.useSyncExternalStore(C,H,K)},Te.useTransition=function(){return re.H.useTransition()},Te.version="19.2.4",Te}var Zp;function hf(){return Zp||(Zp=1,Du.exports=Qy()),Du.exports}var wt=hf(),Uu={exports:{}},ys={},Mu={exports:{}},Nu={};var Fp;function Xy(){return Fp||(Fp=1,(function(a){function n(x,G){var oe=x.length;x.push(G);e:for(;0<oe;){var ve=oe-1>>>1,J=x[ve];if(0<l(J,G))x[ve]=G,x[oe]=J,oe=ve;else break e}}function i(x){return x.length===0?null:x[0]}function s(x){if(x.length===0)return null;var G=x[0],oe=x.pop();if(oe!==G){x[0]=oe;e:for(var ve=0,J=x.length,C=J>>>1;ve<C;){var H=2*(ve+1)-1,K=x[H],ne=H+1,_e=x[ne];if(0>l(K,oe))ne<J&&0>l(_e,K)?(x[ve]=_e,x[ne]=oe,ve=ne):(x[ve]=K,x[H]=oe,ve=H);else if(ne<J&&0>l(_e,oe))x[ve]=_e,x[ne]=oe,ve=ne;else break e}}return G}function l(x,G){var oe=x.sortIndex-G.sortIndex;return oe!==0?oe:x.id-G.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();a.unstable_now=function(){return h.now()-d}}var m=[],g=[],b=1,S=null,w=3,R=!1,M=!1,q=!1,W=!1,V=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function Y(x){for(var G=i(g);G!==null;){if(G.callback===null)s(g);else if(G.startTime<=x)s(g),G.sortIndex=G.expirationTime,n(m,G);else break;G=i(g)}}function ge(x){if(q=!1,Y(x),!M)if(i(m)!==null)M=!0,de||(de=!0,ut());else{var G=i(g);G!==null&&Tt(ge,G.startTime-x)}}var de=!1,re=-1,qe=5,Ie=-1;function bn(){return W?!0:!(a.unstable_now()-Ie<qe)}function Ht(){if(W=!1,de){var x=a.unstable_now();Ie=x;var G=!0;try{e:{M=!1,q&&(q=!1,L(re),re=-1),R=!0;var oe=w;try{t:{for(Y(x),S=i(m);S!==null&&!(S.expirationTime>x&&bn());){var ve=S.callback;if(typeof ve=="function"){S.callback=null,w=S.priorityLevel;var J=ve(S.expirationTime<=x);if(x=a.unstable_now(),typeof J=="function"){S.callback=J,Y(x),G=!0;break t}S===i(m)&&s(m),Y(x)}else s(m);S=i(m)}if(S!==null)G=!0;else{var C=i(g);C!==null&&Tt(ge,C.startTime-x),G=!1}}break e}finally{S=null,w=oe,R=!1}G=void 0}}finally{G?ut():de=!1}}}var ut;if(typeof B=="function")ut=function(){B(Ht)};else if(typeof MessageChannel<"u"){var _n=new MessageChannel,It=_n.port2;_n.port1.onmessage=Ht,ut=function(){It.postMessage(null)}}else ut=function(){V(Ht,0)};function Tt(x,G){re=V(function(){x(a.unstable_now())},G)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(x){x.callback=null},a.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qe=0<x?Math.floor(1e3/x):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(x){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var oe=w;w=G;try{return x()}finally{w=oe}},a.unstable_requestPaint=function(){W=!0},a.unstable_runWithPriority=function(x,G){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var oe=w;w=x;try{return G()}finally{w=oe}},a.unstable_scheduleCallback=function(x,G,oe){var ve=a.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ve+oe:ve):oe=ve,x){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=oe+J,x={id:b++,callback:G,priorityLevel:x,startTime:oe,expirationTime:J,sortIndex:-1},oe>ve?(x.sortIndex=oe,n(g,x),i(m)===null&&x===i(g)&&(q?(L(re),re=-1):q=!0,Tt(ge,oe-ve))):(x.sortIndex=J,n(m,x),M||R||(M=!0,de||(de=!0,ut()))),x},a.unstable_shouldYield=bn,a.unstable_wrapCallback=function(x){var G=w;return function(){var oe=w;w=G;try{return x.apply(this,arguments)}finally{w=oe}}}})(Nu)),Nu}var eg;function Zy(){return eg||(eg=1,Mu.exports=Xy()),Mu.exports}var Bu={exports:{}},Mt={};var tg;function Fy(){if(tg)return Mt;tg=1;var a=hf();function n(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(m,g,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:m,containerInfo:g,implementation:b}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Mt.createPortal=function(m,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return u(m,g,null,b)},Mt.flushSync=function(m){var g=h.T,b=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=g,s.p=b,s.d.f()}},Mt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Mt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Mt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var b=g.as,S=d(b,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:R}):b==="script"&&s.d.X(m,{crossOrigin:S,integrity:w,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Mt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Mt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,S=d(b,g.crossOrigin);s.d.L(m,b,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Mt.preloadModule=function(m,g){if(typeof m=="string")if(g){var b=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Mt.requestFormReset=function(m){s.d.r(m)},Mt.unstable_batchedUpdates=function(m,g){return m(g)},Mt.useFormState=function(m,g,b){return h.H.useFormState(m,g,b)},Mt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Mt.version="19.2.4",Mt}var ng;function eb(){if(ng)return Bu.exports;ng=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Bu.exports=Fy(),Bu.exports}var rg;function tb(){if(rg)return ys;rg=1;var a=Zy(),n=hf(),i=eb();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,o=t;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){r=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return m(c),e;if(f===o)return m(c),t;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=c,o=f;else{for(var p=!1,v=c.child;v;){if(v===r){p=!0,r=c,o=f;break}if(v===o){p=!0,o=c,r=f;break}v=v.sibling}if(!p){for(v=f.child;v;){if(v===r){p=!0,r=f,o=c;break}if(v===o){p=!0,o=f,r=c;break}v=v.sibling}if(!p)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),B=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),Ie=Symbol.for("react.activity"),bn=Symbol.for("react.memo_cache_sentinel"),Ht=Symbol.iterator;function ut(e){return e===null||typeof e!="object"?null:(e=Ht&&e[Ht]||e["@@iterator"],typeof e=="function"?e:null)}var _n=Symbol.for("react.client.reference");function It(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_n?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case V:return"Profiler";case W:return"StrictMode";case ge:return"Suspense";case de:return"SuspenseList";case Ie:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case B:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case re:return t=e.displayName||null,t!==null?t:It(e.type)||"Memo";case qe:t=e._payload,e=e._init;try{return It(e(t))}catch{}}return null}var Tt=Array.isArray,x=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ve=[],J=-1;function C(e){return{current:e}}function H(e){0>J||(e.current=ve[J],ve[J]=null,J--)}function K(e,t){J++,ve[J]=e.current,e.current=t}var ne=C(null),_e=C(null),Ce=C(null),Ne=C(null);function Je(e,t){switch(K(Ce,t),K(_e,e),K(ne,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=yp(t),e=bp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(ne),K(ne,e)}function Fe(){H(ne),H(_e),H(Ce)}function Sn(e){e.memoizedState!==null&&K(Ne,e);var t=ne.current,r=bp(t,e.type);t!==r&&(K(_e,e),K(ne,r))}function kn(e){_e.current===e&&(H(ne),H(_e)),Ne.current===e&&(H(Ne),ds._currentValue=oe)}var Ai,Ri;function Ct(e){if(Ai===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ai=t&&t[1]||"",Ri=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ai+e+Ri}var Ea=!1;function Ft(e,t){if(!e||Ea)return"";Ea=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(N){var D=N}Reflect.construct(e,[],I)}else{try{I.call()}catch(N){D=N}e.call(I.prototype)}}else{try{throw Error()}catch(N){D=N}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(N){if(N&&D&&typeof N.stack=="string")return[N.stack,D.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],v=f[1];if(p&&v){var T=p.split(`
`),j=v.split(`
`);for(c=o=0;o<T.length&&!T[o].includes("DetermineComponentFrameRoot");)o++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(o===T.length||c===j.length)for(o=T.length-1,c=j.length-1;1<=o&&0<=c&&T[o]!==j[c];)c--;for(;1<=o&&0<=c;o--,c--)if(T[o]!==j[c]){if(o!==1||c!==1)do if(o--,c--,0>c||T[o]!==j[c]){var P=`
`+T[o].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=o&&0<=c);break}}}finally{Ea=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ct(r):""}function wl(e,t){switch(e.tag){case 26:case 27:case 5:return Ct(e.type);case 16:return Ct("Lazy");case 13:return e.child!==t&&t!==null?Ct("Suspense Fallback"):Ct("Suspense");case 19:return Ct("SuspenseList");case 0:case 15:return Ft(e.type,!1);case 11:return Ft(e.type.render,!1);case 1:return Ft(e.type,!0);case 31:return Ct("Activity");default:return""}}function Oi(e){try{var t="",r=null;do t+=wl(e,r),r=e,e=e.return;while(e);return t}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var wa=Object.prototype.hasOwnProperty,Vr=a.unstable_scheduleCallback,Ca=a.unstable_cancelCallback,Cl=a.unstable_shouldYield,Al=a.unstable_requestPaint,zt=a.unstable_now,Wr=a.unstable_getCurrentPriorityLevel,Ms=a.unstable_ImmediatePriority,Ns=a.unstable_UserBlockingPriority,en=a.unstable_NormalPriority,Rl=a.unstable_LowPriority,Bs=a.unstable_IdlePriority,jn=a.log,Ol=a.unstable_setDisableYieldValue,Yr=null,bt=null;function Dn(e){if(typeof jn=="function"&&Ol(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Yr,e)}catch{}}var Lt=Math.clz32?Math.clz32:Aa,xl=Math.log,zs=Math.LN2;function Aa(e){return e>>>=0,e===0?32:31-(xl(e)/zs|0)|0}var cr=256,Kr=262144,xi=4194304;function Un(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ur(e,t,r){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=o&134217727;return v!==0?(o=v&~f,o!==0?c=Un(o):(p&=v,p!==0?c=Un(p):r||(r=v&~e,r!==0&&(c=Un(r))))):(v=o&~f,v!==0?c=Un(v):p!==0?c=Un(p):r||(r=o&~e,r!==0&&(c=Un(r)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,r=t&-t,f>=r||f===32&&(r&4194048)!==0)?t:c}function Tn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Jr(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ls(){var e=xi;return xi<<=1,(xi&62914560)===0&&(xi=4194304),e}function ki(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function $n(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fr(e,t,r,o,c,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var v=e.entanglements,T=e.expirationTimes,j=e.hiddenUpdates;for(r=p&~r;0<r;){var P=31-Lt(r),I=1<<P;v[P]=0,T[P]=-1;var D=j[P];if(D!==null)for(j[P]=null,P=0;P<D.length;P++){var N=D[P];N!==null&&(N.lane&=-536870913)}r&=~I}o!==0&&qs(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~t))}function qs(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-Lt(t);e.entangledLanes|=t,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Ps(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var o=31-Lt(r),c=1<<o;c&t|e[o]&t&&(e[o]|=t),r&=~c}}function Se(e,t){var r=t&-t;return r=(r&42)!==0?1:Ra(r),(r&(e.suspendedLanes|t))!==0?0:r}function Ra(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qt(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Hp(e.type))}function ji(e,t){var r=G.p;try{return G.p=e,t()}finally{G.p=r}}var it=Math.random().toString(36).slice(2),ft="__reactFiber$"+it,At="__reactProps$"+it,Hn="__reactContainer$"+it,Di="__reactEvents$"+it,$s="__reactListeners$"+it,kl="__reactHandles$"+it,Hs="__reactResources$"+it,hr="__reactMarker$"+it;function xa(e){delete e[ft],delete e[At],delete e[Di],delete e[$s],delete e[kl]}function dr(e){var t=e[ft];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Hn]||r[ft]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ap(e);e!==null;){if(r=e[ft])return r;e=Ap(e)}return t}e=r,r=e.parentNode}return null}function pr(e){if(e=e[ft]||e[Hn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Qr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function gr(e){var t=e[Hs];return t||(t=e[Hs]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[hr]=!0}var Is=new Set,mr={};function In(e,t){Ut(e,t),Ut(e+"Capture",t)}function Ut(e,t){for(mr[e]=t,e=0;e<t.length;e++)Is.add(t[e])}var Gs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mn={},Vs={};function jl(e){return wa.call(Vs,e)?!0:wa.call(Mn,e)?!1:Gs.test(e)?Vs[e]=!0:(Mn[e]=!0,!1)}function Ui(e,t,r){if(jl(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Nn(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function En(e,t,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+o)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dl(e,t,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gn(e){if(!e._valueTracker){var t=vr(e)?"checked":"value";e._valueTracker=Dl(e,t,""+e[t])}}function Ws(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=vr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(t.setValue(e),!0):!1}function Mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ka=/[\n"\\]/g;function y(e){return e.replace(ka,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function _(e,t,r,o,c,f,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?U(e,p,Gt(t)):r!=null?U(e,p,Gt(r)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Gt(v):e.removeAttribute("name")}function E(e,t,r,o,c,f,p,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Gn(e);return}r=r!=null?""+Gt(r):"",t=t!=null?""+Gt(t):r,v||t===e.value||(e.value=t),e.defaultValue=t}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=v?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Gn(e)}function U(e,t,r){t==="number"&&Mi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function z(e,t,r,o){if(e=e.options,t){t={};for(var c=0;c<r.length;c++)t["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=t.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Gt(r),t=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function X(e,t,r){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Gt(r):""}function ie(e,t,r,o){if(t==null){if(o!=null){if(r!=null)throw Error(s(92));if(Tt(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),t=r}r=Gt(t),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Gn(e)}function ee(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ce(e,t,r){var o=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":o?e.setProperty(t,r):typeof r!="number"||r===0||xe.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Oe(e,t,r){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in t)o=t[c],t.hasOwnProperty(c)&&r[c]!==o&&ce(e,c,o)}else for(var f in t)t.hasOwnProperty(f)&&ce(e,f,t[f])}function Be(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ae=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Z=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function te(e){return Z.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ue(){}var et=null;function se(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ge=null,Ee=null;function rt(e){var t=pr(e);if(t&&(e=t.stateNode)){var r=e[At]||null;e:switch(e=t.stateNode,t.type){case"input":if(_(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+y(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var c=o[At]||null;if(!c)throw Error(s(90));_(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<r.length;t++)o=r[t],o.form===e.form&&Ws(o)}break e;case"textarea":X(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&z(e,!!r.multiple,t,!1)}}}var un=!1;function ja(e,t,r){if(un)return e(t,r);un=!0;try{var o=e(t);return o}finally{if(un=!1,(Ge!==null||Ee!==null)&&(Do(),Ge&&(t=Ge,e=Ee,Ee=Ge=null,rt(t),e)))for(t=0;t<e.length;t++)rt(e[t])}}function yr(e,t){var r=e.stateNode;if(r===null)return null;var o=r[At]||null;if(o===null)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(wn)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{Xr=!1}var Bn=null,F=null,Vt=null;function Vn(){if(Vt)return Vt;var e,t=F,r=t.length,o,c="value"in Bn?Bn.value:Bn.textContent,f=c.length;for(e=0;e<r&&t[e]===c[e];e++);var p=r-e;for(o=1;o<=p&&t[r-o]===c[f-o];o++);return Vt=c.slice(e,1<o?1-o:void 0)}function Fr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ys(){return!0}function _f(){return!1}function Wt(e){function t(r,o,c,f,p){this._reactName=r,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ys:_f,this.isPropagationStopped=_f,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),t}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=Wt(ei),Da=S({},ei,{view:0,detail:0}),Vm=Wt(Da),Ul,Ml,Ua,Js=S({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ua&&(Ua&&e.type==="mousemove"?(Ul=e.screenX-Ua.screenX,Ml=e.screenY-Ua.screenY):Ml=Ul=0,Ua=e),Ul)},movementY:function(e){return"movementY"in e?e.movementY:Ml}}),Sf=Wt(Js),Wm=S({},Js,{dataTransfer:0}),Ym=Wt(Wm),Km=S({},Da,{relatedTarget:0}),Nl=Wt(Km),Jm=S({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),Qm=Wt(Jm),Xm=S({},ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zm=Wt(Xm),Fm=S({},ei,{data:0}),Tf=Wt(Fm),ev={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nv[e])?!!t[e]:!1}function Bl(){return rv}var iv=S({},Da,{key:function(e){if(e.key){var t=ev[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bl,charCode:function(e){return e.type==="keypress"?Fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),av=Wt(iv),sv=S({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ef=Wt(sv),ov=S({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bl}),lv=Wt(ov),cv=S({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),uv=Wt(cv),fv=S({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hv=Wt(fv),dv=S({},ei,{newState:0,oldState:0}),pv=Wt(dv),gv=[9,13,27,32],zl=wn&&"CompositionEvent"in window,Ma=null;wn&&"documentMode"in document&&(Ma=document.documentMode);var mv=wn&&"TextEvent"in window&&!Ma,wf=wn&&(!zl||Ma&&8<Ma&&11>=Ma),Cf=" ",Af=!1;function Rf(e,t){switch(e){case"keyup":return gv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Of(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ni=!1;function vv(e,t){switch(e){case"compositionend":return Of(t);case"keypress":return t.which!==32?null:(Af=!0,Cf);case"textInput":return e=t.data,e===Cf&&Af?null:e;default:return null}}function yv(e,t){if(Ni)return e==="compositionend"||!zl&&Rf(e,t)?(e=Vn(),Vt=F=Bn=null,Ni=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wf&&t.locale!=="ko"?null:t.data;default:return null}}var bv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bv[e.type]:t==="textarea"}function kf(e,t,r,o){Ge?Ee?Ee.push(o):Ee=[o]:Ge=o,t=qo(t,"onChange"),0<t.length&&(r=new Ks("onChange","change",null,r,o),e.push({event:r,listeners:t}))}var Na=null,Ba=null;function _v(e){hp(e,0)}function Qs(e){var t=Qr(e);if(Ws(t))return e}function jf(e,t){if(e==="change")return t}var Df=!1;if(wn){var Ll;if(wn){var ql="oninput"in document;if(!ql){var Uf=document.createElement("div");Uf.setAttribute("oninput","return;"),ql=typeof Uf.oninput=="function"}Ll=ql}else Ll=!1;Df=Ll&&(!document.documentMode||9<document.documentMode)}function Mf(){Na&&(Na.detachEvent("onpropertychange",Nf),Ba=Na=null)}function Nf(e){if(e.propertyName==="value"&&Qs(Ba)){var t=[];kf(t,Ba,e,se(e)),ja(_v,t)}}function Sv(e,t,r){e==="focusin"?(Mf(),Na=t,Ba=r,Na.attachEvent("onpropertychange",Nf)):e==="focusout"&&Mf()}function Tv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qs(Ba)}function Ev(e,t){if(e==="click")return Qs(t)}function wv(e,t){if(e==="input"||e==="change")return Qs(t)}function Cv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:Cv;function za(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var c=r[o];if(!wa.call(t,c)||!tn(e[c],t[c]))return!1}return!0}function Bf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zf(e,t){var r=Bf(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bf(r)}}function Lf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Mi(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Mi(e.document)}return t}function Pl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Av=wn&&"documentMode"in document&&11>=document.documentMode,Bi=null,$l=null,La=null,Hl=!1;function Pf(e,t,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hl||Bi==null||Bi!==Mi(o)||(o=Bi,"selectionStart"in o&&Pl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),La&&za(La,o)||(La=o,o=qo($l,"onSelect"),0<o.length&&(t=new Ks("onSelect","select",null,t,r),e.push({event:t,listeners:o}),t.target=Bi)))}function ti(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var zi={animationend:ti("Animation","AnimationEnd"),animationiteration:ti("Animation","AnimationIteration"),animationstart:ti("Animation","AnimationStart"),transitionrun:ti("Transition","TransitionRun"),transitionstart:ti("Transition","TransitionStart"),transitioncancel:ti("Transition","TransitionCancel"),transitionend:ti("Transition","TransitionEnd")},Il={},$f={};wn&&($f=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function ni(e){if(Il[e])return Il[e];if(!zi[e])return e;var t=zi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in $f)return Il[e]=t[r];return e}var Hf=ni("animationend"),If=ni("animationiteration"),Gf=ni("animationstart"),Rv=ni("transitionrun"),Ov=ni("transitionstart"),xv=ni("transitioncancel"),Vf=ni("transitionend"),Wf=new Map,Gl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gl.push("scrollEnd");function Cn(e,t){Wf.set(e,t),In(t,[e])}var Xs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},fn=[],Li=0,Vl=0;function Zs(){for(var e=Li,t=Vl=Li=0;t<e;){var r=fn[t];fn[t++]=null;var o=fn[t];fn[t++]=null;var c=fn[t];fn[t++]=null;var f=fn[t];if(fn[t++]=null,o!==null&&c!==null){var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}f!==0&&Yf(r,c,f)}}function Fs(e,t,r,o){fn[Li++]=e,fn[Li++]=t,fn[Li++]=r,fn[Li++]=o,Vl|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Wl(e,t,r,o){return Fs(e,t,r,o),eo(e)}function ri(e,t){return Fs(e,null,null,t),eo(e)}function Yf(e,t,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-Lt(r),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[t]:o.push(t),t.lane=r|536870912),f):null}function eo(e){if(50<ss)throw ss=0,tu=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qi={};function kv(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(e,t,r,o){return new kv(e,t,r,o)}function Yl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wn(e,t){var r=e.alternate;return r===null?(r=nn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Kf(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function to(e,t,r,o,c,f){var p=0;if(o=e,typeof e=="function")Yl(e)&&(p=1);else if(typeof e=="string")p=Ny(e,r,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ie:return e=nn(31,r,t,c),e.elementType=Ie,e.lanes=f,e;case q:return ii(r.children,c,f,t);case W:p=8,c|=24;break;case V:return e=nn(12,r,t,c|2),e.elementType=V,e.lanes=f,e;case ge:return e=nn(13,r,t,c),e.elementType=ge,e.lanes=f,e;case de:return e=nn(19,r,t,c),e.elementType=de,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:p=10;break e;case L:p=9;break e;case Y:p=11;break e;case re:p=14;break e;case qe:p=16,o=null;break e}p=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return t=nn(p,r,t,c),t.elementType=e,t.type=o,t.lanes=f,t}function ii(e,t,r,o){return e=nn(7,e,o,t),e.lanes=r,e}function Kl(e,t,r){return e=nn(6,e,null,t),e.lanes=r,e}function Jf(e){var t=nn(18,null,null,0);return t.stateNode=e,t}function Jl(e,t,r){return t=nn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qf=new WeakMap;function hn(e,t){if(typeof e=="object"&&e!==null){var r=Qf.get(e);return r!==void 0?r:(t={value:e,source:t,stack:Oi(t)},Qf.set(e,t),t)}return{value:e,source:t,stack:Oi(t)}}var Pi=[],$i=0,no=null,qa=0,dn=[],pn=0,br=null,zn=1,Ln="";function Yn(e,t){Pi[$i++]=qa,Pi[$i++]=no,no=e,qa=t}function Xf(e,t,r){dn[pn++]=zn,dn[pn++]=Ln,dn[pn++]=br,br=e;var o=zn;e=Ln;var c=32-Lt(o)-1;o&=~(1<<c),r+=1;var f=32-Lt(t)+c;if(30<f){var p=c-c%5;f=(o&(1<<p)-1).toString(32),o>>=p,c-=p,zn=1<<32-Lt(t)+c|r<<c|o,Ln=f+e}else zn=1<<f|r<<c|o,Ln=e}function Ql(e){e.return!==null&&(Yn(e,1),Xf(e,1,0))}function Xl(e){for(;e===no;)no=Pi[--$i],Pi[$i]=null,qa=Pi[--$i],Pi[$i]=null;for(;e===br;)br=dn[--pn],dn[pn]=null,Ln=dn[--pn],dn[pn]=null,zn=dn[--pn],dn[pn]=null}function Zf(e,t){dn[pn++]=zn,dn[pn++]=Ln,dn[pn++]=br,zn=t.id,Ln=t.overflow,br=e}var Rt=null,Xe=null,Me=!1,_r=null,gn=!1,Zl=Error(s(519));function Sr(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pa(hn(t,e)),Zl}function Ff(e){var t=e.stateNode,r=e.type,o=e.memoizedProps;switch(t[ft]=e,t[At]=o,r){case"dialog":je("cancel",t),je("close",t);break;case"iframe":case"object":case"embed":je("load",t);break;case"video":case"audio":for(r=0;r<ls.length;r++)je(ls[r],t);break;case"source":je("error",t);break;case"img":case"image":case"link":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"input":je("invalid",t),E(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":je("invalid",t);break;case"textarea":je("invalid",t),ie(t,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||o.suppressHydrationWarning===!0||mp(t.textContent,r)?(o.popover!=null&&(je("beforetoggle",t),je("toggle",t)),o.onScroll!=null&&je("scroll",t),o.onScrollEnd!=null&&je("scrollend",t),o.onClick!=null&&(t.onclick=ue),t=!0):t=!1,t||Sr(e,!0)}function eh(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:gn=!1;return;case 27:case 3:gn=!0;return;default:Rt=Rt.return}}function Hi(e){if(e!==Rt)return!1;if(!Me)return eh(e),Me=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||mu(e.type,e.memoizedProps)),r=!r),r&&Xe&&Sr(e),eh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Xe=Cp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Xe=Cp(e)}else t===27?(t=Xe,Nr(e.type)?(e=Su,Su=null,Xe=e):Xe=t):Xe=Rt?vn(e.stateNode.nextSibling):null;return!0}function ai(){Xe=Rt=null,Me=!1}function Fl(){var e=_r;return e!==null&&(Qt===null?Qt=e:Qt.push.apply(Qt,e),_r=null),e}function Pa(e){_r===null?_r=[e]:_r.push(e)}var ec=C(null),si=null,Kn=null;function Tr(e,t,r){K(ec,t._currentValue),t._currentValue=r}function Jn(e){e._currentValue=ec.current,H(ec)}function tc(e,t,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===r)break;e=e.return}}function nc(e,t,r,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=c;for(var T=0;T<t.length;T++)if(v.context===t[T]){f.lanes|=r,v=f.alternate,v!==null&&(v.lanes|=r),tc(f.return,r,e),o||(p=null);break e}f=v.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(s(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),tc(p,r,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Ii(e,t,r,o){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var v=c.type;tn(c.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(c===Ne.current){if(p=c.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ds):e=[ds])}c=c.return}e!==null&&nc(t,e,r,o),t.flags|=262144}function ro(e){for(e=e.firstContext;e!==null;){if(!tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function oi(e){si=e,Kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ot(e){return th(si,e)}function io(e,t){return si===null&&oi(e),th(e,t)}function th(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},Kn===null){if(e===null)throw Error(s(308));Kn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Kn=Kn.next=t;return r}var jv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},Dv=a.unstable_scheduleCallback,Uv=a.unstable_NormalPriority,dt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rc(){return{controller:new jv,data:new Map,refCount:0}}function $a(e){e.refCount--,e.refCount===0&&Dv(Uv,function(){e.controller.abort()})}var Ha=null,ic=0,Gi=0,Vi=null;function Mv(e,t){if(Ha===null){var r=Ha=[];ic=0,Gi=ou(),Vi={status:"pending",value:void 0,then:function(o){r.push(o)}}}return ic++,t.then(nh,nh),t}function nh(){if(--ic===0&&Ha!==null){Vi!==null&&(Vi.status="fulfilled");var e=Ha;Ha=null,Gi=0,Vi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Nv(e,t){var r=[],o={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var c=0;c<r.length;c++)(0,r[c])(t)},function(c){for(o.status="rejected",o.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),o}var rh=x.S;x.S=function(e,t){Pd=zt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Mv(e,t),rh!==null&&rh(e,t)};var li=C(null);function ac(){var e=li.current;return e!==null?e:Ke.pooledCache}function ao(e,t){t===null?K(li,li.current):K(li,t.pool)}function ih(){var e=ac();return e===null?null:{parent:dt._currentValue,pool:e}}var Wi=Error(s(460)),sc=Error(s(474)),so=Error(s(542)),oo={then:function(){}};function ah(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sh(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(ue,ue),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lh(e),e;default:if(typeof t.status=="string")t.then(ue,ue);else{if(e=Ke,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(o){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=o}},function(o){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lh(e),e}throw ui=t,Wi}}function ci(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ui=r,Wi):r}}var ui=null;function oh(){if(ui===null)throw Error(s(459));var e=ui;return ui=null,e}function lh(e){if(e===Wi||e===so)throw Error(s(483))}var Yi=null,Ia=0;function lo(e){var t=Ia;return Ia+=1,Yi===null&&(Yi=[]),sh(Yi,e,t)}function Ga(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function co(e,t){throw t.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ch(e){function t(O,A){if(e){var k=O.deletions;k===null?(O.deletions=[A],O.flags|=16):k.push(A)}}function r(O,A){if(!e)return null;for(;A!==null;)t(O,A),A=A.sibling;return null}function o(O){for(var A=new Map;O!==null;)O.key!==null?A.set(O.key,O):A.set(O.index,O),O=O.sibling;return A}function c(O,A){return O=Wn(O,A),O.index=0,O.sibling=null,O}function f(O,A,k){return O.index=k,e?(k=O.alternate,k!==null?(k=k.index,k<A?(O.flags|=67108866,A):k):(O.flags|=67108866,A)):(O.flags|=1048576,A)}function p(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function v(O,A,k,$){return A===null||A.tag!==6?(A=Kl(k,O.mode,$),A.return=O,A):(A=c(A,k),A.return=O,A)}function T(O,A,k,$){var pe=k.type;return pe===q?P(O,A,k.props.children,$,k.key):A!==null&&(A.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===qe&&ci(pe)===A.type)?(A=c(A,k.props),Ga(A,k),A.return=O,A):(A=to(k.type,k.key,k.props,null,O.mode,$),Ga(A,k),A.return=O,A)}function j(O,A,k,$){return A===null||A.tag!==4||A.stateNode.containerInfo!==k.containerInfo||A.stateNode.implementation!==k.implementation?(A=Jl(k,O.mode,$),A.return=O,A):(A=c(A,k.children||[]),A.return=O,A)}function P(O,A,k,$,pe){return A===null||A.tag!==7?(A=ii(k,O.mode,$,pe),A.return=O,A):(A=c(A,k),A.return=O,A)}function I(O,A,k){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Kl(""+A,O.mode,k),A.return=O,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case R:return k=to(A.type,A.key,A.props,null,O.mode,k),Ga(k,A),k.return=O,k;case M:return A=Jl(A,O.mode,k),A.return=O,A;case qe:return A=ci(A),I(O,A,k)}if(Tt(A)||ut(A))return A=ii(A,O.mode,k,null),A.return=O,A;if(typeof A.then=="function")return I(O,lo(A),k);if(A.$$typeof===B)return I(O,io(O,A),k);co(O,A)}return null}function D(O,A,k,$){var pe=A!==null?A.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return pe!==null?null:v(O,A,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case R:return k.key===pe?T(O,A,k,$):null;case M:return k.key===pe?j(O,A,k,$):null;case qe:return k=ci(k),D(O,A,k,$)}if(Tt(k)||ut(k))return pe!==null?null:P(O,A,k,$,null);if(typeof k.then=="function")return D(O,A,lo(k),$);if(k.$$typeof===B)return D(O,A,io(O,k),$);co(O,k)}return null}function N(O,A,k,$,pe){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return O=O.get(k)||null,v(A,O,""+$,pe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case R:return O=O.get($.key===null?k:$.key)||null,T(A,O,$,pe);case M:return O=O.get($.key===null?k:$.key)||null,j(A,O,$,pe);case qe:return $=ci($),N(O,A,k,$,pe)}if(Tt($)||ut($))return O=O.get(k)||null,P(A,O,$,pe,null);if(typeof $.then=="function")return N(O,A,k,lo($),pe);if($.$$typeof===B)return N(O,A,k,io(A,$),pe);co(A,$)}return null}function ae(O,A,k,$){for(var pe=null,ze=null,fe=A,Re=A=0,Ue=null;fe!==null&&Re<k.length;Re++){fe.index>Re?(Ue=fe,fe=null):Ue=fe.sibling;var Le=D(O,fe,k[Re],$);if(Le===null){fe===null&&(fe=Ue);break}e&&fe&&Le.alternate===null&&t(O,fe),A=f(Le,A,Re),ze===null?pe=Le:ze.sibling=Le,ze=Le,fe=Ue}if(Re===k.length)return r(O,fe),Me&&Yn(O,Re),pe;if(fe===null){for(;Re<k.length;Re++)fe=I(O,k[Re],$),fe!==null&&(A=f(fe,A,Re),ze===null?pe=fe:ze.sibling=fe,ze=fe);return Me&&Yn(O,Re),pe}for(fe=o(fe);Re<k.length;Re++)Ue=N(fe,O,Re,k[Re],$),Ue!==null&&(e&&Ue.alternate!==null&&fe.delete(Ue.key===null?Re:Ue.key),A=f(Ue,A,Re),ze===null?pe=Ue:ze.sibling=Ue,ze=Ue);return e&&fe.forEach(function(Pr){return t(O,Pr)}),Me&&Yn(O,Re),pe}function me(O,A,k,$){if(k==null)throw Error(s(151));for(var pe=null,ze=null,fe=A,Re=A=0,Ue=null,Le=k.next();fe!==null&&!Le.done;Re++,Le=k.next()){fe.index>Re?(Ue=fe,fe=null):Ue=fe.sibling;var Pr=D(O,fe,Le.value,$);if(Pr===null){fe===null&&(fe=Ue);break}e&&fe&&Pr.alternate===null&&t(O,fe),A=f(Pr,A,Re),ze===null?pe=Pr:ze.sibling=Pr,ze=Pr,fe=Ue}if(Le.done)return r(O,fe),Me&&Yn(O,Re),pe;if(fe===null){for(;!Le.done;Re++,Le=k.next())Le=I(O,Le.value,$),Le!==null&&(A=f(Le,A,Re),ze===null?pe=Le:ze.sibling=Le,ze=Le);return Me&&Yn(O,Re),pe}for(fe=o(fe);!Le.done;Re++,Le=k.next())Le=N(fe,O,Re,Le.value,$),Le!==null&&(e&&Le.alternate!==null&&fe.delete(Le.key===null?Re:Le.key),A=f(Le,A,Re),ze===null?pe=Le:ze.sibling=Le,ze=Le);return e&&fe.forEach(function(Wy){return t(O,Wy)}),Me&&Yn(O,Re),pe}function Ye(O,A,k,$){if(typeof k=="object"&&k!==null&&k.type===q&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case R:e:{for(var pe=k.key;A!==null;){if(A.key===pe){if(pe=k.type,pe===q){if(A.tag===7){r(O,A.sibling),$=c(A,k.props.children),$.return=O,O=$;break e}}else if(A.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===qe&&ci(pe)===A.type){r(O,A.sibling),$=c(A,k.props),Ga($,k),$.return=O,O=$;break e}r(O,A);break}else t(O,A);A=A.sibling}k.type===q?($=ii(k.props.children,O.mode,$,k.key),$.return=O,O=$):($=to(k.type,k.key,k.props,null,O.mode,$),Ga($,k),$.return=O,O=$)}return p(O);case M:e:{for(pe=k.key;A!==null;){if(A.key===pe)if(A.tag===4&&A.stateNode.containerInfo===k.containerInfo&&A.stateNode.implementation===k.implementation){r(O,A.sibling),$=c(A,k.children||[]),$.return=O,O=$;break e}else{r(O,A);break}else t(O,A);A=A.sibling}$=Jl(k,O.mode,$),$.return=O,O=$}return p(O);case qe:return k=ci(k),Ye(O,A,k,$)}if(Tt(k))return ae(O,A,k,$);if(ut(k)){if(pe=ut(k),typeof pe!="function")throw Error(s(150));return k=pe.call(k),me(O,A,k,$)}if(typeof k.then=="function")return Ye(O,A,lo(k),$);if(k.$$typeof===B)return Ye(O,A,io(O,k),$);co(O,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,A!==null&&A.tag===6?(r(O,A.sibling),$=c(A,k),$.return=O,O=$):(r(O,A),$=Kl(k,O.mode,$),$.return=O,O=$),p(O)):r(O,A)}return function(O,A,k,$){try{Ia=0;var pe=Ye(O,A,k,$);return Yi=null,pe}catch(fe){if(fe===Wi||fe===so)throw fe;var ze=nn(29,fe,null,O.mode);return ze.lanes=$,ze.return=O,ze}}}var fi=ch(!0),uh=ch(!1),Er=!1;function oc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cr(e,t,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Pe&2)!==0){var c=o.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),o.pending=t,t=eo(e),Yf(e,null,r),t}return Fs(e,o,t,r),eo(e)}function Va(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Ps(e,r)}}function cc(e,t){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?c=f=t:f=f.next=t}else c=f=t;r={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var uc=!1;function Wa(){if(uc){var e=Vi;if(e!==null)throw e}}function Ya(e,t,r,o){uc=!1;var c=e.updateQueue;Er=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var T=v,j=T.next;T.next=null,p===null?f=j:p.next=j,p=T;var P=e.alternate;P!==null&&(P=P.updateQueue,v=P.lastBaseUpdate,v!==p&&(v===null?P.firstBaseUpdate=j:v.next=j,P.lastBaseUpdate=T))}if(f!==null){var I=c.baseState;p=0,P=j=T=null,v=f;do{var D=v.lane&-536870913,N=D!==v.lane;if(N?(De&D)===D:(o&D)===D){D!==0&&D===Gi&&(uc=!0),P!==null&&(P=P.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ae=e,me=v;D=t;var Ye=r;switch(me.tag){case 1:if(ae=me.payload,typeof ae=="function"){I=ae.call(Ye,I,D);break e}I=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=me.payload,D=typeof ae=="function"?ae.call(Ye,I,D):ae,D==null)break e;I=S({},I,D);break e;case 2:Er=!0}}D=v.callback,D!==null&&(e.flags|=64,N&&(e.flags|=8192),N=c.callbacks,N===null?c.callbacks=[D]:N.push(D))}else N={lane:D,tag:v.tag,payload:v.payload,callback:v.callback,next:null},P===null?(j=P=N,T=I):P=P.next=N,p|=D;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;N=v,v=N.next,N.next=null,c.lastBaseUpdate=N,c.shared.pending=null}}while(!0);P===null&&(T=I),c.baseState=T,c.firstBaseUpdate=j,c.lastBaseUpdate=P,f===null&&(c.shared.lanes=0),kr|=p,e.lanes=p,e.memoizedState=I}}function fh(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function hh(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)fh(r[e],t)}var Ki=C(null),uo=C(0);function dh(e,t){e=ir,K(uo,e),K(Ki,t),ir=e|t.baseLanes}function fc(){K(uo,ir),K(Ki,Ki.current)}function hc(){ir=uo.current,H(Ki),H(uo)}var rn=C(null),mn=null;function Ar(e){var t=e.alternate;K(lt,lt.current&1),K(rn,e),mn===null&&(t===null||Ki.current!==null||t.memoizedState!==null)&&(mn=e)}function dc(e){K(lt,lt.current),K(rn,e),mn===null&&(mn=e)}function ph(e){e.tag===22?(K(lt,lt.current),K(rn,e),mn===null&&(mn=e)):Rr()}function Rr(){K(lt,lt.current),K(rn,rn.current)}function an(e){H(rn),mn===e&&(mn=null),H(lt)}var lt=C(0);function fo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||bu(r)||_u(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qn=0,we=null,Ve=null,pt=null,ho=!1,Ji=!1,hi=!1,po=0,Ka=0,Qi=null,Bv=0;function at(){throw Error(s(321))}function pc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tn(e[r],t[r]))return!1;return!0}function gc(e,t,r,o,c,f){return Qn=f,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,x.H=e===null||e.memoizedState===null?Xh:kc,hi=!1,f=r(o,c),hi=!1,Ji&&(f=mh(t,r,o,c)),gh(e),f}function gh(e){x.H=Xa;var t=Ve!==null&&Ve.next!==null;if(Qn=0,pt=Ve=we=null,ho=!1,Ka=0,Qi=null,t)throw Error(s(300));e===null||gt||(e=e.dependencies,e!==null&&ro(e)&&(gt=!0))}function mh(e,t,r,o){we=e;var c=0;do{if(Ji&&(Qi=null),Ka=0,Ji=!1,25<=c)throw Error(s(301));if(c+=1,pt=Ve=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}x.H=Zh,f=t(r,o)}while(Ji);return f}function zv(){var e=x.H,t=e.useState()[0];return t=typeof t.then=="function"?Ja(t):t,e=e.useState()[0],(Ve!==null?Ve.memoizedState:null)!==e&&(we.flags|=1024),t}function mc(){var e=po!==0;return po=0,e}function vc(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function yc(e){if(ho){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ho=!1}Qn=0,pt=Ve=we=null,Ji=!1,Ka=po=0,Qi=null}function Pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?we.memoizedState=pt=e:pt=pt.next=e,pt}function ct(){if(Ve===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=pt===null?we.memoizedState:pt.next;if(t!==null)pt=t,Ve=e;else{if(e===null)throw we.alternate===null?Error(s(467)):Error(s(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},pt===null?we.memoizedState=pt=e:pt=pt.next=e}return pt}function go(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ja(e){var t=Ka;return Ka+=1,Qi===null&&(Qi=[]),e=sh(Qi,e,t),t=we,(pt===null?t.memoizedState:pt.next)===null&&(t=t.alternate,x.H=t===null||t.memoizedState===null?Xh:kc),e}function mo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ja(e);if(e.$$typeof===B)return Ot(e)}throw Error(s(438,String(e)))}function bc(e){var t=null,r=we.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var o=we.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=go(),we.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),o=0;o<e;o++)r[o]=bn;return t.index++,r}function Xn(e,t){return typeof t=="function"?t(e):t}function vo(e){var t=ct();return _c(t,Ve,e)}function _c(e,t,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}t.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var v=p=null,T=null,j=t,P=!1;do{var I=j.lane&-536870913;if(I!==j.lane?(De&I)===I:(Qn&I)===I){var D=j.revertLane;if(D===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),I===Gi&&(P=!0);else if((Qn&D)===D){j=j.next,D===Gi&&(P=!0);continue}else I={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},T===null?(v=T=I,p=f):T=T.next=I,we.lanes|=D,kr|=D;I=j.action,hi&&r(f,I),f=j.hasEagerState?j.eagerState:r(f,I)}else D={lane:I,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},T===null?(v=T=D,p=f):T=T.next=D,we.lanes|=I,kr|=I;j=j.next}while(j!==null&&j!==t);if(T===null?p=f:T.next=v,!tn(f,e.memoizedState)&&(gt=!0,P&&(r=Vi,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=T,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Sc(e){var t=ct(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,c=r.pending,f=t.memoizedState;if(c!==null){r.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);tn(f,t.memoizedState)||(gt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,o]}function vh(e,t,r){var o=we,c=ct(),f=Me;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=t();var p=!tn((Ve||c).memoizedState,r);if(p&&(c.memoizedState=r,gt=!0),c=c.queue,wc(_h.bind(null,o,c,e),[e]),c.getSnapshot!==t||p||pt!==null&&pt.memoizedState.tag&1){if(o.flags|=2048,Xi(9,{destroy:void 0},bh.bind(null,o,c,r,t),null),Ke===null)throw Error(s(349));f||(Qn&127)!==0||yh(o,t,r)}return r}function yh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=we.updateQueue,t===null?(t=go(),we.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bh(e,t,r,o){t.value=r,t.getSnapshot=o,Sh(t)&&Th(e)}function _h(e,t,r){return r(function(){Sh(t)&&Th(e)})}function Sh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tn(e,r)}catch{return!0}}function Th(e){var t=ri(e,2);t!==null&&Xt(t,e,2)}function Tc(e){var t=Pt();if(typeof e=="function"){var r=e;if(e=r(),hi){Dn(!0);try{r()}finally{Dn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:e},t}function Eh(e,t,r,o){return e.baseState=r,_c(e,Ve,typeof o=="function"?o:Xn)}function Lv(e,t,r,o,c){if(_o(e))throw Error(s(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};x.T!==null?r(!0):f.isTransition=!1,o(f),r=t.pending,r===null?(f.next=t.pending=f,wh(t,f)):(f.next=r.next,t.pending=r.next=f)}}function wh(e,t){var r=t.action,o=t.payload,c=e.state;if(t.isTransition){var f=x.T,p={};x.T=p;try{var v=r(c,o),T=x.S;T!==null&&T(p,v),Ch(e,t,v)}catch(j){Ec(e,t,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),x.T=f}}else try{f=r(c,o),Ch(e,t,f)}catch(j){Ec(e,t,j)}}function Ch(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ah(e,t,o)},function(o){return Ec(e,t,o)}):Ah(e,t,r)}function Ah(e,t,r){t.status="fulfilled",t.value=r,Rh(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,wh(e,r)))}function Ec(e,t,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=r,Rh(t),t=t.next;while(t!==o)}e.action=null}function Rh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Oh(e,t){return t}function xh(e,t){if(Me){var r=Ke.formState;if(r!==null){e:{var o=we;if(Me){if(Xe){t:{for(var c=Xe,f=gn;c.nodeType!==8;){if(!f){c=null;break t}if(c=vn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Xe=vn(c.nextSibling),o=c.data==="F!";break e}}Sr(o)}o=!1}o&&(t=r[0])}}return r=Pt(),r.memoizedState=r.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oh,lastRenderedState:t},r.queue=o,r=Kh.bind(null,we,o),o.dispatch=r,o=Tc(!1),f=xc.bind(null,we,!1,o.queue),o=Pt(),c={state:t,dispatch:null,action:e,pending:null},o.queue=c,r=Lv.bind(null,we,c,f,r),c.dispatch=r,o.memoizedState=e,[t,r,!1]}function kh(e){var t=ct();return jh(t,Ve,e)}function jh(e,t,r){if(t=_c(e,t,Oh)[0],e=vo(Xn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var o=Ja(t)}catch(p){throw p===Wi?so:p}else o=t;t=ct();var c=t.queue,f=c.dispatch;return r!==t.memoizedState&&(we.flags|=2048,Xi(9,{destroy:void 0},qv.bind(null,c,r),null)),[o,f,e]}function qv(e,t){e.action=t}function Dh(e){var t=ct(),r=Ve;if(r!==null)return jh(t,r,e);ct(),t=t.memoizedState,r=ct();var o=r.queue.dispatch;return r.memoizedState=e,[t,o,!1]}function Xi(e,t,r,o){return e={tag:e,create:r,deps:o,inst:t,next:null},t=we.updateQueue,t===null&&(t=go(),we.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,t.lastEffect=e),e}function Uh(){return ct().memoizedState}function yo(e,t,r,o){var c=Pt();we.flags|=e,c.memoizedState=Xi(1|t,{destroy:void 0},r,o===void 0?null:o)}function bo(e,t,r,o){var c=ct();o=o===void 0?null:o;var f=c.memoizedState.inst;Ve!==null&&o!==null&&pc(o,Ve.memoizedState.deps)?c.memoizedState=Xi(t,f,r,o):(we.flags|=e,c.memoizedState=Xi(1|t,f,r,o))}function Mh(e,t){yo(8390656,8,e,t)}function wc(e,t){bo(2048,8,e,t)}function Pv(e){we.flags|=4;var t=we.updateQueue;if(t===null)t=go(),we.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function Nh(e){var t=ct().memoizedState;return Pv({ref:t,nextImpl:e}),function(){if((Pe&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Bh(e,t){return bo(4,2,e,t)}function zh(e,t){return bo(4,4,e,t)}function Lh(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qh(e,t,r){r=r!=null?r.concat([e]):null,bo(4,4,Lh.bind(null,t,e),r)}function Cc(){}function Ph(e,t){var r=ct();t=t===void 0?null:t;var o=r.memoizedState;return t!==null&&pc(t,o[1])?o[0]:(r.memoizedState=[e,t],e)}function $h(e,t){var r=ct();t=t===void 0?null:t;var o=r.memoizedState;if(t!==null&&pc(t,o[1]))return o[0];if(o=e(),hi){Dn(!0);try{e()}finally{Dn(!1)}}return r.memoizedState=[o,t],o}function Ac(e,t,r){return r===void 0||(Qn&1073741824)!==0&&(De&261930)===0?e.memoizedState=t:(e.memoizedState=r,e=Hd(),we.lanes|=e,kr|=e,r)}function Hh(e,t,r,o){return tn(r,t)?r:Ki.current!==null?(e=Ac(e,r,o),tn(e,t)||(gt=!0),e):(Qn&42)===0||(Qn&1073741824)!==0&&(De&261930)===0?(gt=!0,e.memoizedState=r):(e=Hd(),we.lanes|=e,kr|=e,t)}function Ih(e,t,r,o,c){var f=G.p;G.p=f!==0&&8>f?f:8;var p=x.T,v={};x.T=v,xc(e,!1,t,r);try{var T=c(),j=x.S;if(j!==null&&j(v,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var P=Nv(T,o);Qa(e,t,P,ln(e))}else Qa(e,t,o,ln(e))}catch(I){Qa(e,t,{then:function(){},status:"rejected",reason:I},ln())}finally{G.p=f,p!==null&&v.types!==null&&(p.types=v.types),x.T=p}}function $v(){}function Rc(e,t,r,o){if(e.tag!==5)throw Error(s(476));var c=Gh(e).queue;Ih(e,c,t,oe,r===null?$v:function(){return Vh(e),r(o)})}function Gh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:oe},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vh(e){var t=Gh(e);t.next===null&&(t=e.alternate.memoizedState),Qa(e,t.next.queue,{},ln())}function Oc(){return Ot(ds)}function Wh(){return ct().memoizedState}function Yh(){return ct().memoizedState}function Hv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=ln();e=wr(r);var o=Cr(t,e,r);o!==null&&(Xt(o,t,r),Va(o,t,r)),t={cache:rc()},e.payload=t;return}t=t.return}}function Iv(e,t,r){var o=ln();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},_o(e)?Jh(t,r):(r=Wl(e,t,r,o),r!==null&&(Xt(r,e,o),Qh(r,t,o)))}function Kh(e,t,r){var o=ln();Qa(e,t,r,o)}function Qa(e,t,r,o){var c={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(_o(e))Jh(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var p=t.lastRenderedState,v=f(p,r);if(c.hasEagerState=!0,c.eagerState=v,tn(v,p))return Fs(e,t,c,0),Ke===null&&Zs(),!1}catch{}if(r=Wl(e,t,c,o),r!==null)return Xt(r,e,o),Qh(r,t,o),!0}return!1}function xc(e,t,r,o){if(o={lane:2,revertLane:ou(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},_o(e)){if(t)throw Error(s(479))}else t=Wl(e,r,o,2),t!==null&&Xt(t,e,2)}function _o(e){var t=e.alternate;return e===we||t!==null&&t===we}function Jh(e,t){Ji=ho=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qh(e,t,r){if((r&4194048)!==0){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Ps(e,r)}}var Xa={readContext:Ot,use:mo,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};Xa.useEffectEvent=at;var Xh={readContext:Ot,use:mo,useCallback:function(e,t){return Pt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:Mh,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,yo(4194308,4,Lh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return yo(4194308,4,e,t)},useInsertionEffect:function(e,t){yo(4,2,e,t)},useMemo:function(e,t){var r=Pt();t=t===void 0?null:t;var o=e();if(hi){Dn(!0);try{e()}finally{Dn(!1)}}return r.memoizedState=[o,t],o},useReducer:function(e,t,r){var o=Pt();if(r!==void 0){var c=r(t);if(hi){Dn(!0);try{r(t)}finally{Dn(!1)}}}else c=t;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=Iv.bind(null,we,e),[o.memoizedState,e]},useRef:function(e){var t=Pt();return e={current:e},t.memoizedState=e},useState:function(e){e=Tc(e);var t=e.queue,r=Kh.bind(null,we,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Cc,useDeferredValue:function(e,t){var r=Pt();return Ac(r,e,t)},useTransition:function(){var e=Tc(!1);return e=Ih.bind(null,we,e.queue,!0,!1),Pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var o=we,c=Pt();if(Me){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),Ke===null)throw Error(s(349));(De&127)!==0||yh(o,t,r)}c.memoizedState=r;var f={value:r,getSnapshot:t};return c.queue=f,Mh(_h.bind(null,o,f,e),[e]),o.flags|=2048,Xi(9,{destroy:void 0},bh.bind(null,o,f,r,t),null),r},useId:function(){var e=Pt(),t=Ke.identifierPrefix;if(Me){var r=Ln,o=zn;r=(o&~(1<<32-Lt(o)-1)).toString(32)+r,t="_"+t+"R_"+r,r=po++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=Bv++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Oc,useFormState:xh,useActionState:xh,useOptimistic:function(e){var t=Pt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=xc.bind(null,we,!0,r),r.dispatch=t,[e,t]},useMemoCache:bc,useCacheRefresh:function(){return Pt().memoizedState=Hv.bind(null,we)},useEffectEvent:function(e){var t=Pt(),r={impl:e};return t.memoizedState=r,function(){if((Pe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},kc={readContext:Ot,use:mo,useCallback:Ph,useContext:Ot,useEffect:wc,useImperativeHandle:qh,useInsertionEffect:Bh,useLayoutEffect:zh,useMemo:$h,useReducer:vo,useRef:Uh,useState:function(){return vo(Xn)},useDebugValue:Cc,useDeferredValue:function(e,t){var r=ct();return Hh(r,Ve.memoizedState,e,t)},useTransition:function(){var e=vo(Xn)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:Ja(e),t]},useSyncExternalStore:vh,useId:Wh,useHostTransitionStatus:Oc,useFormState:kh,useActionState:kh,useOptimistic:function(e,t){var r=ct();return Eh(r,Ve,e,t)},useMemoCache:bc,useCacheRefresh:Yh};kc.useEffectEvent=Nh;var Zh={readContext:Ot,use:mo,useCallback:Ph,useContext:Ot,useEffect:wc,useImperativeHandle:qh,useInsertionEffect:Bh,useLayoutEffect:zh,useMemo:$h,useReducer:Sc,useRef:Uh,useState:function(){return Sc(Xn)},useDebugValue:Cc,useDeferredValue:function(e,t){var r=ct();return Ve===null?Ac(r,e,t):Hh(r,Ve.memoizedState,e,t)},useTransition:function(){var e=Sc(Xn)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:Ja(e),t]},useSyncExternalStore:vh,useId:Wh,useHostTransitionStatus:Oc,useFormState:Dh,useActionState:Dh,useOptimistic:function(e,t){var r=ct();return Ve!==null?Eh(r,Ve,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:bc,useCacheRefresh:Yh};Zh.useEffectEvent=Nh;function jc(e,t,r,o){t=e.memoizedState,r=r(o,t),r=r==null?t:S({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Dc={enqueueSetState:function(e,t,r){e=e._reactInternals;var o=ln(),c=wr(o);c.payload=t,r!=null&&(c.callback=r),t=Cr(e,c,o),t!==null&&(Xt(t,e,o),Va(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var o=ln(),c=wr(o);c.tag=1,c.payload=t,r!=null&&(c.callback=r),t=Cr(e,c,o),t!==null&&(Xt(t,e,o),Va(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ln(),o=wr(r);o.tag=2,t!=null&&(o.callback=t),t=Cr(e,o,r),t!==null&&(Xt(t,e,r),Va(t,e,r))}};function Fh(e,t,r,o,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):t.prototype&&t.prototype.isPureReactComponent?!za(r,o)||!za(c,f):!0}function ed(e,t,r,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&Dc.enqueueReplaceState(t,t.state,null)}function di(e,t){var r=t;if("ref"in t){r={};for(var o in t)o!=="ref"&&(r[o]=t[o])}if(e=e.defaultProps){r===t&&(r=S({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function td(e){Xs(e)}function nd(e){console.error(e)}function rd(e){Xs(e)}function So(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function id(e,t,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Uc(e,t,r){return r=wr(r),r.tag=3,r.payload={element:null},r.callback=function(){So(e,t)},r}function ad(e){return e=wr(e),e.tag=3,e}function sd(e,t,r,o){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){id(t,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){id(t,r,o),typeof c!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function Gv(e,t,r,o,c){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=r.alternate,t!==null&&Ii(t,r,c,!0),r=rn.current,r!==null){switch(r.tag){case 31:case 13:return mn===null?Uo():r.alternate===null&&st===0&&(st=3),r.flags&=-257,r.flags|=65536,r.lanes=c,o===oo?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([o]):t.add(o),iu(e,o,c)),!1;case 22:return r.flags|=65536,o===oo?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([o]):r.add(o)),iu(e,o,c)),!1}throw Error(s(435,r.tag))}return iu(e,o,c),Uo(),!1}if(Me)return t=rn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,o!==Zl&&(e=Error(s(422),{cause:o}),Pa(hn(e,r)))):(o!==Zl&&(t=Error(s(423),{cause:o}),Pa(hn(t,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=hn(o,r),c=Uc(e.stateNode,o,c),cc(e,c),st!==4&&(st=2)),!1;var f=Error(s(520),{cause:o});if(f=hn(f,r),as===null?as=[f]:as.push(f),st!==4&&(st=2),t===null)return!0;o=hn(o,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=Uc(r.stateNode,o,e),cc(r,e),!1;case 1:if(t=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(jr===null||!jr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=ad(c),sd(c,e,r,o),cc(r,c),!1}r=r.return}while(r!==null);return!1}var Mc=Error(s(461)),gt=!1;function xt(e,t,r,o){t.child=e===null?uh(t,null,r,o):fi(t,e.child,r,o)}function od(e,t,r,o,c){r=r.render;var f=t.ref;if("ref"in o){var p={};for(var v in o)v!=="ref"&&(p[v]=o[v])}else p=o;return oi(t),o=gc(e,t,r,p,f,c),v=mc(),e!==null&&!gt?(vc(e,t,c),Zn(e,t,c)):(Me&&v&&Ql(t),t.flags|=1,xt(e,t,o,c),t.child)}function ld(e,t,r,o,c){if(e===null){var f=r.type;return typeof f=="function"&&!Yl(f)&&f.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=f,cd(e,t,f,o,c)):(e=to(r.type,null,o,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Hc(e,c)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:za,r(p,o)&&e.ref===t.ref)return Zn(e,t,c)}return t.flags|=1,e=Wn(f,o),e.ref=t.ref,e.return=t,t.child=e}function cd(e,t,r,o,c){if(e!==null){var f=e.memoizedProps;if(za(f,o)&&e.ref===t.ref)if(gt=!1,t.pendingProps=o=f,Hc(e,c))(e.flags&131072)!==0&&(gt=!0);else return t.lanes=e.lanes,Zn(e,t,c)}return Nc(e,t,r,o,c)}function ud(e,t,r,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=t.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,t.child=null;return fd(e,t,f,r,o)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ao(t,f!==null?f.cachePool:null),f!==null?dh(t,f):fc(),ph(t);else return o=t.lanes=536870912,fd(e,t,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(ao(t,f.cachePool),dh(t,f),Rr(),t.memoizedState=null):(e!==null&&ao(t,null),fc(),Rr());return xt(e,t,c,r),t.child}function Za(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function fd(e,t,r,o,c){var f=ac();return f=f===null?null:{parent:dt._currentValue,pool:f},t.memoizedState={baseLanes:r,cachePool:f},e!==null&&ao(t,null),fc(),ph(t),e!==null&&Ii(e,t,o,!0),t.childLanes=c,null}function To(e,t){return t=wo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hd(e,t,r){return fi(t,e.child,null,r),e=To(t,t.pendingProps),e.flags|=2,an(t),t.memoizedState=null,e}function Vv(e,t,r){var o=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Me){if(o.mode==="hidden")return e=To(t,o),t.lanes=536870912,Za(null,e);if(dc(t),(e=Xe)?(e=wp(e,gn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:br!==null?{id:zn,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},r=Jf(e),r.return=t,t.child=r,Rt=t,Xe=null)):e=null,e===null)throw Sr(t);return t.lanes=536870912,null}return To(t,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(dc(t),c)if(t.flags&256)t.flags&=-257,t=hd(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(gt||Ii(e,t,r,!1),c=(r&e.childLanes)!==0,gt||c){if(o=Ke,o!==null&&(p=Se(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,ri(e,p),Xt(o,e,p),Mc;Uo(),t=hd(e,t,r)}else e=f.treeContext,Xe=vn(p.nextSibling),Rt=t,Me=!0,_r=null,gn=!1,e!==null&&Zf(t,e),t=To(t,o),t.flags|=4096;return t}return e=Wn(e.child,{mode:o.mode,children:o.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Eo(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function Nc(e,t,r,o,c){return oi(t),r=gc(e,t,r,o,void 0,c),o=mc(),e!==null&&!gt?(vc(e,t,c),Zn(e,t,c)):(Me&&o&&Ql(t),t.flags|=1,xt(e,t,r,c),t.child)}function dd(e,t,r,o,c,f){return oi(t),t.updateQueue=null,r=mh(t,o,r,c),gh(e),o=mc(),e!==null&&!gt?(vc(e,t,f),Zn(e,t,f)):(Me&&o&&Ql(t),t.flags|=1,xt(e,t,r,f),t.child)}function pd(e,t,r,o,c){if(oi(t),t.stateNode===null){var f=qi,p=r.contextType;typeof p=="object"&&p!==null&&(f=Ot(p)),f=new r(o,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=o,f.state=t.memoizedState,f.refs={},oc(t),p=r.contextType,f.context=typeof p=="object"&&p!==null?Ot(p):qi,f.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(jc(t,r,p,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Dc.enqueueReplaceState(f,f.state,null),Ya(t,o,f,c),Wa(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(e===null){f=t.stateNode;var v=t.memoizedProps,T=di(r,v);f.props=T;var j=f.context,P=r.contextType;p=qi,typeof P=="object"&&P!==null&&(p=Ot(P));var I=r.getDerivedStateFromProps;P=typeof I=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,P||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||j!==p)&&ed(t,f,o,p),Er=!1;var D=t.memoizedState;f.state=D,Ya(t,o,f,c),Wa(),j=t.memoizedState,v||D!==j||Er?(typeof I=="function"&&(jc(t,r,I,o),j=t.memoizedState),(T=Er||Fh(t,r,T,o,D,j,p))?(P||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=j),f.props=o,f.state=j,f.context=p,o=T):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{f=t.stateNode,lc(e,t),p=t.memoizedProps,P=di(r,p),f.props=P,I=t.pendingProps,D=f.context,j=r.contextType,T=qi,typeof j=="object"&&j!==null&&(T=Ot(j)),v=r.getDerivedStateFromProps,(j=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==I||D!==T)&&ed(t,f,o,T),Er=!1,D=t.memoizedState,f.state=D,Ya(t,o,f,c),Wa();var N=t.memoizedState;p!==I||D!==N||Er||e!==null&&e.dependencies!==null&&ro(e.dependencies)?(typeof v=="function"&&(jc(t,r,v,o),N=t.memoizedState),(P=Er||Fh(t,r,P,o,D,N,T)||e!==null&&e.dependencies!==null&&ro(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,N,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,N,T)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=N),f.props=o,f.state=N,f.context=T,o=P):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),o=!1)}return f=o,Eo(e,t),o=(t.flags&128)!==0,f||o?(f=t.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&o?(t.child=fi(t,e.child,null,c),t.child=fi(t,null,r,c)):xt(e,t,r,c),t.memoizedState=f.state,e=t.child):e=Zn(e,t,c),e}function gd(e,t,r,o){return ai(),t.flags|=256,xt(e,t,r,o),t.child}var Bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zc(e){return{baseLanes:e,cachePool:ih()}}function Lc(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=on),e}function md(e,t,r){var o=t.pendingProps,c=!1,f=(t.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(lt.current&2)!==0),p&&(c=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Me){if(c?Ar(t):Rr(),(e=Xe)?(e=wp(e,gn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:br!==null?{id:zn,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},r=Jf(e),r.return=t,t.child=r,Rt=t,Xe=null)):e=null,e===null)throw Sr(t);return _u(e)?t.lanes=32:t.lanes=536870912,null}var v=o.children;return o=o.fallback,c?(Rr(),c=t.mode,v=wo({mode:"hidden",children:v},c),o=ii(o,c,r,null),v.return=t,o.return=t,v.sibling=o,t.child=v,o=t.child,o.memoizedState=zc(r),o.childLanes=Lc(e,p,r),t.memoizedState=Bc,Za(null,o)):(Ar(t),qc(t,v))}var T=e.memoizedState;if(T!==null&&(v=T.dehydrated,v!==null)){if(f)t.flags&256?(Ar(t),t.flags&=-257,t=Pc(e,t,r)):t.memoizedState!==null?(Rr(),t.child=e.child,t.flags|=128,t=null):(Rr(),v=o.fallback,c=t.mode,o=wo({mode:"visible",children:o.children},c),v=ii(v,c,r,null),v.flags|=2,o.return=t,v.return=t,o.sibling=v,t.child=o,fi(t,e.child,null,r),o=t.child,o.memoizedState=zc(r),o.childLanes=Lc(e,p,r),t.memoizedState=Bc,t=Za(null,o));else if(Ar(t),_u(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var j=p.dgst;p=j,o=Error(s(419)),o.stack="",o.digest=p,Pa({value:o,source:null,stack:null}),t=Pc(e,t,r)}else if(gt||Ii(e,t,r,!1),p=(r&e.childLanes)!==0,gt||p){if(p=Ke,p!==null&&(o=Se(p,r),o!==0&&o!==T.retryLane))throw T.retryLane=o,ri(e,o),Xt(p,e,o),Mc;bu(v)||Uo(),t=Pc(e,t,r)}else bu(v)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Xe=vn(v.nextSibling),Rt=t,Me=!0,_r=null,gn=!1,e!==null&&Zf(t,e),t=qc(t,o.children),t.flags|=4096);return t}return c?(Rr(),v=o.fallback,c=t.mode,T=e.child,j=T.sibling,o=Wn(T,{mode:"hidden",children:o.children}),o.subtreeFlags=T.subtreeFlags&65011712,j!==null?v=Wn(j,v):(v=ii(v,c,r,null),v.flags|=2),v.return=t,o.return=t,o.sibling=v,t.child=o,Za(null,o),o=t.child,v=e.child.memoizedState,v===null?v=zc(r):(c=v.cachePool,c!==null?(T=dt._currentValue,c=c.parent!==T?{parent:T,pool:T}:c):c=ih(),v={baseLanes:v.baseLanes|r,cachePool:c}),o.memoizedState=v,o.childLanes=Lc(e,p,r),t.memoizedState=Bc,Za(e.child,o)):(Ar(t),r=e.child,e=r.sibling,r=Wn(r,{mode:"visible",children:o.children}),r.return=t,r.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=r,t.memoizedState=null,r)}function qc(e,t){return t=wo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function wo(e,t){return e=nn(22,e,null,t),e.lanes=0,e}function Pc(e,t,r){return fi(t,e.child,null,r),e=qc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vd(e,t,r){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),tc(e.return,t,r)}function $c(e,t,r,o,c,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:c,treeForkCount:f}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=c,p.treeForkCount=f)}function yd(e,t,r){var o=t.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var p=lt.current,v=(p&2)!==0;if(v?(p=p&1|2,t.flags|=128):p&=1,K(lt,p),xt(e,t,o,r),o=Me?qa:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vd(e,r,t);else if(e.tag===19)vd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=t.child,c=null;r!==null;)e=r.alternate,e!==null&&fo(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=t.child,t.child=null):(c=r.sibling,r.sibling=null),$c(t,!1,c,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&fo(e)===null){t.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}$c(t,!0,r,null,f,o);break;case"together":$c(t,!1,null,null,void 0,o);break;default:t.memoizedState=null}return t.child}function Zn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),kr|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(Ii(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=Wn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Hc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ro(e)))}function Wv(e,t,r){switch(t.tag){case 3:Je(t,t.stateNode.containerInfo),Tr(t,dt,e.memoizedState.cache),ai();break;case 27:case 5:Sn(t);break;case 4:Je(t,t.stateNode.containerInfo);break;case 10:Tr(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,dc(t),null;break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(Ar(t),t.flags|=128,null):(r&t.child.childLanes)!==0?md(e,t,r):(Ar(t),e=Zn(e,t,r),e!==null?e.sibling:null);Ar(t);break;case 19:var c=(e.flags&128)!==0;if(o=(r&t.childLanes)!==0,o||(Ii(e,t,r,!1),o=(r&t.childLanes)!==0),c){if(o)return yd(e,t,r);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),K(lt,lt.current),o)break;return null;case 22:return t.lanes=0,ud(e,t,r,t.pendingProps);case 24:Tr(t,dt,e.memoizedState.cache)}return Zn(e,t,r)}function bd(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)gt=!0;else{if(!Hc(e,r)&&(t.flags&128)===0)return gt=!1,Wv(e,t,r);gt=(e.flags&131072)!==0}else gt=!1,Me&&(t.flags&1048576)!==0&&Xf(t,qa,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=ci(t.elementType),t.type=e,typeof e=="function")Yl(e)?(o=di(e,o),t.tag=1,t=pd(null,t,e,o,r)):(t.tag=0,t=Nc(null,t,e,o,r));else{if(e!=null){var c=e.$$typeof;if(c===Y){t.tag=11,t=od(null,t,e,o,r);break e}else if(c===re){t.tag=14,t=ld(null,t,e,o,r);break e}}throw t=It(e)||e,Error(s(306,t,""))}}return t;case 0:return Nc(e,t,t.type,t.pendingProps,r);case 1:return o=t.type,c=di(o,t.pendingProps),pd(e,t,o,c,r);case 3:e:{if(Je(t,t.stateNode.containerInfo),e===null)throw Error(s(387));o=t.pendingProps;var f=t.memoizedState;c=f.element,lc(e,t),Ya(t,o,null,r);var p=t.memoizedState;if(o=p.cache,Tr(t,dt,o),o!==f.cache&&nc(t,[dt],r,!0),Wa(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=gd(e,t,o,r);break e}else if(o!==c){c=hn(Error(s(424)),t),Pa(c),t=gd(e,t,o,r);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Xe=vn(e.firstChild),Rt=t,Me=!0,_r=null,gn=!0,r=uh(t,null,o,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ai(),o===c){t=Zn(e,t,r);break e}xt(e,t,o,r)}t=t.child}return t;case 26:return Eo(e,t),e===null?(r=kp(t.type,null,t.pendingProps,null))?t.memoizedState=r:Me||(r=t.type,e=t.pendingProps,o=Po(Ce.current).createElement(r),o[ft]=t,o[At]=e,kt(o,r,e),ht(o),t.stateNode=o):t.memoizedState=kp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Sn(t),e===null&&Me&&(o=t.stateNode=Rp(t.type,t.pendingProps,Ce.current),Rt=t,gn=!0,c=Xe,Nr(t.type)?(Su=c,Xe=vn(o.firstChild)):Xe=c),xt(e,t,t.pendingProps.children,r),Eo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Me&&((c=o=Xe)&&(o=Ty(o,t.type,t.pendingProps,gn),o!==null?(t.stateNode=o,Rt=t,Xe=vn(o.firstChild),gn=!1,c=!0):c=!1),c||Sr(t)),Sn(t),c=t.type,f=t.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,mu(c,f)?o=null:p!==null&&mu(c,p)&&(t.flags|=32),t.memoizedState!==null&&(c=gc(e,t,zv,null,null,r),ds._currentValue=c),Eo(e,t),xt(e,t,o,r),t.child;case 6:return e===null&&Me&&((e=r=Xe)&&(r=Ey(r,t.pendingProps,gn),r!==null?(t.stateNode=r,Rt=t,Xe=null,e=!0):e=!1),e||Sr(t)),null;case 13:return md(e,t,r);case 4:return Je(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=fi(t,null,o,r):xt(e,t,o,r),t.child;case 11:return od(e,t,t.type,t.pendingProps,r);case 7:return xt(e,t,t.pendingProps,r),t.child;case 8:return xt(e,t,t.pendingProps.children,r),t.child;case 12:return xt(e,t,t.pendingProps.children,r),t.child;case 10:return o=t.pendingProps,Tr(t,t.type,o.value),xt(e,t,o.children,r),t.child;case 9:return c=t.type._context,o=t.pendingProps.children,oi(t),c=Ot(c),o=o(c),t.flags|=1,xt(e,t,o,r),t.child;case 14:return ld(e,t,t.type,t.pendingProps,r);case 15:return cd(e,t,t.type,t.pendingProps,r);case 19:return yd(e,t,r);case 31:return Vv(e,t,r);case 22:return ud(e,t,r,t.pendingProps);case 24:return oi(t),o=Ot(dt),e===null?(c=ac(),c===null&&(c=Ke,f=rc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),t.memoizedState={parent:o,cache:c},oc(t),Tr(t,dt,c)):((e.lanes&r)!==0&&(lc(e,t),Ya(t,null,null,r),Wa()),c=e.memoizedState,f=t.memoizedState,c.parent!==o?(c={parent:o,cache:o},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Tr(t,dt,o)):(o=f.cache,Tr(t,dt,o),o!==c.cache&&nc(t,[dt],r,!0))),xt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Fn(e){e.flags|=4}function Ic(e,t,r,o,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Wd())e.flags|=8192;else throw ui=oo,sc}else e.flags&=-16777217}function _d(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Np(t))if(Wd())e.flags|=8192;else throw ui=oo,sc}function Co(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ls():536870912,e.lanes|=t,ta|=t)}function Fa(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(t)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=r,t}function Yv(e,t,r){var o=t.pendingProps;switch(Xl(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return Ze(t),null;case 3:return r=t.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),Jn(dt),Fe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Hi(t)?Fn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Fl())),Ze(t),null;case 26:var c=t.type,f=t.memoizedState;return e===null?(Fn(t),f!==null?(Ze(t),_d(t,f)):(Ze(t),Ic(t,c,null,o,r))):f?f!==e.memoizedState?(Fn(t),Ze(t),_d(t,f)):(Ze(t),t.flags&=-16777217):(e=e.memoizedProps,e!==o&&Fn(t),Ze(t),Ic(t,c,e,o,r)),null;case 27:if(kn(t),r=Ce.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Fn(t);else{if(!o){if(t.stateNode===null)throw Error(s(166));return Ze(t),null}e=ne.current,Hi(t)?Ff(t):(e=Rp(c,o,r),t.stateNode=e,Fn(t))}return Ze(t),null;case 5:if(kn(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Fn(t);else{if(!o){if(t.stateNode===null)throw Error(s(166));return Ze(t),null}if(f=ne.current,Hi(t))Ff(t);else{var p=Po(Ce.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(c,{is:o.is}):p.createElement(c)}}f[ft]=t,f[At]=o;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=f;e:switch(kt(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Fn(t)}}return Ze(t),Ic(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==o&&Fn(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(s(166));if(e=Ce.current,Hi(t)){if(e=t.stateNode,r=t.memoizedProps,o=null,c=Rt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[ft]=t,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||mp(e.nodeValue,r)),e||Sr(t,!0)}else e=Po(e).createTextNode(o),e[ft]=t,t.stateNode=e}return Ze(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(o=Hi(t),r!==null){if(e===null){if(!o)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ft]=t}else ai(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ze(t),e=!1}else r=Fl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(an(t),t):(an(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Ze(t),null;case 13:if(o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Hi(t),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ft]=t}else ai(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ze(t),c=!1}else c=Fl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(an(t),t):(an(t),null)}return an(t),(t.flags&128)!==0?(t.lanes=r,t):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=t.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),Co(t,t.updateQueue),Ze(t),null);case 4:return Fe(),e===null&&fu(t.stateNode.containerInfo),Ze(t),null;case 10:return Jn(t.type),Ze(t),null;case 19:if(H(lt),o=t.memoizedState,o===null)return Ze(t),null;if(c=(t.flags&128)!==0,f=o.rendering,f===null)if(c)Fa(o,!1);else{if(st!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=fo(e),f!==null){for(t.flags|=128,Fa(o,!1),e=f.updateQueue,t.updateQueue=e,Co(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)Kf(r,e),r=r.sibling;return K(lt,lt.current&1|2),Me&&Yn(t,o.treeForkCount),t.child}e=e.sibling}o.tail!==null&&zt()>ko&&(t.flags|=128,c=!0,Fa(o,!1),t.lanes=4194304)}else{if(!c)if(e=fo(f),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Co(t,e),Fa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Me)return Ze(t),null}else 2*zt()-o.renderingStartTime>ko&&r!==536870912&&(t.flags|=128,c=!0,Fa(o,!1),t.lanes=4194304);o.isBackwards?(f.sibling=t.child,t.child=f):(e=o.last,e!==null?e.sibling=f:t.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=zt(),e.sibling=null,r=lt.current,K(lt,c?r&1|2:r&1),Me&&Yn(t,o.treeForkCount),e):(Ze(t),null);case 22:case 23:return an(t),hc(),o=t.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?(r&536870912)!==0&&(t.flags&128)===0&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),r=t.updateQueue,r!==null&&Co(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==r&&(t.flags|=2048),e!==null&&H(li),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Jn(dt),Ze(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Kv(e,t){switch(Xl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jn(dt),Fe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return kn(t),null;case 31:if(t.memoizedState!==null){if(an(t),t.alternate===null)throw Error(s(340));ai()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(an(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));ai()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(lt),null;case 4:return Fe(),null;case 10:return Jn(t.type),null;case 22:case 23:return an(t),hc(),e!==null&&H(li),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Jn(dt),null;case 25:return null;default:return null}}function Sd(e,t){switch(Xl(t),t.tag){case 3:Jn(dt),Fe();break;case 26:case 27:case 5:kn(t);break;case 4:Fe();break;case 31:t.memoizedState!==null&&an(t);break;case 13:an(t);break;case 19:H(lt);break;case 10:Jn(t.type);break;case 22:case 23:an(t),hc(),e!==null&&H(li);break;case 24:Jn(dt)}}function es(e,t){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==c)}}catch(v){He(t,t.return,v)}}function Or(e,t,r){try{var o=t.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var p=o.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,c=t;var T=r,j=v;try{j()}catch(P){He(c,T,P)}}}o=o.next}while(o!==f)}}catch(P){He(t,t.return,P)}}function Td(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{hh(t,r)}catch(o){He(e,e.return,o)}}}function Ed(e,t,r){r.props=di(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){He(e,t,o)}}function ts(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(c){He(e,t,c)}}function qn(e,t){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(c){He(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){He(e,t,c)}else r.current=null}function wd(e){var t=e.type,r=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(c){He(e,e.return,c)}}function Gc(e,t,r){try{var o=e.stateNode;my(o,e.type,r,t),o[At]=t}catch(c){He(e,e.return,c)}}function Cd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Nr(e.type)||e.tag===4}function Vc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Nr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wc(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ue));else if(o!==4&&(o===27&&Nr(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Wc(e,t,r),e=e.sibling;e!==null;)Wc(e,t,r),e=e.sibling}function Ao(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(o!==4&&(o===27&&Nr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ao(e,t,r),e=e.sibling;e!==null;)Ao(e,t,r),e=e.sibling}function Ad(e){var t=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);kt(t,o,r),t[ft]=e,t[At]=r}catch(f){He(e,e.return,f)}}var er=!1,mt=!1,Yc=!1,Rd=typeof WeakSet=="function"?WeakSet:Set,Et=null;function Jv(e,t){if(e=e.containerInfo,pu=Yo,e=qf(e),Pl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,v=-1,T=-1,j=0,P=0,I=e,D=null;t:for(;;){for(var N;I!==r||c!==0&&I.nodeType!==3||(v=p+c),I!==f||o!==0&&I.nodeType!==3||(T=p+o),I.nodeType===3&&(p+=I.nodeValue.length),(N=I.firstChild)!==null;)D=I,I=N;for(;;){if(I===e)break t;if(D===r&&++j===c&&(v=p),D===f&&++P===o&&(T=p),(N=I.nextSibling)!==null)break;I=D,D=I.parentNode}I=N}r=v===-1||T===-1?null:{start:v,end:T}}else r=null}r=r||{start:0,end:0}}else r=null;for(gu={focusedElem:e,selectionRange:r},Yo=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=t,c=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ae=di(r.type,c);e=o.getSnapshotBeforeUpdate(ae,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(me){He(r,r.return,me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)yu(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}}function Od(e,t,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:nr(e,r),o&4&&es(5,r);break;case 1:if(nr(e,r),o&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(p){He(r,r.return,p)}else{var c=di(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){He(r,r.return,p)}}o&64&&Td(r),o&512&&ts(r,r.return);break;case 3:if(nr(e,r),o&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{hh(e,t)}catch(p){He(r,r.return,p)}}break;case 27:t===null&&o&4&&Ad(r);case 26:case 5:nr(e,r),t===null&&o&4&&wd(r),o&512&&ts(r,r.return);break;case 12:nr(e,r);break;case 31:nr(e,r),o&4&&jd(e,r);break;case 13:nr(e,r),o&4&&Dd(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=iy.bind(null,r),wy(e,r))));break;case 22:if(o=r.memoizedState!==null||er,!o){t=t!==null&&t.memoizedState!==null||mt,c=er;var f=mt;er=o,(mt=t)&&!f?rr(e,r,(r.subtreeFlags&8772)!==0):nr(e,r),er=c,mt=f}break;case 30:break;default:nr(e,r)}}function xd(e){var t=e.alternate;t!==null&&(e.alternate=null,xd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&xa(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tt=null,Yt=!1;function tr(e,t,r){for(r=r.child;r!==null;)kd(e,t,r),r=r.sibling}function kd(e,t,r){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Yr,r)}catch{}switch(r.tag){case 26:mt||qn(r,t),tr(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:mt||qn(r,t);var o=tt,c=Yt;Nr(r.type)&&(tt=r.stateNode,Yt=!1),tr(e,t,r),us(r.stateNode),tt=o,Yt=c;break;case 5:mt||qn(r,t);case 6:if(o=tt,c=Yt,tt=null,tr(e,t,r),tt=o,Yt=c,tt!==null)if(Yt)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(r.stateNode)}catch(f){He(r,t,f)}else try{tt.removeChild(r.stateNode)}catch(f){He(r,t,f)}break;case 18:tt!==null&&(Yt?(e=tt,Tp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ca(e)):Tp(tt,r.stateNode));break;case 4:o=tt,c=Yt,tt=r.stateNode.containerInfo,Yt=!0,tr(e,t,r),tt=o,Yt=c;break;case 0:case 11:case 14:case 15:Or(2,r,t),mt||Or(4,r,t),tr(e,t,r);break;case 1:mt||(qn(r,t),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Ed(r,t,o)),tr(e,t,r);break;case 21:tr(e,t,r);break;case 22:mt=(o=mt)||r.memoizedState!==null,tr(e,t,r),mt=o;break;default:tr(e,t,r)}}function jd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ca(e)}catch(r){He(t,t.return,r)}}}function Dd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ca(e)}catch(r){He(t,t.return,r)}}function Qv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Rd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Rd),t;default:throw Error(s(435,e.tag))}}function Ro(e,t){var r=Qv(e);t.forEach(function(o){if(!r.has(o)){r.add(o);var c=ay.bind(null,e,o);o.then(c,c)}})}function Kt(e,t){var r=t.deletions;if(r!==null)for(var o=0;o<r.length;o++){var c=r[o],f=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 27:if(Nr(v.type)){tt=v.stateNode,Yt=!1;break e}break;case 5:tt=v.stateNode,Yt=!1;break e;case 3:case 4:tt=v.stateNode.containerInfo,Yt=!0;break e}v=v.return}if(tt===null)throw Error(s(160));kd(f,p,c),tt=null,Yt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ud(t,e),t=t.sibling}var An=null;function Ud(e,t){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kt(t,e),Jt(e),o&4&&(Or(3,e,e.return),es(3,e),Or(5,e,e.return));break;case 1:Kt(t,e),Jt(e),o&512&&(mt||r===null||qn(r,r.return)),o&64&&er&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var c=An;if(Kt(t,e),Jt(e),o&512&&(mt||r===null||qn(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){e:{o=e.type,r=e.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[hr]||f[ft]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),kt(f,o,r),f[ft]=e,ht(f),o=f;break e;case"link":var p=Up("link","href",c).get(o+(r.href||""));if(p){for(var v=0;v<p.length;v++)if(f=p[v],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(v,1);break t}}f=c.createElement(o),kt(f,o,r),c.head.appendChild(f);break;case"meta":if(p=Up("meta","content",c).get(o+(r.content||""))){for(v=0;v<p.length;v++)if(f=p[v],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(v,1);break t}}f=c.createElement(o),kt(f,o,r),c.head.appendChild(f);break;default:throw Error(s(468,o))}f[ft]=e,ht(f),o=f}e.stateNode=o}else Mp(c,e.type,e.stateNode);else e.stateNode=Dp(c,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?Mp(c,e.type,e.stateNode):Dp(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Gc(e,e.memoizedProps,r.memoizedProps)}break;case 27:Kt(t,e),Jt(e),o&512&&(mt||r===null||qn(r,r.return)),r!==null&&o&4&&Gc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Kt(t,e),Jt(e),o&512&&(mt||r===null||qn(r,r.return)),e.flags&32){c=e.stateNode;try{ee(c,"")}catch(ae){He(e,e.return,ae)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Gc(e,c,r!==null?r.memoizedProps:c)),o&1024&&(Yc=!0);break;case 6:if(Kt(t,e),Jt(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ae){He(e,e.return,ae)}}break;case 3:if(Io=null,c=An,An=$o(t.containerInfo),Kt(t,e),An=c,Jt(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ca(t.containerInfo)}catch(ae){He(e,e.return,ae)}Yc&&(Yc=!1,Md(e));break;case 4:o=An,An=$o(e.stateNode.containerInfo),Kt(t,e),Jt(e),An=o;break;case 12:Kt(t,e),Jt(e);break;case 31:Kt(t,e),Jt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ro(e,o)));break;case 13:Kt(t,e),Jt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(xo=zt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ro(e,o)));break;case 22:c=e.memoizedState!==null;var T=r!==null&&r.memoizedState!==null,j=er,P=mt;if(er=j||c,mt=P||T,Kt(t,e),mt=P,er=j,Jt(e),o&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(r===null||T||er||mt||pi(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){T=r=t;try{if(f=T.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=T.stateNode;var I=T.memoizedProps.style,D=I!=null&&I.hasOwnProperty("display")?I.display:null;v.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(ae){He(T,T.return,ae)}}}else if(t.tag===6){if(r===null){T=t;try{T.stateNode.nodeValue=c?"":T.memoizedProps}catch(ae){He(T,T.return,ae)}}}else if(t.tag===18){if(r===null){T=t;try{var N=T.stateNode;c?Ep(N,!0):Ep(T.stateNode,!1)}catch(ae){He(T,T.return,ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Ro(e,r))));break;case 19:Kt(t,e),Jt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ro(e,o)));break;case 30:break;case 21:break;default:Kt(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{for(var r,o=e.return;o!==null;){if(Cd(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=Vc(e);Ao(e,f,c);break;case 5:var p=r.stateNode;r.flags&32&&(ee(p,""),r.flags&=-33);var v=Vc(e);Ao(e,v,p);break;case 3:case 4:var T=r.stateNode.containerInfo,j=Vc(e);Wc(e,j,T);break;default:throw Error(s(161))}}catch(P){He(e,e.return,P)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Md(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Md(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function nr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Od(e,t.alternate,t),t=t.sibling}function pi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Or(4,t,t.return),pi(t);break;case 1:qn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&Ed(t,t.return,r),pi(t);break;case 27:us(t.stateNode);case 26:case 5:qn(t,t.return),pi(t);break;case 22:t.memoizedState===null&&pi(t);break;case 30:pi(t);break;default:pi(t)}e=e.sibling}}function rr(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,c=e,f=t,p=f.flags;switch(f.tag){case 0:case 11:case 15:rr(c,f,r),es(4,f);break;case 1:if(rr(c,f,r),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){He(o,o.return,j)}if(o=f,c=o.updateQueue,c!==null){var v=o.stateNode;try{var T=c.shared.hiddenCallbacks;if(T!==null)for(c.shared.hiddenCallbacks=null,c=0;c<T.length;c++)fh(T[c],v)}catch(j){He(o,o.return,j)}}r&&p&64&&Td(f),ts(f,f.return);break;case 27:Ad(f);case 26:case 5:rr(c,f,r),r&&o===null&&p&4&&wd(f),ts(f,f.return);break;case 12:rr(c,f,r);break;case 31:rr(c,f,r),r&&p&4&&jd(c,f);break;case 13:rr(c,f,r),r&&p&4&&Dd(c,f);break;case 22:f.memoizedState===null&&rr(c,f,r),ts(f,f.return);break;case 30:break;default:rr(c,f,r)}t=t.sibling}}function Kc(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&$a(r))}function Jc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$a(e))}function Rn(e,t,r,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nd(e,t,r,o),t=t.sibling}function Nd(e,t,r,o){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Rn(e,t,r,o),c&2048&&es(9,t);break;case 1:Rn(e,t,r,o);break;case 3:Rn(e,t,r,o),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$a(e)));break;case 12:if(c&2048){Rn(e,t,r,o),e=t.stateNode;try{var f=t.memoizedProps,p=f.id,v=f.onPostCommit;typeof v=="function"&&v(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){He(t,t.return,T)}}else Rn(e,t,r,o);break;case 31:Rn(e,t,r,o);break;case 13:Rn(e,t,r,o);break;case 23:break;case 22:f=t.stateNode,p=t.alternate,t.memoizedState!==null?f._visibility&2?Rn(e,t,r,o):ns(e,t):f._visibility&2?Rn(e,t,r,o):(f._visibility|=2,Zi(e,t,r,o,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Kc(p,t);break;case 24:Rn(e,t,r,o),c&2048&&Jc(t.alternate,t);break;default:Rn(e,t,r,o)}}function Zi(e,t,r,o,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,p=t,v=r,T=o,j=p.flags;switch(p.tag){case 0:case 11:case 15:Zi(f,p,v,T,c),es(8,p);break;case 23:break;case 22:var P=p.stateNode;p.memoizedState!==null?P._visibility&2?Zi(f,p,v,T,c):ns(f,p):(P._visibility|=2,Zi(f,p,v,T,c)),c&&j&2048&&Kc(p.alternate,p);break;case 24:Zi(f,p,v,T,c),c&&j&2048&&Jc(p.alternate,p);break;default:Zi(f,p,v,T,c)}t=t.sibling}}function ns(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,o=t,c=o.flags;switch(o.tag){case 22:ns(r,o),c&2048&&Kc(o.alternate,o);break;case 24:ns(r,o),c&2048&&Jc(o.alternate,o);break;default:ns(r,o)}t=t.sibling}}var rs=8192;function Fi(e,t,r){if(e.subtreeFlags&rs)for(e=e.child;e!==null;)Bd(e,t,r),e=e.sibling}function Bd(e,t,r){switch(e.tag){case 26:Fi(e,t,r),e.flags&rs&&e.memoizedState!==null&&By(r,An,e.memoizedState,e.memoizedProps);break;case 5:Fi(e,t,r);break;case 3:case 4:var o=An;An=$o(e.stateNode.containerInfo),Fi(e,t,r),An=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=rs,rs=16777216,Fi(e,t,r),rs=o):Fi(e,t,r));break;default:Fi(e,t,r)}}function zd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function is(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var o=t[r];Et=o,qd(o,e)}zd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ld(e),e=e.sibling}function Ld(e){switch(e.tag){case 0:case 11:case 15:is(e),e.flags&2048&&Or(9,e,e.return);break;case 3:is(e);break;case 12:is(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Oo(e)):is(e);break;default:is(e)}}function Oo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var o=t[r];Et=o,qd(o,e)}zd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Or(8,t,t.return),Oo(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Oo(t));break;default:Oo(t)}e=e.sibling}}function qd(e,t){for(;Et!==null;){var r=Et;switch(r.tag){case 0:case 11:case 15:Or(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:$a(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Et=o;else e:for(r=e;Et!==null;){o=Et;var c=o.sibling,f=o.return;if(xd(o),o===r){Et=null;break e}if(c!==null){c.return=f,Et=c;break e}Et=f}}}var Xv={getCacheForType:function(e){var t=Ot(dt),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Ot(dt).controller.signal}},Zv=typeof WeakMap=="function"?WeakMap:Map,Pe=0,Ke=null,ke=null,De=0,$e=0,sn=null,xr=!1,ea=!1,Qc=!1,ir=0,st=0,kr=0,gi=0,Xc=0,on=0,ta=0,as=null,Qt=null,Zc=!1,xo=0,Pd=0,ko=1/0,jo=null,jr=null,_t=0,Dr=null,na=null,ar=0,Fc=0,eu=null,$d=null,ss=0,tu=null;function ln(){return(Pe&2)!==0&&De!==0?De&-De:x.T!==null?ou():qt()}function Hd(){if(on===0)if((De&536870912)===0||Me){var e=Kr;Kr<<=1,(Kr&3932160)===0&&(Kr=262144),on=e}else on=536870912;return e=rn.current,e!==null&&(e.flags|=32),on}function Xt(e,t,r){(e===Ke&&($e===2||$e===9)||e.cancelPendingCommit!==null)&&(ra(e,0),Ur(e,De,on,!1)),$n(e,r),((Pe&2)===0||e!==Ke)&&(e===Ke&&((Pe&2)===0&&(gi|=r),st===4&&Ur(e,De,on,!1)),Pn(e))}function Id(e,t,r){if((Pe&6)!==0)throw Error(s(327));var o=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Tn(e,t),c=o?ty(e,t):ru(e,t,!0),f=o;do{if(c===0){ea&&!o&&Ur(e,t,0,!1);break}else{if(r=e.current.alternate,f&&!Fv(r)){c=ru(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var v=e;c=as;var T=v.current.memoizedState.isDehydrated;if(T&&(ra(v,p).flags|=256),p=ru(v,p,!1),p!==2){if(Qc&&!T){v.errorRecoveryDisabledLanes|=f,gi|=f,c=4;break e}f=Qt,Qt=c,f!==null&&(Qt===null?Qt=f:Qt.push.apply(Qt,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){ra(e,0),Ur(e,t,0,!0);break}e:{switch(o=e,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Ur(o,t,on,!xr);break e;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(c=xo+300-zt(),10<c)){if(Ur(o,t,on,!xr),ur(o,0,!0)!==0)break e;ar=t,o.timeoutHandle=_p(Gd.bind(null,o,r,Qt,jo,Zc,t,on,gi,ta,xr,f,"Throttled",-0,0),c);break e}Gd(o,r,Qt,jo,Zc,t,on,gi,ta,xr,f,null,-0,0)}}break}while(!0);Pn(e)}function Gd(e,t,r,o,c,f,p,v,T,j,P,I,D,N){if(e.timeoutHandle=-1,I=t.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ue},Bd(t,f,I);var ae=(f&62914560)===f?xo-zt():(f&4194048)===f?Pd-zt():0;if(ae=zy(I,ae),ae!==null){ar=f,e.cancelPendingCommit=ae(Zd.bind(null,e,t,f,r,o,c,p,v,T,P,I,null,D,N)),Ur(e,f,p,!j);return}}Zd(e,t,f,r,o,c,p,v,T)}function Fv(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var c=r[o],f=c.getSnapshot;c=c.value;try{if(!tn(f(),c))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ur(e,t,r,o){t&=~Xc,t&=~gi,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var c=t;0<c;){var f=31-Lt(c),p=1<<f;o[f]=-1,c&=~p}r!==0&&qs(e,r,t)}function Do(){return(Pe&6)===0?(os(0),!1):!0}function nu(){if(ke!==null){if($e===0)var e=ke.return;else e=ke,Kn=si=null,yc(e),Yi=null,Ia=0,e=ke;for(;e!==null;)Sd(e.alternate,e),e=e.return;ke=null}}function ra(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,by(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ar=0,nu(),Ke=e,ke=r=Wn(e.current,null),De=t,$e=0,sn=null,xr=!1,ea=Tn(e,t),Qc=!1,ta=on=Xc=gi=kr=st=0,Qt=as=null,Zc=!1,(t&8)!==0&&(t|=t&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=t;0<o;){var c=31-Lt(o),f=1<<c;t|=e[c],o&=~f}return ir=t,Zs(),r}function Vd(e,t){we=null,x.H=Xa,t===Wi||t===so?(t=oh(),$e=3):t===sc?(t=oh(),$e=4):$e=t===Mc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,sn=t,ke===null&&(st=1,So(e,hn(t,e.current)))}function Wd(){var e=rn.current;return e===null?!0:(De&4194048)===De?mn===null:(De&62914560)===De||(De&536870912)!==0?e===mn:!1}function Yd(){var e=x.H;return x.H=Xa,e===null?Xa:e}function Kd(){var e=x.A;return x.A=Xv,e}function Uo(){st=4,xr||(De&4194048)!==De&&rn.current!==null||(ea=!0),(kr&134217727)===0&&(gi&134217727)===0||Ke===null||Ur(Ke,De,on,!1)}function ru(e,t,r){var o=Pe;Pe|=2;var c=Yd(),f=Kd();(Ke!==e||De!==t)&&(jo=null,ra(e,t)),t=!1;var p=st;e:do try{if($e!==0&&ke!==null){var v=ke,T=sn;switch($e){case 8:nu(),p=6;break e;case 3:case 2:case 9:case 6:rn.current===null&&(t=!0);var j=$e;if($e=0,sn=null,ia(e,v,T,j),r&&ea){p=0;break e}break;default:j=$e,$e=0,sn=null,ia(e,v,T,j)}}ey(),p=st;break}catch(P){Vd(e,P)}while(!0);return t&&e.shellSuspendCounter++,Kn=si=null,Pe=o,x.H=c,x.A=f,ke===null&&(Ke=null,De=0,Zs()),p}function ey(){for(;ke!==null;)Jd(ke)}function ty(e,t){var r=Pe;Pe|=2;var o=Yd(),c=Kd();Ke!==e||De!==t?(jo=null,ko=zt()+500,ra(e,t)):ea=Tn(e,t);e:do try{if($e!==0&&ke!==null){t=ke;var f=sn;t:switch($e){case 1:$e=0,sn=null,ia(e,t,f,1);break;case 2:case 9:if(ah(f)){$e=0,sn=null,Qd(t);break}t=function(){$e!==2&&$e!==9||Ke!==e||($e=7),Pn(e)},f.then(t,t);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:ah(f)?($e=0,sn=null,Qd(t)):($e=0,sn=null,ia(e,t,f,7));break;case 5:var p=null;switch(ke.tag){case 26:p=ke.memoizedState;case 5:case 27:var v=ke;if(p?Np(p):v.stateNode.complete){$e=0,sn=null;var T=v.sibling;if(T!==null)ke=T;else{var j=v.return;j!==null?(ke=j,Mo(j)):ke=null}break t}}$e=0,sn=null,ia(e,t,f,5);break;case 6:$e=0,sn=null,ia(e,t,f,6);break;case 8:nu(),st=6;break e;default:throw Error(s(462))}}ny();break}catch(P){Vd(e,P)}while(!0);return Kn=si=null,x.H=o,x.A=c,Pe=r,ke!==null?0:(Ke=null,De=0,Zs(),st)}function ny(){for(;ke!==null&&!Cl();)Jd(ke)}function Jd(e){var t=bd(e.alternate,e,ir);e.memoizedProps=e.pendingProps,t===null?Mo(e):ke=t}function Qd(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=dd(r,t,t.pendingProps,t.type,void 0,De);break;case 11:t=dd(r,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:yc(t);default:Sd(r,t),t=ke=Kf(t,ir),t=bd(r,t,ir)}e.memoizedProps=e.pendingProps,t===null?Mo(e):ke=t}function ia(e,t,r,o){Kn=si=null,yc(t),Yi=null,Ia=0;var c=t.return;try{if(Gv(e,c,t,r,De)){st=1,So(e,hn(r,e.current)),ke=null;return}}catch(f){if(c!==null)throw ke=c,f;st=1,So(e,hn(r,e.current)),ke=null;return}t.flags&32768?(Me||o===1?e=!0:ea||(De&536870912)!==0?e=!1:(xr=e=!0,(o===2||o===9||o===3||o===6)&&(o=rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Xd(t,e)):Mo(t)}function Mo(e){var t=e;do{if((t.flags&32768)!==0){Xd(t,xr);return}e=t.return;var r=Yv(t.alternate,t,ir);if(r!==null){ke=r;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);st===0&&(st=5)}function Xd(e,t){do{var r=Kv(e.alternate,e);if(r!==null){r.flags&=32767,ke=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){ke=e;return}ke=e=r}while(e!==null);st=6,ke=null}function Zd(e,t,r,o,c,f,p,v,T){e.cancelPendingCommit=null;do No();while(_t!==0);if((Pe&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(f=t.lanes|t.childLanes,f|=Vl,fr(e,r,f,p,v,T),e===Ke&&(ke=Ke=null,De=0),na=t,Dr=e,ar=r,Fc=f,eu=c,$d=o,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sy(en,function(){return rp(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||o){o=x.T,x.T=null,c=G.p,G.p=2,p=Pe,Pe|=4;try{Jv(e,t,r)}finally{Pe=p,G.p=c,x.T=o}}_t=1,Fd(),ep(),tp()}}function Fd(){if(_t===1){_t=0;var e=Dr,t=na,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=x.T,x.T=null;var o=G.p;G.p=2;var c=Pe;Pe|=4;try{Ud(t,e);var f=gu,p=qf(e.containerInfo),v=f.focusedElem,T=f.selectionRange;if(p!==v&&v&&v.ownerDocument&&Lf(v.ownerDocument.documentElement,v)){if(T!==null&&Pl(v)){var j=T.start,P=T.end;if(P===void 0&&(P=j),"selectionStart"in v)v.selectionStart=j,v.selectionEnd=Math.min(P,v.value.length);else{var I=v.ownerDocument||document,D=I&&I.defaultView||window;if(D.getSelection){var N=D.getSelection(),ae=v.textContent.length,me=Math.min(T.start,ae),Ye=T.end===void 0?me:Math.min(T.end,ae);!N.extend&&me>Ye&&(p=Ye,Ye=me,me=p);var O=zf(v,me),A=zf(v,Ye);if(O&&A&&(N.rangeCount!==1||N.anchorNode!==O.node||N.anchorOffset!==O.offset||N.focusNode!==A.node||N.focusOffset!==A.offset)){var k=I.createRange();k.setStart(O.node,O.offset),N.removeAllRanges(),me>Ye?(N.addRange(k),N.extend(A.node,A.offset)):(k.setEnd(A.node,A.offset),N.addRange(k))}}}}for(I=[],N=v;N=N.parentNode;)N.nodeType===1&&I.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<I.length;v++){var $=I[v];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Yo=!!pu,gu=pu=null}finally{Pe=c,G.p=o,x.T=r}}e.current=t,_t=2}}function ep(){if(_t===2){_t=0;var e=Dr,t=na,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=x.T,x.T=null;var o=G.p;G.p=2;var c=Pe;Pe|=4;try{Od(e,t.alternate,t)}finally{Pe=c,G.p=o,x.T=r}}_t=3}}function tp(){if(_t===4||_t===3){_t=0,Al();var e=Dr,t=na,r=ar,o=$d;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?_t=5:(_t=0,na=Dr=null,np(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(jr=null),Oa(r),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Yr,t,void 0,(t.current.flags&128)===128)}catch{}if(o!==null){t=x.T,c=G.p,G.p=2,x.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var v=o[p];f(v.value,{componentStack:v.stack})}}finally{x.T=t,G.p=c}}(ar&3)!==0&&No(),Pn(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===tu?ss++:(ss=0,tu=e):ss=0,os(0)}}function np(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$a(t)))}function No(){return Fd(),ep(),tp(),rp()}function rp(){if(_t!==5)return!1;var e=Dr,t=Fc;Fc=0;var r=Oa(ar),o=x.T,c=G.p;try{G.p=32>r?32:r,x.T=null,r=eu,eu=null;var f=Dr,p=ar;if(_t=0,na=Dr=null,ar=0,(Pe&6)!==0)throw Error(s(331));var v=Pe;if(Pe|=4,Ld(f.current),Nd(f,f.current,p,r),Pe=v,os(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Yr,f)}catch{}return!0}finally{G.p=c,x.T=o,np(e,t)}}function ip(e,t,r){t=hn(r,t),t=Uc(e.stateNode,t,2),e=Cr(e,t,2),e!==null&&($n(e,2),Pn(e))}function He(e,t,r){if(e.tag===3)ip(e,e,r);else for(;t!==null;){if(t.tag===3){ip(t,e,r);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(jr===null||!jr.has(o))){e=hn(r,e),r=ad(2),o=Cr(t,r,2),o!==null&&(sd(r,o,t,e),$n(o,2),Pn(o));break}}t=t.return}}function iu(e,t,r){var o=e.pingCache;if(o===null){o=e.pingCache=new Zv;var c=new Set;o.set(t,c)}else c=o.get(t),c===void 0&&(c=new Set,o.set(t,c));c.has(r)||(Qc=!0,c.add(r),e=ry.bind(null,e,t,r),t.then(e,e))}function ry(e,t,r){var o=e.pingCache;o!==null&&o.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ke===e&&(De&r)===r&&(st===4||st===3&&(De&62914560)===De&&300>zt()-xo?(Pe&2)===0&&ra(e,0):Xc|=r,ta===De&&(ta=0)),Pn(e)}function ap(e,t){t===0&&(t=Ls()),e=ri(e,t),e!==null&&($n(e,t),Pn(e))}function iy(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ap(e,r)}function ay(e,t){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(t),ap(e,r)}function sy(e,t){return Vr(e,t)}var Bo=null,aa=null,au=!1,zo=!1,su=!1,Mr=0;function Pn(e){e!==aa&&e.next===null&&(aa===null?Bo=aa=e:aa=aa.next=e),zo=!0,au||(au=!0,ly())}function os(e,t){if(!su&&zo){su=!0;do for(var r=!1,o=Bo;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var p=o.suspendedLanes,v=o.pingedLanes;f=(1<<31-Lt(42|e)+1)-1,f&=c&~(p&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,cp(o,f))}else f=De,f=ur(o,o===Ke?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Tn(o,f)||(r=!0,cp(o,f));o=o.next}while(r);su=!1}}function oy(){sp()}function sp(){zo=au=!1;var e=0;Mr!==0&&yy()&&(e=Mr);for(var t=zt(),r=null,o=Bo;o!==null;){var c=o.next,f=op(o,t);f===0?(o.next=null,r===null?Bo=c:r.next=c,c===null&&(aa=r)):(r=o,(e!==0||(f&3)!==0)&&(zo=!0)),o=c}_t!==0&&_t!==5||os(e),Mr!==0&&(Mr=0)}function op(e,t){for(var r=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Lt(f),v=1<<p,T=c[p];T===-1?((v&r)===0||(v&o)!==0)&&(c[p]=Jr(v,t)):T<=t&&(e.expiredLanes|=v),f&=~v}if(t=Ke,r=De,r=ur(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===t&&($e===2||$e===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ca(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Tn(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(o!==null&&Ca(o),Oa(r)){case 2:case 8:r=Ns;break;case 32:r=en;break;case 268435456:r=Bs;break;default:r=en}return o=lp.bind(null,e),r=Vr(r,o),e.callbackPriority=t,e.callbackNode=r,t}return o!==null&&o!==null&&Ca(o),e.callbackPriority=2,e.callbackNode=null,2}function lp(e,t){if(_t!==0&&_t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(No()&&e.callbackNode!==r)return null;var o=De;return o=ur(e,e===Ke?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Id(e,o,t),op(e,zt()),e.callbackNode!=null&&e.callbackNode===r?lp.bind(null,e):null)}function cp(e,t){if(No())return null;Id(e,t,!0)}function ly(){_y(function(){(Pe&6)!==0?Vr(Ms,oy):sp()})}function ou(){if(Mr===0){var e=Gi;e===0&&(e=cr,cr<<=1,(cr&261888)===0&&(cr=256)),Mr=e}return Mr}function up(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:te(""+e)}function fp(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function cy(e,t,r,o,c){if(t==="submit"&&r&&r.stateNode===c){var f=up((c[At]||null).action),p=o.submitter;p&&(t=(t=p[At]||null)?up(t.formAction):p.getAttribute("formAction"),t!==null&&(f=t,p=null));var v=new Ks("action","action",null,o,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Mr!==0){var T=p?fp(c,p):new FormData(c);Rc(r,{pending:!0,data:T,method:c.method,action:f},null,T)}}else typeof f=="function"&&(v.preventDefault(),T=p?fp(c,p):new FormData(c),Rc(r,{pending:!0,data:T,method:c.method,action:f},f,T))},currentTarget:c}]})}}for(var lu=0;lu<Gl.length;lu++){var cu=Gl[lu],uy=cu.toLowerCase(),fy=cu[0].toUpperCase()+cu.slice(1);Cn(uy,"on"+fy)}Cn(Hf,"onAnimationEnd"),Cn(If,"onAnimationIteration"),Cn(Gf,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(Rv,"onTransitionRun"),Cn(Ov,"onTransitionStart"),Cn(xv,"onTransitionCancel"),Cn(Vf,"onTransitionEnd"),Ut("onMouseEnter",["mouseout","mouseover"]),Ut("onMouseLeave",["mouseout","mouseover"]),Ut("onPointerEnter",["pointerout","pointerover"]),Ut("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ls));function hp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],c=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var p=o.length-1;0<=p;p--){var v=o[p],T=v.instance,j=v.currentTarget;if(v=v.listener,T!==f&&c.isPropagationStopped())break e;f=v,c.currentTarget=j;try{f(c)}catch(P){Xs(P)}c.currentTarget=null,f=T}else for(p=0;p<o.length;p++){if(v=o[p],T=v.instance,j=v.currentTarget,v=v.listener,T!==f&&c.isPropagationStopped())break e;f=v,c.currentTarget=j;try{f(c)}catch(P){Xs(P)}c.currentTarget=null,f=T}}}}function je(e,t){var r=t[Di];r===void 0&&(r=t[Di]=new Set);var o=e+"__bubble";r.has(o)||(dp(t,e,2,!1),r.add(o))}function uu(e,t,r){var o=0;t&&(o|=4),dp(r,e,o,t)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function fu(e){if(!e[Lo]){e[Lo]=!0,Is.forEach(function(r){r!=="selectionchange"&&(hy.has(r)||uu(r,!1,e),uu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lo]||(t[Lo]=!0,uu("selectionchange",!1,t))}}function dp(e,t,r,o){switch(Hp(t)){case 2:var c=Py;break;case 8:c=$y;break;default:c=Au}r=c.bind(null,t,r,e),c=void 0,!Xr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(t,r,{capture:!0,passive:c}):e.addEventListener(t,r,!0):c!==void 0?e.addEventListener(t,r,{passive:c}):e.addEventListener(t,r,!1)}function hu(e,t,r,o,c){var f=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var v=o.stateNode.containerInfo;if(v===c)break;if(p===4)for(p=o.return;p!==null;){var T=p.tag;if((T===3||T===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;v!==null;){if(p=dr(v),p===null)return;if(T=p.tag,T===5||T===6||T===26||T===27){o=f=p;continue e}v=v.parentNode}}o=o.return}ja(function(){var j=f,P=se(r),I=[];e:{var D=Wf.get(e);if(D!==void 0){var N=Ks,ae=e;switch(e){case"keypress":if(Fr(r)===0)break e;case"keydown":case"keyup":N=av;break;case"focusin":ae="focus",N=Nl;break;case"focusout":ae="blur",N=Nl;break;case"beforeblur":case"afterblur":N=Nl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Ym;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=lv;break;case Hf:case If:case Gf:N=Qm;break;case Vf:N=uv;break;case"scroll":case"scrollend":N=Vm;break;case"wheel":N=hv;break;case"copy":case"cut":case"paste":N=Zm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Ef;break;case"toggle":case"beforetoggle":N=pv}var me=(t&4)!==0,Ye=!me&&(e==="scroll"||e==="scrollend"),O=me?D!==null?D+"Capture":null:D;me=[];for(var A=j,k;A!==null;){var $=A;if(k=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||k===null||O===null||($=yr(A,O),$!=null&&me.push(cs(A,$,k))),Ye)break;A=A.return}0<me.length&&(D=new N(D,ae,null,r,P),I.push({event:D,listeners:me}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",D&&r!==et&&(ae=r.relatedTarget||r.fromElement)&&(dr(ae)||ae[Hn]))break e;if((N||D)&&(D=P.window===P?P:(D=P.ownerDocument)?D.defaultView||D.parentWindow:window,N?(ae=r.relatedTarget||r.toElement,N=j,ae=ae?dr(ae):null,ae!==null&&(Ye=u(ae),me=ae.tag,ae!==Ye||me!==5&&me!==27&&me!==6)&&(ae=null)):(N=null,ae=j),N!==ae)){if(me=Sf,$="onMouseLeave",O="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(me=Ef,$="onPointerLeave",O="onPointerEnter",A="pointer"),Ye=N==null?D:Qr(N),k=ae==null?D:Qr(ae),D=new me($,A+"leave",N,r,P),D.target=Ye,D.relatedTarget=k,$=null,dr(P)===j&&(me=new me(O,A+"enter",ae,r,P),me.target=k,me.relatedTarget=Ye,$=me),Ye=$,N&&ae)t:{for(me=dy,O=N,A=ae,k=0,$=O;$;$=me($))k++;$=0;for(var pe=A;pe;pe=me(pe))$++;for(;0<k-$;)O=me(O),k--;for(;0<$-k;)A=me(A),$--;for(;k--;){if(O===A||A!==null&&O===A.alternate){me=O;break t}O=me(O),A=me(A)}me=null}else me=null;N!==null&&pp(I,D,N,me,!1),ae!==null&&Ye!==null&&pp(I,Ye,ae,me,!0)}}e:{if(D=j?Qr(j):window,N=D.nodeName&&D.nodeName.toLowerCase(),N==="select"||N==="input"&&D.type==="file")var ze=jf;else if(xf(D))if(Df)ze=wv;else{ze=Tv;var fe=Sv}else N=D.nodeName,!N||N.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?j&&Be(j.elementType)&&(ze=jf):ze=Ev;if(ze&&(ze=ze(e,j))){kf(I,ze,r,P);break e}fe&&fe(e,D,j),e==="focusout"&&j&&D.type==="number"&&j.memoizedProps.value!=null&&U(D,"number",D.value)}switch(fe=j?Qr(j):window,e){case"focusin":(xf(fe)||fe.contentEditable==="true")&&(Bi=fe,$l=j,La=null);break;case"focusout":La=$l=Bi=null;break;case"mousedown":Hl=!0;break;case"contextmenu":case"mouseup":case"dragend":Hl=!1,Pf(I,r,P);break;case"selectionchange":if(Av)break;case"keydown":case"keyup":Pf(I,r,P)}var Re;if(zl)e:{switch(e){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ni?Rf(e,r)&&(Ue="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ue="onCompositionStart");Ue&&(wf&&r.locale!=="ko"&&(Ni||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ni&&(Re=Vn()):(Bn=P,F="value"in Bn?Bn.value:Bn.textContent,Ni=!0)),fe=qo(j,Ue),0<fe.length&&(Ue=new Tf(Ue,e,null,r,P),I.push({event:Ue,listeners:fe}),Re?Ue.data=Re:(Re=Of(r),Re!==null&&(Ue.data=Re)))),(Re=mv?vv(e,r):yv(e,r))&&(Ue=qo(j,"onBeforeInput"),0<Ue.length&&(fe=new Tf("onBeforeInput","beforeinput",null,r,P),I.push({event:fe,listeners:Ue}),fe.data=Re)),cy(I,e,j,r,P)}hp(I,t)})}function cs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qo(e,t){for(var r=t+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=yr(e,r),c!=null&&o.unshift(cs(e,c,f)),c=yr(e,t),c!=null&&o.push(cs(e,c,f))),e.tag===3)return o;e=e.return}return[]}function dy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pp(e,t,r,o,c){for(var f=t._reactName,p=[];r!==null&&r!==o;){var v=r,T=v.alternate,j=v.stateNode;if(v=v.tag,T!==null&&T===o)break;v!==5&&v!==26&&v!==27||j===null||(T=j,c?(j=yr(r,f),j!=null&&p.unshift(cs(r,j,T))):c||(j=yr(r,f),j!=null&&p.push(cs(r,j,T)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var py=/\r\n?/g,gy=/\u0000|\uFFFD/g;function gp(e){return(typeof e=="string"?e:""+e).replace(py,`
`).replace(gy,"")}function mp(e,t){return t=gp(t),gp(e)===t}function We(e,t,r,o,c,f){switch(r){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||ee(e,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&ee(e,""+o);break;case"className":Nn(e,"class",o);break;case"tabIndex":Nn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(e,r,o);break;case"style":Oe(e,o,f);break;case"data":if(t!=="object"){Nn(e,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=te(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(t!=="input"&&We(e,t,"name",c.name,c,null),We(e,t,"formEncType",c.formEncType,c,null),We(e,t,"formMethod",c.formMethod,c,null),We(e,t,"formTarget",c.formTarget,c,null)):(We(e,t,"encType",c.encType,c,null),We(e,t,"method",c.method,c,null),We(e,t,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=te(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=ue);break;case"onScroll":o!=null&&je("scroll",e);break;case"onScrollEnd":o!=null&&je("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=te(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":je("beforetoggle",e),je("toggle",e),Ui(e,"popover",o);break;case"xlinkActuate":En(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":En(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":En(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":En(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":En(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":En(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":En(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":En(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":En(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ui(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ae.get(r)||r,Ui(e,r,o))}}function du(e,t,r,o,c,f){switch(r){case"style":Oe(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?ee(e,o):(typeof o=="number"||typeof o=="bigint")&&ee(e,""+o);break;case"onScroll":o!=null&&je("scroll",e);break;case"onScrollEnd":o!=null&&je("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ue);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mr.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),t=r.slice(2,c?r.length-7:void 0),f=e[At]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,o,c);break e}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Ui(e,r,o)}}}function kt(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",e),je("load",e);var o=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:We(e,t,f,p,r,null)}}c&&We(e,t,"srcSet",r.srcSet,r,null),o&&We(e,t,"src",r.src,r,null);return;case"input":je("invalid",e);var v=f=p=c=null,T=null,j=null;for(o in r)if(r.hasOwnProperty(o)){var P=r[o];if(P!=null)switch(o){case"name":c=P;break;case"type":p=P;break;case"checked":T=P;break;case"defaultChecked":j=P;break;case"value":f=P;break;case"defaultValue":v=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,t));break;default:We(e,t,o,P,r,null)}}E(e,f,v,T,j,p,c,!1);return;case"select":je("invalid",e),o=p=f=null;for(c in r)if(r.hasOwnProperty(c)&&(v=r[c],v!=null))switch(c){case"value":f=v;break;case"defaultValue":p=v;break;case"multiple":o=v;default:We(e,t,c,v,r,null)}t=f,r=p,e.multiple=!!o,t!=null?z(e,!!o,t,!1):r!=null&&z(e,!!o,r,!0);return;case"textarea":je("invalid",e),f=c=o=null;for(p in r)if(r.hasOwnProperty(p)&&(v=r[p],v!=null))switch(p){case"value":o=v;break;case"defaultValue":c=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:We(e,t,p,v,r,null)}ie(e,o,c,f);return;case"option":for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null)&&(T==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":We(e,t,T,o,r,null));return;case"dialog":je("beforetoggle",e),je("toggle",e),je("cancel",e),je("close",e);break;case"iframe":case"object":je("load",e);break;case"video":case"audio":for(o=0;o<ls.length;o++)je(ls[o],e);break;case"image":je("error",e),je("load",e);break;case"details":je("toggle",e);break;case"embed":case"source":case"link":je("error",e),je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(o=r[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:We(e,t,j,o,r,null)}return;default:if(Be(t)){for(P in r)r.hasOwnProperty(P)&&(o=r[P],o!==void 0&&du(e,t,P,o,r,void 0));return}}for(v in r)r.hasOwnProperty(v)&&(o=r[v],o!=null&&We(e,t,v,o,r,null))}function my(e,t,r,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,v=null,T=null,j=null,P=null;for(N in r){var I=r[N];if(r.hasOwnProperty(N)&&I!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":T=I;default:o.hasOwnProperty(N)||We(e,t,N,null,o,I)}}for(var D in o){var N=o[D];if(I=r[D],o.hasOwnProperty(D)&&(N!=null||I!=null))switch(D){case"type":f=N;break;case"name":c=N;break;case"checked":j=N;break;case"defaultChecked":P=N;break;case"value":p=N;break;case"defaultValue":v=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(137,t));break;default:N!==I&&We(e,t,D,N,o,I)}}_(e,p,v,T,j,P,f,c);return;case"select":N=p=v=D=null;for(f in r)if(T=r[f],r.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":N=T;default:o.hasOwnProperty(f)||We(e,t,f,null,o,T)}for(c in o)if(f=o[c],T=r[c],o.hasOwnProperty(c)&&(f!=null||T!=null))switch(c){case"value":D=f;break;case"defaultValue":v=f;break;case"multiple":p=f;default:f!==T&&We(e,t,c,f,o,T)}t=v,r=p,o=N,D!=null?z(e,!!r,D,!1):!!o!=!!r&&(t!=null?z(e,!!r,t,!0):z(e,!!r,r?[]:"",!1));return;case"textarea":N=D=null;for(v in r)if(c=r[v],r.hasOwnProperty(v)&&c!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:We(e,t,v,null,o,c)}for(p in o)if(c=o[p],f=r[p],o.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":D=c;break;case"defaultValue":N=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&We(e,t,p,c,o,f)}X(e,D,N);return;case"option":for(var ae in r)D=r[ae],r.hasOwnProperty(ae)&&D!=null&&!o.hasOwnProperty(ae)&&(ae==="selected"?e.selected=!1:We(e,t,ae,null,o,D));for(T in o)D=o[T],N=r[T],o.hasOwnProperty(T)&&D!==N&&(D!=null||N!=null)&&(T==="selected"?e.selected=D&&typeof D!="function"&&typeof D!="symbol":We(e,t,T,D,o,N));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in r)D=r[me],r.hasOwnProperty(me)&&D!=null&&!o.hasOwnProperty(me)&&We(e,t,me,null,o,D);for(j in o)if(D=o[j],N=r[j],o.hasOwnProperty(j)&&D!==N&&(D!=null||N!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,t));break;default:We(e,t,j,D,o,N)}return;default:if(Be(t)){for(var Ye in r)D=r[Ye],r.hasOwnProperty(Ye)&&D!==void 0&&!o.hasOwnProperty(Ye)&&du(e,t,Ye,void 0,o,D);for(P in o)D=o[P],N=r[P],!o.hasOwnProperty(P)||D===N||D===void 0&&N===void 0||du(e,t,P,D,o,N);return}}for(var O in r)D=r[O],r.hasOwnProperty(O)&&D!=null&&!o.hasOwnProperty(O)&&We(e,t,O,null,o,D);for(I in o)D=o[I],N=r[I],!o.hasOwnProperty(I)||D===N||D==null&&N==null||We(e,t,I,D,o,N)}function vp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var c=r[o],f=c.transferSize,p=c.initiatorType,v=c.duration;if(f&&v&&vp(p)){for(p=0,v=c.responseEnd,o+=1;o<r.length;o++){var T=r[o],j=T.startTime;if(j>v)break;var P=T.transferSize,I=T.initiatorType;P&&vp(I)&&(T=T.responseEnd,p+=P*(T<v?1:(v-j)/(T-j)))}if(--o,t+=8*(f+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pu=null,gu=null;function Po(e){return e.nodeType===9?e:e.ownerDocument}function yp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function mu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vu=null;function yy(){var e=window.event;return e&&e.type==="popstate"?e===vu?!1:(vu=e,!0):(vu=null,!1)}var _p=typeof setTimeout=="function"?setTimeout:void 0,by=typeof clearTimeout=="function"?clearTimeout:void 0,Sp=typeof Promise=="function"?Promise:void 0,_y=typeof queueMicrotask=="function"?queueMicrotask:typeof Sp<"u"?function(e){return Sp.resolve(null).then(e).catch(Sy)}:_p;function Sy(e){setTimeout(function(){throw e})}function Nr(e){return e==="head"}function Tp(e,t){var r=t,o=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(c),ca(t);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")us(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,us(r);for(var f=r.firstChild;f;){var p=f.nextSibling,v=f.nodeName;f[hr]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&us(e.ownerDocument.body);r=c}while(r);ca(t)}function Ep(e,t){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function yu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":yu(r),xa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Ty(e,t,r,o){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=vn(e.nextSibling),e===null)break}return null}function Ey(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=vn(e.nextSibling),e===null))return null;return e}function wp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=vn(e.nextSibling),e===null))return null;return e}function bu(e){return e.data==="$?"||e.data==="$~"}function _u(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function wy(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var o=function(){t(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Su=null;function Cp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return vn(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Ap(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function Rp(e,t,r){switch(t=Po(r),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function us(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);xa(e)}var yn=new Map,Op=new Set;function $o(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sr=G.d;G.d={f:Cy,r:Ay,D:Ry,C:Oy,L:xy,m:ky,X:Dy,S:jy,M:Uy};function Cy(){var e=sr.f(),t=Do();return e||t}function Ay(e){var t=pr(e);t!==null&&t.tag===5&&t.type==="form"?Vh(t):sr.r(e)}var sa=typeof document>"u"?null:document;function xp(e,t,r){var o=sa;if(o&&typeof t=="string"&&t){var c=y(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Op.has(c)||(Op.add(c),e={rel:e,crossOrigin:r,href:t},o.querySelector(c)===null&&(t=o.createElement("link"),kt(t,"link",e),ht(t),o.head.appendChild(t)))}}function Ry(e){sr.D(e),xp("dns-prefetch",e,null)}function Oy(e,t){sr.C(e,t),xp("preconnect",e,t)}function xy(e,t,r){sr.L(e,t,r);var o=sa;if(o&&e&&t){var c='link[rel="preload"][as="'+y(t)+'"]';t==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+y(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+y(r.imageSizes)+'"]')):c+='[href="'+y(e)+'"]';var f=c;switch(t){case"style":f=oa(e);break;case"script":f=la(e)}yn.has(f)||(e=S({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),yn.set(f,e),o.querySelector(c)!==null||t==="style"&&o.querySelector(fs(f))||t==="script"&&o.querySelector(hs(f))||(t=o.createElement("link"),kt(t,"link",e),ht(t),o.head.appendChild(t)))}}function ky(e,t){sr.m(e,t);var r=sa;if(r&&e){var o=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+y(o)+'"][href="'+y(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=la(e)}if(!yn.has(f)&&(e=S({rel:"modulepreload",href:e},t),yn.set(f,e),r.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(hs(f)))return}o=r.createElement("link"),kt(o,"link",e),ht(o),r.head.appendChild(o)}}}function jy(e,t,r){sr.S(e,t,r);var o=sa;if(o&&e){var c=gr(o).hoistableStyles,f=oa(e);t=t||"default";var p=c.get(f);if(!p){var v={loading:0,preload:null};if(p=o.querySelector(fs(f)))v.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},r),(r=yn.get(f))&&Tu(e,r);var T=p=o.createElement("link");ht(T),kt(T,"link",e),T._p=new Promise(function(j,P){T.onload=j,T.onerror=P}),T.addEventListener("load",function(){v.loading|=1}),T.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Ho(p,t,o)}p={type:"stylesheet",instance:p,count:1,state:v},c.set(f,p)}}}function Dy(e,t){sr.X(e,t);var r=sa;if(r&&e){var o=gr(r).hoistableScripts,c=la(e),f=o.get(c);f||(f=r.querySelector(hs(c)),f||(e=S({src:e,async:!0},t),(t=yn.get(c))&&Eu(e,t),f=r.createElement("script"),ht(f),kt(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Uy(e,t){sr.M(e,t);var r=sa;if(r&&e){var o=gr(r).hoistableScripts,c=la(e),f=o.get(c);f||(f=r.querySelector(hs(c)),f||(e=S({src:e,async:!0,type:"module"},t),(t=yn.get(c))&&Eu(e,t),f=r.createElement("script"),ht(f),kt(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function kp(e,t,r,o){var c=(c=Ce.current)?$o(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=oa(r.href),r=gr(c).hoistableStyles,o=r.get(t),o||(o={type:"style",instance:null,count:0,state:null},r.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=oa(r.href);var f=gr(c).hoistableStyles,p=f.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=c.querySelector(fs(e)))&&!f._p&&(p.instance=f,p.state.loading=5),yn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},yn.set(e,r),f||My(c,e,r,p.state))),t&&o===null)throw Error(s(528,""));return p}if(t&&o!==null)throw Error(s(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=la(r),r=gr(c).hoistableScripts,o=r.get(t),o||(o={type:"script",instance:null,count:0,state:null},r.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function oa(e){return'href="'+y(e)+'"'}function fs(e){return'link[rel="stylesheet"]['+e+"]"}function jp(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function My(e,t,r,o){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=e.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),kt(t,"link",r),ht(t),e.head.appendChild(t))}function la(e){return'[src="'+y(e)+'"]'}function hs(e){return"script[async]"+e}function Dp(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+y(r.href)+'"]');if(o)return t.instance=o,ht(o),o;var c=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ht(o),kt(o,"style",c),Ho(o,r.precedence,e),t.instance=o;case"stylesheet":c=oa(r.href);var f=e.querySelector(fs(c));if(f)return t.state.loading|=4,t.instance=f,ht(f),f;o=jp(r),(c=yn.get(c))&&Tu(o,c),f=(e.ownerDocument||e).createElement("link"),ht(f);var p=f;return p._p=new Promise(function(v,T){p.onload=v,p.onerror=T}),kt(f,"link",o),t.state.loading|=4,Ho(f,r.precedence,e),t.instance=f;case"script":return f=la(r.src),(c=e.querySelector(hs(f)))?(t.instance=c,ht(c),c):(o=r,(c=yn.get(f))&&(o=S({},r),Eu(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),ht(c),kt(c,"link",o),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(o=t.instance,t.state.loading|=4,Ho(o,r.precedence,e));return t.instance}function Ho(e,t,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,p=0;p<o.length;p++){var v=o[p];if(v.dataset.precedence===t)f=v;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function Tu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Eu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Io=null;function Up(e,t,r){if(Io===null){var o=new Map,c=Io=new Map;c.set(r,o)}else c=Io,o=c.get(r),o||(o=new Map,c.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[hr]||f[ft]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(t)||"";p=e+p;var v=o.get(p);v?v.push(f):o.set(p,[f])}}return o}function Mp(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function Ny(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Np(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function By(e,t,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=oa(o.href),f=t.querySelector(fs(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Go.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=f,ht(f);return}f=t.ownerDocument||t,o=jp(o),(c=yn.get(c))&&Tu(o,c),f=f.createElement("link"),ht(f);var p=f;p._p=new Promise(function(v,T){p.onload=v,p.onerror=T}),kt(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Go.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var wu=0;function zy(e,t){return e.stylesheets&&e.count===0&&Wo(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Wo(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&wu===0&&(wu=62500*vy());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Wo(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>wu?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function Go(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vo=null;function Wo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vo=new Map,t.forEach(Ly,e),Vo=null,Go.call(e))}function Ly(e,t){if(!(t.state.loading&4)){var r=Vo.get(e);if(r)var o=r.get(null);else{r=new Map,Vo.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}c=t.instance,p=c.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,c),r.set(p,c),this.count++,o=Go.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var ds={$$typeof:B,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function qy(e,t,r,o,c,f,p,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.hiddenUpdates=ki(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Bp(e,t,r,o,c,f,p,v,T,j,P,I){return e=new qy(e,t,r,p,T,j,P,I,v),t=1,f===!0&&(t|=24),f=nn(3,null,null,t),e.current=f,f.stateNode=e,t=rc(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:t},oc(f),e}function zp(e){return e?(e=qi,e):qi}function Lp(e,t,r,o,c,f){c=zp(c),o.context===null?o.context=c:o.pendingContext=c,o=wr(t),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Cr(e,o,t),r!==null&&(Xt(r,e,t),Va(r,e,t))}function qp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Cu(e,t){qp(e,t),(e=e.alternate)&&qp(e,t)}function Pp(e){if(e.tag===13||e.tag===31){var t=ri(e,67108864);t!==null&&Xt(t,e,67108864),Cu(e,67108864)}}function $p(e){if(e.tag===13||e.tag===31){var t=ln();t=Ra(t);var r=ri(e,t);r!==null&&Xt(r,e,t),Cu(e,t)}}var Yo=!0;function Py(e,t,r,o){var c=x.T;x.T=null;var f=G.p;try{G.p=2,Au(e,t,r,o)}finally{G.p=f,x.T=c}}function $y(e,t,r,o){var c=x.T;x.T=null;var f=G.p;try{G.p=8,Au(e,t,r,o)}finally{G.p=f,x.T=c}}function Au(e,t,r,o){if(Yo){var c=Ru(o);if(c===null)hu(e,t,o,Ko,r),Ip(e,o);else if(Iy(c,e,t,r,o))o.stopPropagation();else if(Ip(e,o),t&4&&-1<Hy.indexOf(e)){for(;c!==null;){var f=pr(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Un(f.pendingLanes);if(p!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var T=1<<31-Lt(p);v.entanglements[1]|=T,p&=~T}Pn(f),(Pe&6)===0&&(ko=zt()+500,os(0))}}break;case 31:case 13:v=ri(f,2),v!==null&&Xt(v,f,2),Do(),Cu(f,2)}if(f=Ru(o),f===null&&hu(e,t,o,Ko,r),f===c)break;c=f}c!==null&&o.stopPropagation()}else hu(e,t,o,null,r)}}function Ru(e){return e=se(e),Ou(e)}var Ko=null;function Ou(e){if(Ko=null,e=dr(e),e!==null){var t=u(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=h(t),e!==null)return e;e=null}else if(r===31){if(e=d(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ko=e,null}function Hp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wr()){case Ms:return 2;case Ns:return 8;case en:case Rl:return 32;case Bs:return 268435456;default:return 32}default:return 32}}var xu=!1,Br=null,zr=null,Lr=null,ps=new Map,gs=new Map,qr=[],Hy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ip(e,t){switch(e){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":ps.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(t.pointerId)}}function ms(e,t,r,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},t!==null&&(t=pr(t),t!==null&&Pp(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Iy(e,t,r,o,c){switch(t){case"focusin":return Br=ms(Br,e,t,r,o,c),!0;case"dragenter":return zr=ms(zr,e,t,r,o,c),!0;case"mouseover":return Lr=ms(Lr,e,t,r,o,c),!0;case"pointerover":var f=c.pointerId;return ps.set(f,ms(ps.get(f)||null,e,t,r,o,c)),!0;case"gotpointercapture":return f=c.pointerId,gs.set(f,ms(gs.get(f)||null,e,t,r,o,c)),!0}return!1}function Gp(e){var t=dr(e.target);if(t!==null){var r=u(t);if(r!==null){if(t=r.tag,t===13){if(t=h(r),t!==null){e.blockedOn=t,ji(e.priority,function(){$p(r)});return}}else if(t===31){if(t=d(r),t!==null){e.blockedOn=t,ji(e.priority,function(){$p(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ru(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);et=o,r.target.dispatchEvent(o),et=null}else return t=pr(r),t!==null&&Pp(t),e.blockedOn=r,!1;t.shift()}return!0}function Vp(e,t,r){Jo(e)&&r.delete(t)}function Gy(){xu=!1,Br!==null&&Jo(Br)&&(Br=null),zr!==null&&Jo(zr)&&(zr=null),Lr!==null&&Jo(Lr)&&(Lr=null),ps.forEach(Vp),gs.forEach(Vp)}function Qo(e,t){e.blockedOn===t&&(e.blockedOn=null,xu||(xu=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Gy)))}var Xo=null;function Wp(e){Xo!==e&&(Xo=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Xo===e&&(Xo=null);for(var t=0;t<e.length;t+=3){var r=e[t],o=e[t+1],c=e[t+2];if(typeof o!="function"){if(Ou(o||r)===null)continue;break}var f=pr(r);f!==null&&(e.splice(t,3),t-=3,Rc(f,{pending:!0,data:c,method:r.method,action:o},o,c))}}))}function ca(e){function t(T){return Qo(T,e)}Br!==null&&Qo(Br,e),zr!==null&&Qo(zr,e),Lr!==null&&Qo(Lr,e),ps.forEach(t),gs.forEach(t);for(var r=0;r<qr.length;r++){var o=qr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<qr.length&&(r=qr[0],r.blockedOn===null);)Gp(r),r.blockedOn===null&&qr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],p=c[At]||null;if(typeof f=="function")p||Wp(r);else if(p){var v=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[At]||null)v=p.formAction;else if(Ou(c)!==null)continue}else v=p.action;typeof v=="function"?r[o+1]=v:(r.splice(o,3),o-=3),Wp(r)}}}function Yp(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function ku(e){this._internalRoot=e}Zo.prototype.render=ku.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var r=t.current,o=ln();Lp(r,o,e,t,null,null)},Zo.prototype.unmount=ku.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lp(e.current,2,null,e,null,null),Do(),t[Hn]=null}};function Zo(e){this._internalRoot=e}Zo.prototype.unstable_scheduleHydration=function(e){if(e){var t=qt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qr.length&&t!==0&&t<qr[r].priority;r++);qr.splice(r,0,e),r===0&&Gp(e)}};var Kp=n.version;if(Kp!=="19.2.4")throw Error(s(527,Kp,"19.2.4"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Vy={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fo.isDisabled&&Fo.supportsFiber)try{Yr=Fo.inject(Vy),bt=Fo}catch{}}return ys.createRoot=function(e,t){if(!l(e))throw Error(s(299));var r=!1,o="",c=td,f=nd,p=rd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Bp(e,1,!1,null,null,r,o,null,c,f,p,Yp),e[Hn]=t.current,fu(e),new ku(t)},ys.hydrateRoot=function(e,t,r){if(!l(e))throw Error(s(299));var o=!1,c="",f=td,p=nd,v=rd,T=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.formState!==void 0&&(T=r.formState)),t=Bp(e,1,!0,t,r??null,o,c,T,f,p,v,Yp),t.context=zp(null),r=t.current,o=ln(),o=Ra(o),c=wr(o),c.callback=null,Cr(r,c,o),r=o,t.current.lanes=r,$n(t,r),Pn(t),e[Hn]=t.current,fu(e),new Zo(t)},ys.version="19.2.4",ys}var ig;function nb(){if(ig)return Uu.exports;ig=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Uu.exports=tb(),Uu.exports}var rb=nb(),el={},bs={},ag={},sg;function ib(){return sg||(sg=1,(function(){var a={},n="";try{n=location.hash.toString()}catch{}var i=m(n),s=V("initParams");if(s)for(var l in s)typeof i[l]>"u"&&(i[l]=s[l]);W("initParams",i);var u=!1,h;try{if(u=window.parent!=null&&window!=window.parent,u){window.addEventListener("message",function(L){if(L.source===window.parent){try{var B=JSON.parse(L.data)}catch{return}if(!(!B||!B.eventType))if(B.eventType=="set_custom_style")L.origin==="https://web.telegram.org"&&(h.innerHTML=B.eventData);else if(B.eventType=="reload_iframe"){try{window.parent.postMessage(JSON.stringify({eventType:"iframe_will_reload"}),"*")}catch{}location.reload()}else w(B.eventType,B.eventData)}}),h=document.createElement("style"),document.head.appendChild(h);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready",eventData:{reload_supported:!0}}),"*")}catch{}}}catch{}function d(L){try{return L=L.replace(/\+/g,"%20"),decodeURIComponent(L)}catch{return L}}function m(L){L=L.replace(/^#/,"");var B={};if(!L.length)return B;if(L.indexOf("=")<0&&L.indexOf("?")<0)return B._path=d(L),B;var Y=L.indexOf("?");if(Y>=0){var ge=L.substr(0,Y);B._path=d(ge),L=L.substr(Y+1)}var de=g(L);for(var re in de)B[re]=de[re];return B}function g(L){var B={};if(!L.length)return B;var Y=L.split("&"),ge,de,re,qe;for(ge=0;ge<Y.length;ge++)de=Y[ge].split("="),re=d(de[0]),qe=de[1]==null?null:d(de[1]),B[re]=qe;return B}function b(L,B){var Y=L.indexOf("#");if(Y<0)return L+"#"+B;var ge=L.substr(Y+1);return ge.indexOf("=")>=0||ge.indexOf("?")>=0?L+"&"+B:ge.length>0?L+"?"+B:L+B}function S(L,B,Y){if(B||(B=function(){}),Y===void 0&&(Y=""),console.log("[Telegram.WebView] > postEvent",L,Y),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(L,JSON.stringify(Y)),B();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:L,eventData:Y})),B();else if(u)try{var ge="https://web.telegram.org";ge="*",window.parent.postMessage(JSON.stringify({eventType:L,eventData:Y}),ge),B()}catch(de){B(de)}else B({notAvailable:!0})}function w(L,B){console.log("[Telegram.WebView] < receiveEvent",L,B),R(L,function(Y){Y(L,B)})}function R(L,B){var Y=a[L];if(!(Y===void 0||!Y.length))for(var ge=0;ge<Y.length;ge++)try{B(Y[ge])}catch{}}function M(L,B){a[L]===void 0&&(a[L]=[]);var Y=a[L].indexOf(B);Y===-1&&a[L].push(B)}function q(L,B){if(a[L]!==void 0){var Y=a[L].indexOf(B);Y!==-1&&a[L].splice(Y,1)}}function W(L,B){try{return window.sessionStorage.setItem("__telegram__"+L,JSON.stringify(B)),!0}catch{}return!1}function V(L){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+L))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:i,isIframe:u,onEvent:M,offEvent:q,postEvent:S,receiveEvent:w,callEventCallbacks:R},window.Telegram.Utils={urlSafeDecode:d,urlParseQueryString:g,urlParseHashParams:m,urlAppendHashParams:b,sessionStorageSet:W,sessionStorageGet:V},window.TelegramGameProxy_receiveEvent=w,window.TelegramGameProxy={receiveEvent:w}})(),(function(){var a=window.Telegram.Utils,n=window.Telegram.WebView,i=n.initParams,s=n.isIframe,l={},u="",h={},d={},m="light",g="6.0",b="unknown",S=!0,w=!1,R=!1,M="bg_color",q="bg_color",W=null;if(i.tgWebAppData&&i.tgWebAppData.length){u=i.tgWebAppData,h=a.urlParseQueryString(u);for(var V in h){var L=h[V];try{(L.substr(0,1)=="{"&&L.substr(-1)=="}"||L.substr(0,1)=="["&&L.substr(-1)=="]")&&(h[V]=JSON.parse(L))}catch{}}}var B=a.sessionStorageGet("themeParams");if(i.tgWebAppThemeParams&&i.tgWebAppThemeParams.length){var Y=i.tgWebAppThemeParams;try{var ge=JSON.parse(Y);ge&&Ce(ge)}catch{}}B&&Ce(B);var de=a.sessionStorageGet("defaultColors");if(i.tgWebAppDefaultColors&&i.tgWebAppDefaultColors.length){var re=i.tgWebAppDefaultColors;try{var qe=JSON.parse(re);qe&&Ne(qe)}catch{}}de&&Ne(de),i.tgWebAppVersion&&(g=i.tgWebAppVersion),i.tgWebAppPlatform&&(b=i.tgWebAppPlatform);var Ie=a.sessionStorageGet("isFullscreen");i.tgWebAppFullscreen&&ne(!0),Ie&&ne(Ie=="yes");var bn=a.sessionStorageGet("isOrientationLocked");bn&&_e(bn=="yes");function Ht(y,_){_.theme_params&&(Ce(_.theme_params),window.Telegram.WebApp.MainButton.setParams({}),window.Telegram.WebApp.SecondaryButton.setParams({}),cr(),ur(),$n(),J("themeChanged"))}var ut=window.innerHeight;function _n(y,_){_.height&&(window.removeEventListener("resize",It),Ri(_))}function It(y){ut!=window.innerHeight&&(ut=window.innerHeight,J("viewportChanged",{isStateStable:!0}))}function Tt(y,_){_&&Ea(_)}function x(y,_){_&&wl(_)}function G(y,_){_.is_visible?(S=!0,J("activated")):(S=!1,J("deactivated"))}function oe(y){if(!(y.metaKey||y.ctrlKey)){for(var _=y.target;_.tagName!="A"&&_.parentNode;)_=_.parentNode;_.tagName=="A"&&_.target!="_blank"&&(_.protocol=="http:"||_.protocol=="https:")&&_.hostname=="t.me"&&(l.openTgLink(_.href),y.preventDefault())}}function ve(y){return y.toString().replace(/^\s+|\s+$/g,"")}function J(y){var _=Array.prototype.slice.call(arguments);y=_.shift(),n.callEventCallbacks("webview:"+y,function(E){E.apply(l,_)})}function C(y,_){n.onEvent("webview:"+y,_)}function H(y,_){n.offEvent("webview:"+y,_)}function K(y,_){var E=document.documentElement;E&&E.style&&E.style.setProperty&&E.style.setProperty("--tg-"+y,_)}function ne(y){w=!!y,a.sessionStorageSet("isFullscreen",w?"yes":"no")}function _e(y){R=!!y,a.sessionStorageSet("isOrientationLocked",R?"yes":"no")}function Ce(y){y.bg_color=="#1c1c1d"&&y.bg_color==y.secondary_bg_color&&(y.secondary_bg_color="#2c2c2e");var _;for(var E in y)(_=fr(y[E]))&&(d[E]=_,E=="bg_color"&&(m=qs(_)?"dark":"light",K("color-scheme",m)),E="theme-"+E.split("_").join("-"),K(E,_));a.sessionStorageSet("themeParams",d)}function Ne(y){m=="dark"?(y.bg_dark_color&&(M=y.bg_dark_color),y.header_dark_color&&(q=null,W=y.header_dark_color)):(y.bg_color&&(M=y.bg_color),y.header_color&&(q=null,W=y.header_color)),a.sessionStorageSet("defaultColors",y)}var Je={};function Fe(y){for(var _=100;--_;){for(var E="",U="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",z=U.length,X=0;X<y;X++)E+=U[Math.floor(Math.random()*z)];if(!Je[E])return Je[E]={},E}throw Error("WebAppCallbackIdGenerateFailed")}var Sn=!1,kn=!1,Ai=!0;function Ri(y){typeof y<"u"&&(Ai=!!y.is_expanded,Sn=y.height,y.is_state_stable&&(kn=y.height),J("viewportChanged",{isStateStable:!!y.is_state_stable}));var _,E;Sn!==!1?_=Sn-it+"px":_=it?"calc(100vh - "+it+"px)":"100vh",kn!==!1?E=kn-it+"px":E=it?"calc(100vh - "+it+"px)":"100vh",K("viewport-height",_),K("viewport-stable-height",E)}var Ct={top:0,bottom:0,left:0,right:0};function Ea(y){typeof y<"u"&&(typeof y.top<"u"&&(Ct.top=y.top),typeof y.bottom<"u"&&(Ct.bottom=y.bottom),typeof y.left<"u"&&(Ct.left=y.left),typeof y.right<"u"&&(Ct.right=y.right),J("safeAreaChanged")),K("safe-area-inset-top",Ct.top+"px"),K("safe-area-inset-bottom",Ct.bottom+"px"),K("safe-area-inset-left",Ct.left+"px"),K("safe-area-inset-right",Ct.right+"px")}var Ft={top:0,bottom:0,left:0,right:0};function wl(y){typeof y<"u"&&(typeof y.top<"u"&&(Ft.top=y.top),typeof y.bottom<"u"&&(Ft.bottom=y.bottom),typeof y.left<"u"&&(Ft.left=y.left),typeof y.right<"u"&&(Ft.right=y.right),J("contentSafeAreaChanged")),K("content-safe-area-inset-top",Ft.top+"px"),K("content-safe-area-inset-bottom",Ft.bottom+"px"),K("content-safe-area-inset-left",Ft.left+"px"),K("content-safe-area-inset-right",Ft.right+"px")}var Oi=!1;function wa(y){if(!Se("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+g);return}Oi=!!y,n.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:Oi})}var Vr=!0;function Ca(y){if(!Se("7.7")){console.warn("[Telegram.WebApp] Changing swipes behavior is not supported in version "+g);return}Vr=!!y,n.postEvent("web_app_setup_swipe_behavior",!1,{allow_vertical_swipe:Vr})}function Cl(y,_){ne(_.is_fullscreen),J("fullscreenChanged")}function Al(y,_){_.error=="ALREADY_FULLSCREEN"&&!w&&ne(!0),J("fullscreenFailed",{error:_.error})}function zt(y){if(!Se("8.0")){console.warn("[Telegram.WebApp] Orientation locking is not supported in version "+g);return}_e(y),n.postEvent("web_app_toggle_orientation_lock",!1,{locked:R})}var Wr=[];function Ms(y,_){J("homeScreenAdded")}function Ns(y,_){var E=_.status||"unknown";if(Wr.length>0){for(var U=0;U<Wr.length;U++){var z=Wr[U];z(E)}Wr=[]}J("homeScreenChecked",{status:E})}var en=!1;function Rl(y,_){if(en){var E=en;en=!1,E.callback&&E.callback(!0),J("shareMessageSent")}}function Bs(y,_){if(en){var E=en;en=!1,E.callback&&E.callback(!1),J("shareMessageFailed",{error:_.error})}}var jn=!1;function Ol(y,_){if(jn){var E=jn;jn=!1,E.callback&&E.callback(!0),J("emojiStatusSet")}}function Yr(y,_){if(jn){var E=jn;jn=!1,E.callback&&E.callback(!1),J("emojiStatusFailed",{error:_.error})}}var bt=!1;function Dn(y,_){if(bt){var E=bt;bt=!1,E.callback&&E.callback(_.status=="allowed"),J("emojiStatusAccessRequested",{status:_.status})}}var Ut=!1;function Lt(){return q=="secondary_bg_color"?d.secondary_bg_color:q=="bg_color"?d.bg_color:W}function xl(y){if(!Se("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+g);return}Se("6.9")||(d.bg_color&&d.bg_color==y?y="bg_color":d.secondary_bg_color&&d.secondary_bg_color==y&&(y="secondary_bg_color"));var _=null,E=null;if(y=="bg_color"||y=="secondary_bg_color")E=y;else if(Se("6.9")&&(_=fr(y),!_))throw console.error("[Telegram.WebApp] Header color format is invalid",y),Error("WebAppHeaderColorInvalid");if(!Se("6.9")&&E!="bg_color"&&E!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",y),Error("WebAppHeaderColorKeyInvalid");q=E,W=_,cr()}var zs=null,Aa=null;function cr(){(zs!=q||Aa!=W)&&(zs=q,Aa=W,Aa?n.postEvent("web_app_set_header_color",!1,{color:W}):n.postEvent("web_app_set_header_color",!1,{color_key:q}))}function Kr(){return M=="secondary_bg_color"?d.secondary_bg_color:M=="bg_color"?d.bg_color:M}function xi(y){if(!Se("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+g);return}var _;if(y=="bg_color"||y=="secondary_bg_color")_=y;else if(_=fr(y),!_)throw console.error("[Telegram.WebApp] Background color format is invalid",y),Error("WebAppBackgroundColorInvalid");M=_,ur()}var Un=null;function ur(){var y=Kr();Un!=y&&(Un=y,n.postEvent("web_app_set_background_color",!1,{color:y}))}var Tn="bottom_bar_bg_color";function Jr(){return Tn=="bottom_bar_bg_color"?d.bottom_bar_bg_color||d.secondary_bg_color||"#ffffff":Tn=="secondary_bg_color"?d.secondary_bg_color:Tn=="bg_color"?d.bg_color:Tn}function Ls(y){if(!Se("7.10")){console.warn("[Telegram.WebApp] Bottom bar color is not supported in version "+g);return}var _;if(y=="bg_color"||y=="secondary_bg_color"||y=="bottom_bar_bg_color")_=y;else if(_=fr(y),!_)throw console.error("[Telegram.WebApp] Bottom bar color format is invalid",y),Error("WebAppBottomBarColorInvalid");Tn=_,$n(),window.Telegram.WebApp.SecondaryButton.setParams({})}var ki=null;function $n(){var y=Jr();ki!=y&&(ki=y,n.postEvent("web_app_set_bottom_bar_color",!1,{color:y})),i.tgWebAppDebug&&Di()}function fr(y){y+="";var _;if(_=/^\s*#([0-9a-f]{6})\s*$/i.exec(y))return"#"+_[1].toLowerCase();if(_=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(y))return("#"+_[1]+_[1]+_[2]+_[2]+_[3]+_[3]).toLowerCase();if(_=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(y)){var E=parseInt(_[1]),U=parseInt(_[2]),z=parseInt(_[3]);return E=(E<16?"0":"")+E.toString(16),U=(U<16?"0":"")+U.toString(16),z=(z<16?"0":"")+z.toString(16),"#"+E+U+z}return!1}function qs(y){y=y.replace(/[\s#]/g,""),y.length==3&&(y=y[0]+y[0]+y[1]+y[1]+y[2]+y[2]);var _=parseInt(y.substr(0,2),16),E=parseInt(y.substr(2,2),16),U=parseInt(y.substr(4,2),16),z=Math.sqrt(.299*(_*_)+.587*(E*E)+.114*(U*U));return z<120}function Ps(y,_){typeof y!="string"&&(y=""),typeof _!="string"&&(_=""),y=y.replace(/^\s+|\s+$/g,"").split("."),_=_.replace(/^\s+|\s+$/g,"").split(".");var E=Math.max(y.length,_.length),U,z,X;for(U=0;U<E;U++)if(z=parseInt(y[U])||0,X=parseInt(_[U])||0,z!=X)return z>X?1:-1;return 0}function Se(y){return Ps(g,y)>=0}function Ra(y){if(window.Blob)try{return new Blob([y]).size}catch{}for(var _=y.length,E=y.length-1;E>=0;E--){var U=y.charCodeAt(E);U>127&&U<=2047?_++:U>2047&&U<=65535&&(_+=2),U>=56320&&U<=57343&&E--}return _}var Oa=(function(){var y=!1,_={};Object.defineProperty(_,"isVisible",{set:function(ce){xe({is_visible:ce})},get:function(){return y},enumerable:!0});var E=null;n.onEvent("back_button_pressed",U);function U(){J("backButtonClicked")}function z(){return{is_visible:y}}function X(ce){return typeof ce>"u"&&(ce=z()),JSON.stringify(ce)}function ie(){return Se("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+g),!1)}function ee(){var ce=z(),Oe=X(ce);E!==Oe&&(E=Oe,n.postEvent("web_app_setup_back_button",!1,ce))}function xe(ce){return ie()&&(typeof ce.is_visible<"u"&&(y=!!ce.is_visible),ee()),_}return _.onClick=function(ce){return ie()&&C("backButtonClicked",ce),_},_.offClick=function(ce){return ie()&&H("backButtonClicked",ce),_},_.show=function(){return xe({is_visible:!0})},_.hide=function(){return xe({is_visible:!1})},_})(),qt=null,ji={},it=0;if(i.tgWebAppDebug){qt=document.createElement("tg-bottom-bar");var ft={display:"flex",gap:"7px",font:"600 14px/18px sans-serif",width:"100%",background:Jr(),position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"7px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var At in ft)qt.style[At]=ft[At];document.addEventListener("DOMContentLoaded",function y(_){document.removeEventListener("DOMContentLoaded",y),document.body.appendChild(qt)});var Hn=document.createElement("style");Hn.innerHTML='tg-bottom-button.shine { position: relative; overflow: hidden; } tg-bottom-button.shine:before { content:""; position: absolute; top: 0; width: 100%; height: 100%; background: linear-gradient(120deg, transparent, rgba(255, 255, 255, .2), transparent); animation: tg-bottom-button-shine 5s ease-in-out infinite; } @-webkit-keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}} @keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}}',qt.appendChild(Hn)}function Di(){var y=ji.main._bottomButton,_=ji.secondary._bottomButton;y.isVisible||_.isVisible?(qt.style.display="flex",it=58,y.isVisible&&_.isVisible&&(_.position=="top"?(qt.style.flexDirection="column-reverse",it+=51):_.position=="bottom"?(qt.style.flexDirection="column",it+=51):_.position=="left"?qt.style.flexDirection="row-reverse":_.position=="right"&&(qt.style.flexDirection="row"))):(qt.style.display="none",it=0),qt.style.background=Jr(),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=it+"px"),Ri()}var $s=function(y){var _=y=="main";if(_)var E="web_app_setup_main_button",U="main_button_pressed",z="mainButtonClicked",X="Continue",ie=function(){return d.button_color||"#2481cc"},ee=function(){return d.button_text_color||"#ffffff"};else var E="web_app_setup_secondary_button",U="secondary_button_pressed",z="secondaryButtonClicked",X="Cancel",ie=function(){return Jr()},ee=function(){return d.button_color||"#2481cc"};var xe=!1,ce=!0,Oe=!1,Be=!1,Ae=y,Z=X,te=!1,ue=!1,et="left",se={};Object.defineProperty(se,"type",{get:function(){return Ae},enumerable:!0}),Object.defineProperty(se,"text",{set:function(F){se.setParams({text:F})},get:function(){return Z},enumerable:!0}),Object.defineProperty(se,"color",{set:function(F){se.setParams({color:F})},get:function(){return te||ie()},enumerable:!0}),Object.defineProperty(se,"textColor",{set:function(F){se.setParams({text_color:F})},get:function(){return ue||ee()},enumerable:!0}),Object.defineProperty(se,"isVisible",{set:function(F){se.setParams({is_visible:F})},get:function(){return xe},enumerable:!0}),Object.defineProperty(se,"isProgressVisible",{get:function(){return Be},enumerable:!0}),Object.defineProperty(se,"isActive",{set:function(F){se.setParams({is_active:F})},get:function(){return ce},enumerable:!0}),Object.defineProperty(se,"hasShineEffect",{set:function(F){se.setParams({has_shine_effect:F})},get:function(){return Oe},enumerable:!0}),_||Object.defineProperty(se,"position",{set:function(F){se.setParams({position:F})},get:function(){return et},enumerable:!0});var Ge=null;n.onEvent(U,ja);var Ee=null;if(i.tgWebAppDebug){Ee=document.createElement("tg-bottom-button");var rt={display:"none",width:"100%",height:"44px",borderRadius:"0",background:"no-repeat right center",padding:"13px 15px",textAlign:"center",boxSizing:"border-box"};for(var un in rt)Ee.style[un]=rt[un];qt.appendChild(Ee),Ee.addEventListener("click",ja,!1),Ee._bottomButton=se,ji[y]=Ee}function ja(){ce&&J(z)}function yr(){var F=se.color,Vt=se.textColor;if(xe){var Vn={is_visible:!0,is_active:ce,is_progress_visible:Be,text:Z,color:F,text_color:Vt,has_shine_effect:Oe&&ce&&!Be};_||(Vn.position=et)}else var Vn={is_visible:!1};return Vn}function wn(F){return typeof F>"u"&&(F=yr()),JSON.stringify(F)}function Xr(){var F=yr(),Vt=wn(F);Ge!==Vt&&(Ge=Vt,n.postEvent(E,!1,F),i.tgWebAppDebug&&Zr(F))}function Zr(F){F.is_visible?(Ee.style.display="block",Ee.style.opacity=F.is_active?"1":"0.8",Ee.style.cursor=F.is_active?"pointer":"auto",Ee.disabled=!F.is_active,Ee.innerText=F.text,Ee.className=F.has_shine_effect?"shine":"",Ee.style.backgroundImage=F.is_progress_visible?"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewport="0 0 48 48" width="48px" height="48px"><circle cx="50%" cy="50%" stroke="'+F.text_color+'" stroke-width="2.25" stroke-linecap="round" fill="none" stroke-dashoffset="106" r="9" stroke-dasharray="56.52" rotate="-90"><animate attributeName="stroke-dashoffset" attributeType="XML" dur="360s" from="0" to="12500" repeatCount="indefinite"></animate><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="-90 24 24" to="630 24 24" repeatCount="indefinite"></animateTransform></circle></svg>')+"')":"none",Ee.style.backgroundColor=F.color,Ee.style.color=F.text_color):Ee.style.display="none",Di()}function Bn(F){if(typeof F.text<"u"){var Vt=ve(F.text);if(!Vt.length)throw console.error("[Telegram.WebApp] Bottom button text is required",F.text),Error("WebAppBottomButtonParamInvalid");if(Vt.length>64)throw console.error("[Telegram.WebApp] Bottom button text is too long",Vt),Error("WebAppBottomButtonParamInvalid");Z=Vt}if(typeof F.color<"u")if(F.color===!1||F.color===null)te=!1;else{var Vn=fr(F.color);if(!Vn)throw console.error("[Telegram.WebApp] Bottom button color format is invalid",F.color),Error("WebAppBottomButtonParamInvalid");te=Vn}if(typeof F.text_color<"u")if(F.text_color===!1||F.text_color===null)ue=!1;else{var Fr=fr(F.text_color);if(!Fr)throw console.error("[Telegram.WebApp] Bottom button text color format is invalid",F.text_color),Error("WebAppBottomButtonParamInvalid");ue=Fr}if(typeof F.is_visible<"u"){if(F.is_visible&&!se.text.length)throw console.error("[Telegram.WebApp] Bottom button text is required"),Error("WebAppBottomButtonParamInvalid");xe=!!F.is_visible}if(typeof F.has_shine_effect<"u"&&(Oe=!!F.has_shine_effect),!_&&typeof F.position<"u"){if(F.position!="left"&&F.position!="right"&&F.position!="top"&&F.position!="bottom")throw console.error("[Telegram.WebApp] Bottom button posiition is invalid",F.position),Error("WebAppBottomButtonParamInvalid");et=F.position}return typeof F.is_active<"u"&&(ce=!!F.is_active),Xr(),se}return se.setText=function(F){return se.setParams({text:F})},se.onClick=function(F){return C(z,F),se},se.offClick=function(F){return H(z,F),se},se.show=function(){return se.setParams({is_visible:!0})},se.hide=function(){return se.setParams({is_visible:!1})},se.enable=function(){return se.setParams({is_active:!0})},se.disable=function(){return se.setParams({is_active:!1})},se.showProgress=function(F){return ce=!!F,Be=!0,Xr(),se},se.hideProgress=function(){return se.isActive||(ce=!0),Be=!1,Xr(),se},se.setParams=Bn,se},kl=$s("main"),Hs=$s("secondary"),hr=(function(){var y=!1,_={};Object.defineProperty(_,"isVisible",{set:function(ce){xe({is_visible:ce})},get:function(){return y},enumerable:!0});var E=null;n.onEvent("settings_button_pressed",U);function U(){J("settingsButtonClicked")}function z(){return{is_visible:y}}function X(ce){return typeof ce>"u"&&(ce=z()),JSON.stringify(ce)}function ie(){return Se("6.10")?!0:(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+g),!1)}function ee(){var ce=z(),Oe=X(ce);E!==Oe&&(E=Oe,n.postEvent("web_app_setup_settings_button",!1,ce))}function xe(ce){return ie()&&(typeof ce.is_visible<"u"&&(y=!!ce.is_visible),ee()),_}return _.onClick=function(ce){return ie()&&C("settingsButtonClicked",ce),_},_.offClick=function(ce){return ie()&&H("settingsButtonClicked",ce),_},_.show=function(){return xe({is_visible:!0})},_.hide=function(){return xe({is_visible:!1})},_})(),xa=(function(){var y={};function _(E){if(!Se("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+g),y;if(E.type=="impact"){if(E.impact_style!="light"&&E.impact_style!="medium"&&E.impact_style!="heavy"&&E.impact_style!="rigid"&&E.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",E.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(E.type=="notification"){if(E.notification_type!="error"&&E.notification_type!="success"&&E.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",E.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(E.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",E.type),Error("WebAppHapticFeedbackTypeInvalid");return n.postEvent("web_app_trigger_haptic_feedback",!1,E),y}return y.impactOccurred=function(E){return _({type:"impact",impact_style:E})},y.notificationOccurred=function(E){return _({type:"notification",notification_type:E})},y.selectionChanged=function(){return _({type:"selection_change"})},y})(),dr=(function(){var y={};function _(E,U,z){if(!Se("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+g),Error("WebAppMethodUnsupported");return ka(E,U,z),y}return y.setItem=function(E,U,z){return _("saveStorageValue",{key:E,value:U},z)},y.getItem=function(E,U){return y.getItems([E],U?function(z,X){z?U(z):U(null,X[E])}:null)},y.getItems=function(E,U){return _("getStorageValues",{keys:E},U)},y.removeItem=function(E,U){return y.removeItems([E],U)},y.removeItems=function(E,U){return _("deleteStorageValues",{keys:E},U)},y.getKeys=function(E){return _("getStorageKeys",{},E)},y})(),pr=(function(){var y=!1,_=!1,E="unknown",U=!1,z=!1,X=!1,ie="",ee={};Object.defineProperty(ee,"isInited",{get:function(){return y},enumerable:!0}),Object.defineProperty(ee,"isBiometricAvailable",{get:function(){return y&&_},enumerable:!0}),Object.defineProperty(ee,"biometricType",{get:function(){return E||"unknown"},enumerable:!0}),Object.defineProperty(ee,"isAccessRequested",{get:function(){return U},enumerable:!0}),Object.defineProperty(ee,"isAccessGranted",{get:function(){return U&&z},enumerable:!0}),Object.defineProperty(ee,"isBiometricTokenSaved",{get:function(){return X},enumerable:!0}),Object.defineProperty(ee,"deviceId",{get:function(){return ie||""},enumerable:!0});var xe={callbacks:[]},ce=!1,Oe=!1,Be=!1;n.onEvent("biometry_info_received",Ae),n.onEvent("biometry_auth_requested",Z),n.onEvent("biometry_token_updated",te);function Ae(se,Ge){if(y=!0,Ge.available?(_=!0,E=Ge.type||"unknown",Ge.access_requested?(U=!0,z=!!Ge.access_granted,X=!!Ge.token_saved):(U=!1,z=!1,X=!1)):(_=!1,E="unknown",U=!1,z=!1,X=!1),ie=Ge.device_id||"",xe.callbacks.length>0){for(var Ee=0;Ee<xe.callbacks.length;Ee++){var rt=xe.callbacks[Ee];rt()}xe.callbacks=[]}if(ce){var un=ce;ce=!1,un.callback&&un.callback(z)}J("biometricManagerUpdated")}function Z(se,Ge){var Ee=Ge.status=="authorized",rt=Ge.token||"";if(Oe){var un=Oe;Oe=!1,un.callback&&un.callback(Ee,Ee?rt:null)}J("biometricAuthRequested",Ee?{isAuthenticated:!0,biometricToken:rt}:{isAuthenticated:!1})}function te(se,Ge){var Ee=!1;if(_&&U&&(Ge.status=="updated"?(X=!0,Ee=!0):Ge.status=="removed"&&(X=!1,Ee=!0)),Be){var rt=Be;Be=!1,rt.callback&&rt.callback(Ee)}J("biometricTokenUpdated",{isUpdated:Ee})}function ue(){return Se("7.2")?!0:(console.warn("[Telegram.WebApp] BiometricManager is not supported in version "+g),!1)}function et(){if(!y)throw console.error("[Telegram.WebApp] BiometricManager should be inited before using."),Error("WebAppBiometricManagerNotInited");return!0}return ee.init=function(se){return!ue()||y||(se&&xe.callbacks.push(se),n.postEvent("web_app_biometry_get_info",!1)),ee},ee.requestAccess=function(se,Ge){if(!ue())return ee;if(et(),!_)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(ce)throw console.error("[Telegram.WebApp] Access is already requested"),Error("WebAppBiometricManagerAccessRequested");var Ee={};if(typeof se.reason<"u"){var rt=ve(se.reason);if(rt.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",rt),Error("WebAppBiometricRequestAccessParamInvalid");rt.length>0&&(Ee.reason=rt)}return ce={callback:Ge},n.postEvent("web_app_biometry_request_access",!1,Ee),ee},ee.authenticate=function(se,Ge){if(!ue())return ee;if(et(),!_)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!z)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(Oe)throw console.error("[Telegram.WebApp] Authentication request is already in progress."),Error("WebAppBiometricManagerAuthenticationRequested");var Ee={};if(typeof se.reason<"u"){var rt=ve(se.reason);if(rt.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",rt),Error("WebAppBiometricRequestAccessParamInvalid");rt.length>0&&(Ee.reason=rt)}return Oe={callback:Ge},n.postEvent("web_app_biometry_request_auth",!1,Ee),ee},ee.updateBiometricToken=function(se,Ge){if(!ue())return ee;if(se=se||"",se.length>1024)throw console.error("[Telegram.WebApp] Token is too long",se),Error("WebAppBiometricManagerTokenInvalid");if(et(),!_)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!z)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(Be)throw console.error("[Telegram.WebApp] Token request is already in progress."),Error("WebAppBiometricManagerTokenUpdateRequested");return Be={callback:Ge},n.postEvent("web_app_biometry_update_token",!1,{token:se}),ee},ee.openSettings=function(){if(!ue())return ee;if(et(),!_)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!U)throw console.error("[Telegram.WebApp] Biometric access was not requested yet."),Error("WebAppBiometricManagerBiometricsAccessNotRequested");return z?(console.warn("[Telegram.WebApp] Biometric access was granted by the user, no need to go to settings."),ee):(n.postEvent("web_app_biometry_open_settings",!1),ee)},ee})(),Qr=(function(){var y=!1,_=!1,E=!1,U=!1,z={};Object.defineProperty(z,"isInited",{get:function(){return y},enumerable:!0}),Object.defineProperty(z,"isLocationAvailable",{get:function(){return y&&_},enumerable:!0}),Object.defineProperty(z,"isAccessRequested",{get:function(){return E},enumerable:!0}),Object.defineProperty(z,"isAccessGranted",{get:function(){return E&&U},enumerable:!0});var X={callbacks:[]},ie={callbacks:[]};n.onEvent("location_checked",ee),n.onEvent("location_requested",xe);function ee(Ae,Z){if(y=!0,Z.available?(_=!0,Z.access_requested?(E=!0,U=!!Z.access_granted):(E=!1,U=!1)):(_=!1,E=!1,U=!1),X.callbacks.length>0){for(var te=0;te<X.callbacks.length;te++){var ue=X.callbacks[te];ue()}X.callbacks=[]}J("locationManagerUpdated")}function xe(Ae,Z){if(!Z.available)te=null;else{var te={latitude:Z.latitude,longitude:Z.longitude,altitude:null,course:null,speed:null,horizontal_accuracy:null,vertical_accuracy:null,course_accuracy:null,speed_accuracy:null};typeof Z.altitude<"u"&&Z.altitude!==null&&(te.altitude=Z.altitude),typeof Z.course<"u"&&Z.course!==null&&(te.course=Z.course%360),typeof Z.speed<"u"&&Z.speed!==null&&(te.speed=Z.speed),typeof Z.horizontal_accuracy<"u"&&Z.horizontal_accuracy!==null&&(te.horizontal_accuracy=Z.horizontal_accuracy),typeof Z.vertical_accuracy<"u"&&Z.vertical_accuracy!==null&&(te.vertical_accuracy=Z.vertical_accuracy),typeof Z.course_accuracy<"u"&&Z.course_accuracy!==null&&(te.course_accuracy=Z.course_accuracy),typeof Z.speed_accuracy<"u"&&Z.speed_accuracy!==null&&(te.speed_accuracy=Z.speed_accuracy)}!Z.available||!_||!E||!U?(X.callbacks.push(function(){ce(te)}),n.postEvent("web_app_check_location",!1)):ce(te)}function ce(Ae){if(ie.callbacks.length>0){for(var Z=0;Z<ie.callbacks.length;Z++){var te=ie.callbacks[Z];te(Ae)}ie.callbacks=[]}Ae!==null&&J("locationRequested",{locationData:Ae})}function Oe(){return Se("8.0")?!0:(console.warn("[Telegram.WebApp] LocationManager is not supported in version "+g),!1)}function Be(){if(!y)throw console.error("[Telegram.WebApp] LocationManager should be inited before using."),Error("WebAppLocationManagerNotInited");return!0}return z.init=function(Ae){return!Oe()||y||(Ae&&X.callbacks.push(Ae),n.postEvent("web_app_check_location",!1)),z},z.getLocation=function(Ae){if(!Oe())return z;if(Be(),!_)throw console.error("[Telegram.WebApp] Location is not available on this device."),Error("WebAppLocationManagerLocationNotAvailable");return ie.callbacks.push(Ae),n.postEvent("web_app_request_location"),z},z.openSettings=function(){if(!Oe())return z;if(Be(),!_)throw console.error("[Telegram.WebApp] Location is not available on this device."),Error("WebAppLocationManagerLocationNotAvailable");if(!E)throw console.error("[Telegram.WebApp] Location access was not requested yet."),Error("WebAppLocationManagerLocationAccessNotRequested");return U?(console.warn("[Telegram.WebApp] Location access was granted by the user, no need to go to settings."),z):(n.postEvent("web_app_open_location_settings",!1),z)},z})(),gr=(function(){var y=!1,_=null,E=null,U=null,z=[],X=[],ie={};Object.defineProperty(ie,"isStarted",{get:function(){return y},enumerable:!0}),Object.defineProperty(ie,"x",{get:function(){return _},enumerable:!0}),Object.defineProperty(ie,"y",{get:function(){return E},enumerable:!0}),Object.defineProperty(ie,"z",{get:function(){return U},enumerable:!0}),n.onEvent("accelerometer_started",ee),n.onEvent("accelerometer_stopped",xe),n.onEvent("accelerometer_changed",ce),n.onEvent("accelerometer_failed",Oe);function ee(Ae,Z){if(y=!0,z.length>0){for(var te=0;te<z.length;te++){var ue=z[te];ue(!0)}z=[]}J("accelerometerStarted")}function xe(Ae,Z){if(y=!1,X.length>0){for(var te=0;te<X.length;te++){var ue=X[te];ue(!0)}X=[]}J("accelerometerStopped")}function ce(Ae,Z){_=Z.x,E=Z.y,U=Z.z,J("accelerometerChanged")}function Oe(Ae,Z){if(z.length>0){for(var te=0;te<z.length;te++){var ue=z[te];ue(!1)}z=[]}J("accelerometerFailed",{error:Z.error})}function Be(){return Se("8.0")?!0:(console.warn("[Telegram.WebApp] Accelerometer is not supported in version "+g),!1)}return ie.start=function(Ae,Z){if(Ae=Ae||{},!Be())return ie;var te={},ue=parseInt(Ae.refresh_rate||1e3);return isNaN(ue)||ue<20||ue>1e3?console.warn("[Telegram.WebApp] Accelerometer refresh_rate is invalid",ue):te.refresh_rate=ue,Z&&z.push(Z),n.postEvent("web_app_start_accelerometer",!1,te),ie},ie.stop=function(Ae){return Be()&&(Ae&&X.push(Ae),n.postEvent("web_app_stop_accelerometer")),ie},ie})(),ht=(function(){var y=!1,_=null,E=null,U=null,z=!1,X=[],ie=[],ee={};Object.defineProperty(ee,"isStarted",{get:function(){return y},enumerable:!0}),Object.defineProperty(ee,"absolute",{get:function(){return z},enumerable:!0}),Object.defineProperty(ee,"alpha",{get:function(){return _},enumerable:!0}),Object.defineProperty(ee,"beta",{get:function(){return E},enumerable:!0}),Object.defineProperty(ee,"gamma",{get:function(){return U},enumerable:!0}),n.onEvent("device_orientation_started",xe),n.onEvent("device_orientation_stopped",ce),n.onEvent("device_orientation_changed",Oe),n.onEvent("device_orientation_failed",Be);function xe(Z,te){if(y=!0,X.length>0){for(var ue=0;ue<X.length;ue++){var et=X[ue];et(!0)}X=[]}J("deviceOrientationStarted")}function ce(Z,te){if(y=!1,ie.length>0){for(var ue=0;ue<ie.length;ue++){var et=ie[ue];et(!0)}ie=[]}J("deviceOrientationStopped")}function Oe(Z,te){z=!!te.absolute,_=te.alpha,E=te.beta,U=te.gamma,J("deviceOrientationChanged")}function Be(Z,te){if(X.length>0){for(var ue=0;ue<X.length;ue++){var et=X[ue];et(!1)}X=[]}J("deviceOrientationFailed",{error:te.error})}function Ae(){return Se("8.0")?!0:(console.warn("[Telegram.WebApp] DeviceOrientation is not supported in version "+g),!1)}return ee.start=function(Z,te){if(Z=Z||{},!Ae())return ee;var ue={},et=parseInt(Z.refresh_rate||1e3);return isNaN(et)||et<20||et>1e3?console.warn("[Telegram.WebApp] DeviceOrientation refresh_rate is invalid",et):ue.refresh_rate=et,ue.need_absolute=!!Z.need_absolute,te&&X.push(te),n.postEvent("web_app_start_device_orientation",!1,ue),ee},ee.stop=function(Z){return Ae()&&(Z&&ie.push(Z),n.postEvent("web_app_stop_device_orientation")),ee},ee})(),Is=(function(){var y=!1,_=null,E=null,U=null,z=[],X=[],ie={};Object.defineProperty(ie,"isStarted",{get:function(){return y},enumerable:!0}),Object.defineProperty(ie,"x",{get:function(){return _},enumerable:!0}),Object.defineProperty(ie,"y",{get:function(){return E},enumerable:!0}),Object.defineProperty(ie,"z",{get:function(){return U},enumerable:!0}),n.onEvent("gyroscope_started",ee),n.onEvent("gyroscope_stopped",xe),n.onEvent("gyroscope_changed",ce),n.onEvent("gyroscope_failed",Oe);function ee(Ae,Z){if(y=!0,z.length>0){for(var te=0;te<z.length;te++){var ue=z[te];ue(!0)}z=[]}J("gyroscopeStarted")}function xe(Ae,Z){if(y=!1,X.length>0){for(var te=0;te<X.length;te++){var ue=X[te];ue(!0)}X=[]}J("gyroscopeStopped")}function ce(Ae,Z){_=Z.x,E=Z.y,U=Z.z,J("gyroscopeChanged")}function Oe(Ae,Z){if(z.length>0){for(var te=0;te<z.length;te++){var ue=z[te];ue(!1)}z=[]}J("gyroscopeFailed",{error:Z.error})}function Be(){return Se("8.0")?!0:(console.warn("[Telegram.WebApp] Gyroscope is not supported in version "+g),!1)}return ie.start=function(Ae,Z){if(Ae=Ae||{},!Be())return ie;var te={},ue=parseInt(Ae.refresh_rate||1e3);return isNaN(ue)||ue<20||ue>1e3?console.warn("[Telegram.WebApp] Gyroscope refresh_rate is invalid",ue):te.refresh_rate=ue,Z&&z.push(Z),n.postEvent("web_app_start_gyroscope",!1,te),ie},ie.stop=function(Ae){return Be()&&(Ae&&X.push(Ae),n.postEvent("web_app_stop_gyroscope")),ie},ie})(),mr={};function In(y,_){if(_.slug&&mr[_.slug]){var E=mr[_.slug];delete mr[_.slug],E.callback&&E.callback(_.status),J("invoiceClosed",{url:E.url,status:_.status})}}var Ut=!1;function Gs(y,_){if(Ut){var E=Ut;Ut=!1;var U=null;typeof _.button_id<"u"&&(U=_.button_id),E.callback&&E.callback(U),J("popupClosed",{button_id:U})}}var Mn=!1;function Vs(y,_){if(Mn){var E=Mn,U=null;typeof _.data<"u"&&(U=_.data),E.callback&&E.callback(U)&&(Mn=!1,n.postEvent("web_app_close_scan_qr_popup",!1)),J("qrTextReceived",{data:U})}}function jl(y,_){Mn=!1,J("scanQrPopupClosed")}function Ui(y,_){if(_.req_id&&Je[_.req_id]){var E=Je[_.req_id];delete Je[_.req_id];var U=null;typeof _.data<"u"&&(U=_.data),E.callback&&E.callback(U),J("clipboardTextReceived",{data:U})}}var Nn=!1;function En(y,_){if(Nn){var E=Nn;Nn=!1,E.callback&&E.callback(_.status=="allowed"),J("writeAccessRequested",{status:_.status})}}function Gt(y,_){var E,U,z=0,X=function(){ka("getRequestedContact",{},function(ee,xe){xe&&xe.length?(clearTimeout(U),y(xe)):(z+=50,E=setTimeout(X,z))})},ie=function(){clearTimeout(E),y("")};U=setTimeout(ie,_),X()}var vr=!1;function Dl(y,_){if(vr){var E=vr;vr=!1;var U=_.status=="sent",z={status:_.status};U?Gt(function(X){if(X&&X.length){z.response=X,z.responseUnsafe=a.urlParseQueryString(X);for(var ie in z.responseUnsafe){var ee=z.responseUnsafe[ie];try{(ee.substr(0,1)=="{"&&ee.substr(-1)=="}"||ee.substr(0,1)=="["&&ee.substr(-1)=="]")&&(z.responseUnsafe[ie]=JSON.parse(ee))}catch{}}}E.callback&&E.callback(U,z),J("contactRequested",z)},3e3):(E.callback&&E.callback(U,z),J("contactRequested",z))}}var Gn=!1;function Ws(y,_){if(Gn){var E=Gn;Gn=!1;var U=_.status=="downloading";E.callback&&E.callback(U),J("fileDownloadRequested",{status:U?"downloading":"cancelled"})}}function Mi(y,_){if(_.req_id&&Je[_.req_id]){var E=Je[_.req_id];delete Je[_.req_id];var U=null,z=null;typeof _.result<"u"&&(U=_.result),typeof _.error<"u"&&(z=_.error),E.callback&&E.callback(z,U)}}function ka(y,_,E){if(!Se("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+g),Error("WebAppMethodUnsupported");var U=Fe(16),z={req_id:U,method:y,params:_||{}};Je[U]={callback:E},n.postEvent("web_app_invoke_custom_method",!1,z)}window.Telegram||(window.Telegram={}),Object.defineProperty(l,"initData",{get:function(){return u},enumerable:!0}),Object.defineProperty(l,"initDataUnsafe",{get:function(){return h},enumerable:!0}),Object.defineProperty(l,"version",{get:function(){return g},enumerable:!0}),Object.defineProperty(l,"platform",{get:function(){return b},enumerable:!0}),Object.defineProperty(l,"colorScheme",{get:function(){return m},enumerable:!0}),Object.defineProperty(l,"themeParams",{get:function(){return d},enumerable:!0}),Object.defineProperty(l,"isExpanded",{get:function(){return Ai},enumerable:!0}),Object.defineProperty(l,"viewportHeight",{get:function(){return(Sn===!1?window.innerHeight:Sn)-it},enumerable:!0}),Object.defineProperty(l,"viewportStableHeight",{get:function(){return(kn===!1?window.innerHeight:kn)-it},enumerable:!0}),Object.defineProperty(l,"safeAreaInset",{get:function(){return Ct},enumerable:!0}),Object.defineProperty(l,"contentSafeAreaInset",{get:function(){return Ft},enumerable:!0}),Object.defineProperty(l,"isClosingConfirmationEnabled",{set:function(y){wa(y)},get:function(){return Oi},enumerable:!0}),Object.defineProperty(l,"isVerticalSwipesEnabled",{set:function(y){Ca(y)},get:function(){return Vr},enumerable:!0}),Object.defineProperty(l,"isFullscreen",{get:function(){return w},enumerable:!0}),Object.defineProperty(l,"isOrientationLocked",{set:function(y){zt(y)},get:function(){return R},enumerable:!0}),Object.defineProperty(l,"isActive",{get:function(){return S},enumerable:!0}),Object.defineProperty(l,"headerColor",{set:function(y){xl(y)},get:function(){return Lt()},enumerable:!0}),Object.defineProperty(l,"backgroundColor",{set:function(y){xi(y)},get:function(){return Kr()},enumerable:!0}),Object.defineProperty(l,"bottomBarColor",{set:function(y){Ls(y)},get:function(){return Jr()},enumerable:!0}),Object.defineProperty(l,"BackButton",{value:Oa,enumerable:!0}),Object.defineProperty(l,"MainButton",{value:kl,enumerable:!0}),Object.defineProperty(l,"SecondaryButton",{value:Hs,enumerable:!0}),Object.defineProperty(l,"SettingsButton",{value:hr,enumerable:!0}),Object.defineProperty(l,"HapticFeedback",{value:xa,enumerable:!0}),Object.defineProperty(l,"CloudStorage",{value:dr,enumerable:!0}),Object.defineProperty(l,"BiometricManager",{value:pr,enumerable:!0}),Object.defineProperty(l,"Accelerometer",{value:gr,enumerable:!0}),Object.defineProperty(l,"DeviceOrientation",{value:ht,enumerable:!0}),Object.defineProperty(l,"Gyroscope",{value:Is,enumerable:!0}),Object.defineProperty(l,"LocationManager",{value:Qr,enumerable:!0}),l.isVersionAtLeast=function(y){return Se(y)},l.setHeaderColor=function(y){l.headerColor=y},l.setBackgroundColor=function(y){l.backgroundColor=y},l.setBottomBarColor=function(y){l.bottomBarColor=y},l.enableClosingConfirmation=function(){l.isClosingConfirmationEnabled=!0},l.disableClosingConfirmation=function(){l.isClosingConfirmationEnabled=!1},l.enableVerticalSwipes=function(){l.isVerticalSwipesEnabled=!0},l.disableVerticalSwipes=function(){l.isVerticalSwipesEnabled=!1},l.lockOrientation=function(){l.isOrientationLocked=!0},l.unlockOrientation=function(){l.isOrientationLocked=!1},l.requestFullscreen=function(){if(!Se("8.0"))throw console.error("[Telegram.WebApp] Method requestFullscreen is not supported in version "+g),Error("WebAppMethodUnsupported");n.postEvent("web_app_request_fullscreen")},l.exitFullscreen=function(){if(!Se("8.0"))throw console.error("[Telegram.WebApp] Method exitFullscreen is not supported in version "+g),Error("WebAppMethodUnsupported");n.postEvent("web_app_exit_fullscreen")},l.addToHomeScreen=function(){if(!Se("8.0"))throw console.error("[Telegram.WebApp] Method addToHomeScreen is not supported in version "+g),Error("WebAppMethodUnsupported");n.postEvent("web_app_add_to_home_screen")},l.checkHomeScreenStatus=function(y){if(!Se("8.0"))throw console.error("[Telegram.WebApp] Method checkHomeScreenStatus is not supported in version "+g),Error("WebAppMethodUnsupported");y&&Wr.push(y),n.postEvent("web_app_check_home_screen")},l.onEvent=function(y,_){C(y,_)},l.offEvent=function(y,_){H(y,_)},l.sendData=function(y){if(!y||!y.length)throw console.error("[Telegram.WebApp] Data is required",y),Error("WebAppDataInvalid");if(Ra(y)>4096)throw console.error("[Telegram.WebApp] Data is too long",y),Error("WebAppDataInvalid");n.postEvent("web_app_data_send",!1,{data:y})},l.switchInlineQuery=function(y,_){if(!Se("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+g),Error("WebAppMethodUnsupported");if(!i.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(y=y||"",y.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",y),Error("WebAppInlineQueryInvalid");var E=[];if(_){if(!Array.isArray(_))throw console.error("[Telegram.WebApp] Choose chat types should be an array",_),Error("WebAppInlineChooseChatTypesInvalid");for(var U={users:1,bots:1,groups:1,channels:1},z=0;z<_.length;z++){var X=_[z];if(!U[X])throw console.error("[Telegram.WebApp] Choose chat type is invalid",X),Error("WebAppInlineChooseChatTypeInvalid");U[X]!=2&&(U[X]=2,E.push(X))}}n.postEvent("web_app_switch_inline_query",!1,{query:y,chat_types:E})},l.openLink=function(U,_){var E=document.createElement("A");if(E.href=U,E.protocol!="http:"&&E.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",U),Error("WebAppTgUrlInvalid");var U=E.href;if(_=_||{},Se("6.1")){var z={url:U};Se("6.4")&&_.try_instant_view&&(z.try_instant_view=!0),Se("7.6")&&_.try_browser&&(z.try_browser=_.try_browser),n.postEvent("web_app_open_link",!1,z)}else window.open(U,"_blank")},l.openTelegramLink=function(y,_){var E=document.createElement("A");if(E.href=y,E.protocol!="http:"&&E.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",y),Error("WebAppTgUrlInvalid");if(E.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",y),Error("WebAppTgUrlInvalid");var U=E.pathname+E.search;if(_=_||{},s||Se("6.1")){var z={path_full:U};_.force_request&&(z.force_request=!0),n.postEvent("web_app_open_tg_link",!1,z)}else location.href="https://t.me"+U},l.openInvoice=function(y,_){var E=document.createElement("A"),U,z;if(E.href=y,E.protocol!="http:"&&E.protocol!="https:"||E.hostname!="t.me"||!(U=E.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(z=U[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",y),Error("WebAppInvoiceUrlInvalid");if(!Se("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+g),Error("WebAppMethodUnsupported");if(mr[z])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");mr[z]={url:y,callback:_},n.postEvent("web_app_open_invoice",!1,{slug:z})},l.showPopup=function(y,_){if(!Se("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+g),Error("WebAppMethodUnsupported");if(Ut)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var E="",U="",z=[],X={};if(typeof y.title<"u"){if(E=ve(y.title),E.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",E),Error("WebAppPopupParamInvalid");E.length>0&&(X.title=E)}if(typeof y.message<"u"&&(U=ve(y.message)),!U.length)throw console.error("[Telegram.WebApp] Popup message is required",y.message),Error("WebAppPopupParamInvalid");if(U.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",U),Error("WebAppPopupParamInvalid");if(X.message=U,typeof y.buttons<"u"){if(!Array.isArray(y.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",y.buttons),Error("WebAppPopupParamInvalid");for(var ie=0;ie<y.buttons.length;ie++){var ee=y.buttons[ie],xe={},ce="";if(typeof ee.id<"u"&&(ce=ee.id.toString(),ce.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",ce),Error("WebAppPopupParamInvalid");xe.id=ce;var Oe=ee.type;if(typeof Oe>"u"&&(Oe="default"),xe.type=Oe,!(Oe=="ok"||Oe=="close"||Oe=="cancel"))if(Oe=="default"||Oe=="destructive"){var Be="";if(typeof ee.text<"u"&&(Be=ve(ee.text)),!Be.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+Oe,ee.text),Error("WebAppPopupParamInvalid");if(Be.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",Be),Error("WebAppPopupParamInvalid");xe.text=Be}else throw console.error("[Telegram.WebApp] Popup button type is invalid",Oe),Error("WebAppPopupParamInvalid");z.push(xe)}}else z.push({id:"",type:"close"});if(z.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(z.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");X.buttons=z,Ut={callback:_},n.postEvent("web_app_open_popup",!1,X)},l.showAlert=function(y,_){l.showPopup({message:y},_?function(){_()}:null)},l.showConfirm=function(y,_){l.showPopup({message:y,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},_?function(E){_(E=="ok")}:null)},l.showScanQrPopup=function(y,_){if(!Se("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+g),Error("WebAppMethodUnsupported");if(Mn)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var E="",U={};if(typeof y.text<"u"){if(E=ve(y.text),E.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",E),Error("WebAppScanQrPopupParamInvalid");E.length>0&&(U.text=E)}Mn={callback:_},n.postEvent("web_app_open_scan_qr_popup",!1,U)},l.closeScanQrPopup=function(){if(!Se("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+g),Error("WebAppMethodUnsupported");Mn=!1,n.postEvent("web_app_close_scan_qr_popup",!1)},l.readTextFromClipboard=function(y){if(!Se("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+g),Error("WebAppMethodUnsupported");var _=Fe(16),E={req_id:_};Je[_]={callback:y},n.postEvent("web_app_read_text_from_clipboard",!1,E)},l.requestWriteAccess=function(y){if(!Se("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+g),Error("WebAppMethodUnsupported");if(Nn)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");Nn={callback:y},n.postEvent("web_app_request_write_access")},l.requestContact=function(y){if(!Se("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+g),Error("WebAppMethodUnsupported");if(vr)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");vr={callback:y},n.postEvent("web_app_request_phone")},l.downloadFile=function(y,_){if(!Se("8.0"))throw console.error("[Telegram.WebApp] Method downloadFile is not supported in version "+g),Error("WebAppMethodUnsupported");if(Gn)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppDownloadFilePopupOpened");var E=document.createElement("A"),U={};if(!y||!y.url||!y.url.length)throw console.error("[Telegram.WebApp] Url is required"),Error("WebAppDownloadFileParamInvalid");if(E.href=y.url,E.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",url),Error("WebAppDownloadFileParamInvalid");if(U.url=E.href,!y||!y.file_name||!y.file_name.length)throw console.error("[Telegram.WebApp] File name is required"),Error("WebAppDownloadFileParamInvalid");U.file_name=y.file_name,Gn={callback:_},n.postEvent("web_app_request_file_download",!1,U)},l.shareToStory=function(y,_){if(_=_||{},!Se("7.8"))throw console.error("[Telegram.WebApp] Method shareToStory is not supported in version "+g),Error("WebAppMethodUnsupported");var E=document.createElement("A");if(E.href=y,E.protocol!="http:"&&E.protocol!="https:")throw console.error("[Telegram.WebApp] Media url protocol is not supported",url),Error("WebAppMediaUrlInvalid");var U={};if(U.media_url=E.href,typeof _.text<"u"){var z=ve(_.text);if(z.length>2048)throw console.error("[Telegram.WebApp] Text is too long",z),Error("WebAppShareToStoryParamInvalid");z.length>0&&(U.text=z)}if(typeof _.widget_link<"u"){if(_.widget_link=_.widget_link||{},E.href=_.widget_link.url,E.protocol!="http:"&&E.protocol!="https:")throw console.error("[Telegram.WebApp] Link protocol is not supported",url),Error("WebAppShareToStoryParamInvalid");var X={url:E.href};if(typeof _.widget_link.name<"u"){var ie=ve(_.widget_link.name);if(ie.length>48)throw console.error("[Telegram.WebApp] Link name is too long",ie),Error("WebAppShareToStoryParamInvalid");ie.length>0&&(X.name=ie)}U.widget_link=X}n.postEvent("web_app_share_to_story",!1,U)},l.shareMessage=function(y,_){if(!Se("8.0"))throw console.error("[Telegram.WebApp] Method shareMessage is not supported in version "+g),Error("WebAppMethodUnsupported");if(en)throw console.error("[Telegram.WebApp] Share message is already opened"),Error("WebAppShareMessageOpened");en={callback:_},n.postEvent("web_app_send_prepared_message",!1,{id:y})},l.setEmojiStatus=function(y,_,E){if(_=_||{},!Se("8.0"))throw console.error("[Telegram.WebApp] Method setEmojiStatus is not supported in version "+g),Error("WebAppMethodUnsupported");var U={};if(U.custom_emoji_id=y,typeof _.duration<"u"&&(U.duration=_.duration),jn)throw console.error("[Telegram.WebApp] Emoji status is already requested"),Error("WebAppEmojiStatusRequested");jn={callback:E},n.postEvent("web_app_set_emoji_status",!1,U)},l.requestEmojiStatusAccess=function(y){if(!Se("8.0"))throw console.error("[Telegram.WebApp] Method requestEmojiStatusAccess is not supported in version "+g),Error("WebAppMethodUnsupported");if(bt)throw console.error("[Telegram.WebApp] Emoji status permission is already requested"),Error("WebAppEmojiStatusAccessRequested");bt={callback:y},n.postEvent("web_app_request_emoji_status_access")},l.invokeCustomMethod=function(y,_,E){ka(y,_,E)},l.ready=function(){n.postEvent("web_app_ready")},l.expand=function(){n.postEvent("web_app_expand")},l.close=function(y){y=y||{};var _={};Se("7.6")&&y.return_back&&(_.return_back=!0),n.postEvent("web_app_close",!1,_)},window.Telegram.WebApp=l,cr(),ur(),$n(),Ri(),i.tgWebAppShowSettings&&hr.show(),window.addEventListener("resize",It),s&&document.addEventListener("click",oe),n.onEvent("theme_changed",Ht),n.onEvent("viewport_changed",_n),n.onEvent("safe_area_changed",Tt),n.onEvent("content_safe_area_changed",x),n.onEvent("visibility_changed",G),n.onEvent("invoice_closed",In),n.onEvent("popup_closed",Gs),n.onEvent("qr_text_received",Vs),n.onEvent("scan_qr_popup_closed",jl),n.onEvent("clipboard_text_received",Ui),n.onEvent("write_access_requested",En),n.onEvent("phone_requested",Dl),n.onEvent("file_download_requested",Ws),n.onEvent("custom_method_invoked",Mi),n.onEvent("fullscreen_changed",Cl),n.onEvent("fullscreen_failed",Al),n.onEvent("home_screen_added",Ms),n.onEvent("home_screen_checked",Ns),n.onEvent("prepared_message_sent",Rl),n.onEvent("prepared_message_failed",Bs),n.onEvent("emoji_status_set",Ol),n.onEvent("emoji_status_failed",Yr),n.onEvent("emoji_status_access_requested",Dn),n.postEvent("web_app_request_theme"),n.postEvent("web_app_request_viewport"),n.postEvent("web_app_request_safe_area"),n.postEvent("web_app_request_content_safe_area")})()),ag}var og;function ab(){if(og)return bs;og=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.WebApp=void 0,ib();var a=window;return bs.WebApp=a.Telegram.WebApp,bs}var lg;function sb(){if(lg)return el;lg=1,Object.defineProperty(el,"__esModule",{value:!0});var a=ab();return el.default=a.WebApp,el}var ob=sb();const mi=Hg(ob);class lb{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(n){this.flush(),this._parts.push(n)}append(n){this._pieces.push(n)}flush(){if(this._pieces.length>0){const n=new Uint8Array(this._pieces);this._parts.push(n),this._pieces=[]}}toArrayBuffer(){const n=[];for(const i of this._parts)n.push(i);return cb(n).buffer}}function cb(a){let n=0;for(const l of a)n+=l.byteLength;const i=new Uint8Array(n);let s=0;for(const l of a){const u=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);i.set(u,s),s+=l.byteLength}return i}function Ig(a){return new ub(a).unpack()}function Gg(a){const n=new fb,i=n.pack(a);return i instanceof Promise?i.then(()=>n.getBuffer()):n.getBuffer()}class ub{constructor(n){this.index=0,this.dataBuffer=n,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const n=this.unpack_uint8();if(n<128)return n;if((n^224)<32)return(n^224)-32;let i;if((i=n^160)<=15)return this.unpack_raw(i);if((i=n^176)<=15)return this.unpack_string(i);if((i=n^144)<=15)return this.unpack_array(i);if((i=n^128)<=15)return this.unpack_map(i);switch(n){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return i=this.unpack_uint16(),this.unpack_string(i);case 217:return i=this.unpack_uint32(),this.unpack_string(i);case 218:return i=this.unpack_uint16(),this.unpack_raw(i);case 219:return i=this.unpack_uint32(),this.unpack_raw(i);case 220:return i=this.unpack_uint16(),this.unpack_array(i);case 221:return i=this.unpack_uint32(),this.unpack_array(i);case 222:return i=this.unpack_uint16(),this.unpack_map(i);case 223:return i=this.unpack_uint32(),this.unpack_map(i)}}unpack_uint8(){const n=this.dataView[this.index]&255;return this.index++,n}unpack_uint16(){const n=this.read(2),i=(n[0]&255)*256+(n[1]&255);return this.index+=2,i}unpack_uint32(){const n=this.read(4),i=((n[0]*256+n[1])*256+n[2])*256+n[3];return this.index+=4,i}unpack_uint64(){const n=this.read(8),i=((((((n[0]*256+n[1])*256+n[2])*256+n[3])*256+n[4])*256+n[5])*256+n[6])*256+n[7];return this.index+=8,i}unpack_int8(){const n=this.unpack_uint8();return n<128?n:n-256}unpack_int16(){const n=this.unpack_uint16();return n<32768?n:n-65536}unpack_int32(){const n=this.unpack_uint32();return n<2**31?n:n-2**32}unpack_int64(){const n=this.unpack_uint64();return n<2**63?n:n-2**64}unpack_raw(n){if(this.length<this.index+n)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${n} ${this.length}`);const i=this.dataBuffer.slice(this.index,this.index+n);return this.index+=n,i}unpack_string(n){const i=this.read(n);let s=0,l="",u,h;for(;s<n;)u=i[s],u<160?(h=u,s++):(u^192)<32?(h=(u&31)<<6|i[s+1]&63,s+=2):(u^224)<16?(h=(u&15)<<12|(i[s+1]&63)<<6|i[s+2]&63,s+=3):(h=(u&7)<<18|(i[s+1]&63)<<12|(i[s+2]&63)<<6|i[s+3]&63,s+=4),l+=String.fromCodePoint(h);return this.index+=n,l}unpack_array(n){const i=new Array(n);for(let s=0;s<n;s++)i[s]=this.unpack();return i}unpack_map(n){const i={};for(let s=0;s<n;s++){const l=this.unpack();i[l]=this.unpack()}return i}unpack_float(){const n=this.unpack_uint32(),i=n>>31,s=(n>>23&255)-127,l=n&8388607|8388608;return(i===0?1:-1)*l*2**(s-23)}unpack_double(){const n=this.unpack_uint32(),i=this.unpack_uint32(),s=n>>31,l=(n>>20&2047)-1023,h=(n&1048575|1048576)*2**(l-20)+i*2**(l-52);return(s===0?1:-1)*h}read(n){const i=this.index;if(i+n<=this.length)return this.dataView.subarray(i,i+n);throw new Error("BinaryPackFailure: read index out of range")}}class fb{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(n){if(typeof n=="string")this.pack_string(n);else if(typeof n=="number")Math.floor(n)===n?this.pack_integer(n):this.pack_double(n);else if(typeof n=="boolean")n===!0?this._bufferBuilder.append(195):n===!1&&this._bufferBuilder.append(194);else if(n===void 0)this._bufferBuilder.append(192);else if(typeof n=="object")if(n===null)this._bufferBuilder.append(192);else{const i=n.constructor;if(n instanceof Array){const s=this.pack_array(n);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else if(n instanceof ArrayBuffer)this.pack_bin(new Uint8Array(n));else if("BYTES_PER_ELEMENT"in n){const s=n;this.pack_bin(new Uint8Array(s.buffer,s.byteOffset,s.byteLength))}else if(n instanceof Date)this.pack_string(n.toString());else{if(n instanceof Blob)return n.arrayBuffer().then(s=>{this.pack_bin(new Uint8Array(s)),this._bufferBuilder.flush()});if(i==Object||i.toString().startsWith("class")){const s=this.pack_object(n);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${i.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof n}" not yet supported`);this._bufferBuilder.flush()}pack_bin(n){const i=n.length;if(i<=15)this.pack_uint8(160+i);else if(i<=65535)this._bufferBuilder.append(218),this.pack_uint16(i);else if(i<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(i);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_string(n){const i=this._textEncoder.encode(n),s=i.length;if(s<=15)this.pack_uint8(176+s);else if(s<=65535)this._bufferBuilder.append(216),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(s);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(i)}pack_array(n){const i=n.length;if(i<=15)this.pack_uint8(144+i);else if(i<=65535)this._bufferBuilder.append(220),this.pack_uint16(i);else if(i<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(i);else throw new Error("Invalid length");const s=l=>{if(l<i){const u=this.pack(n[l]);return u instanceof Promise?u.then(()=>s(l+1)):s(l+1)}};return s(0)}pack_integer(n){if(n>=-32&&n<=127)this._bufferBuilder.append(n&255);else if(n>=0&&n<=255)this._bufferBuilder.append(204),this.pack_uint8(n);else if(n>=-128&&n<=127)this._bufferBuilder.append(208),this.pack_int8(n);else if(n>=0&&n<=65535)this._bufferBuilder.append(205),this.pack_uint16(n);else if(n>=-32768&&n<=32767)this._bufferBuilder.append(209),this.pack_int16(n);else if(n>=0&&n<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(n);else if(n>=-2147483648&&n<=2147483647)this._bufferBuilder.append(210),this.pack_int32(n);else if(n>=-9223372036854776e3&&n<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(n);else if(n>=0&&n<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(n);else throw new Error("Invalid integer")}pack_double(n){let i=0;n<0&&(i=1,n=-n);const s=Math.floor(Math.log(n)/Math.LN2),l=n/2**s-1,u=Math.floor(l*2**52),h=2**32,d=i<<31|s+1023<<20|u/h&1048575,m=u%h;this._bufferBuilder.append(203),this.pack_int32(d),this.pack_int32(m)}pack_object(n){const i=Object.keys(n),s=i.length;if(s<=15)this.pack_uint8(128+s);else if(s<=65535)this._bufferBuilder.append(222),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(s);else throw new Error("Invalid length");const l=u=>{if(u<i.length){const h=i[u];if(n.hasOwnProperty(h)){this.pack(h);const d=this.pack(n[h]);if(d instanceof Promise)return d.then(()=>l(u+1))}return l(u+1)}};return l(0)}pack_uint8(n){this._bufferBuilder.append(n)}pack_uint16(n){this._bufferBuilder.append(n>>8),this._bufferBuilder.append(n&255)}pack_uint32(n){const i=n&4294967295;this._bufferBuilder.append((i&4278190080)>>>24),this._bufferBuilder.append((i&16711680)>>>16),this._bufferBuilder.append((i&65280)>>>8),this._bufferBuilder.append(i&255)}pack_uint64(n){const i=n/4294967296,s=n%2**32;this._bufferBuilder.append((i&4278190080)>>>24),this._bufferBuilder.append((i&16711680)>>>16),this._bufferBuilder.append((i&65280)>>>8),this._bufferBuilder.append(i&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}pack_int8(n){this._bufferBuilder.append(n&255)}pack_int16(n){this._bufferBuilder.append((n&65280)>>8),this._bufferBuilder.append(n&255)}pack_int32(n){this._bufferBuilder.append(n>>>24&255),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_int64(n){const i=Math.floor(n/4294967296),s=n%2**32;this._bufferBuilder.append((i&4278190080)>>>24),this._bufferBuilder.append((i&16711680)>>>16),this._bufferBuilder.append((i&65280)>>>8),this._bufferBuilder.append(i&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}constructor(){this._bufferBuilder=new lb,this._textEncoder=new TextEncoder}}let Vg=!0,Wg=!0;function Ts(a,n,i){const s=a.match(n);return s&&s.length>=i&&parseFloat(s[i],10)}function Ei(a,n,i){if(!a.RTCPeerConnection)return;const s=a.RTCPeerConnection.prototype,l=s.addEventListener;s.addEventListener=function(h,d){if(h!==n)return l.apply(this,arguments);const m=g=>{const b=i(g);b&&(d.handleEvent?d.handleEvent(b):d(b))};return this._eventMap=this._eventMap||{},this._eventMap[n]||(this._eventMap[n]=new Map),this._eventMap[n].set(d,m),l.apply(this,[h,m])};const u=s.removeEventListener;s.removeEventListener=function(h,d){if(h!==n||!this._eventMap||!this._eventMap[n])return u.apply(this,arguments);if(!this._eventMap[n].has(d))return u.apply(this,arguments);const m=this._eventMap[n].get(d);return this._eventMap[n].delete(d),this._eventMap[n].size===0&&delete this._eventMap[n],Object.keys(this._eventMap).length===0&&delete this._eventMap,u.apply(this,[h,m])},Object.defineProperty(s,"on"+n,{get(){return this["_on"+n]},set(h){this["_on"+n]&&(this.removeEventListener(n,this["_on"+n]),delete this["_on"+n]),h&&this.addEventListener(n,this["_on"+n]=h)},enumerable:!0,configurable:!0})}function hb(a){return typeof a!="boolean"?new Error("Argument type: "+typeof a+". Please use a boolean."):(Vg=a,a?"adapter.js logging disabled":"adapter.js logging enabled")}function db(a){return typeof a!="boolean"?new Error("Argument type: "+typeof a+". Please use a boolean."):(Wg=!a,"adapter.js deprecation warnings "+(a?"disabled":"enabled"))}function Yg(){if(typeof window=="object"){if(Vg)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function df(a,n){Wg&&console.warn(a+" is deprecated, please use "+n+" instead.")}function pb(a){const n={browser:null,version:null};if(typeof a>"u"||!a.navigator||!a.navigator.userAgent)return n.browser="Not a browser.",n;const{navigator:i}=a;if(i.userAgentData&&i.userAgentData.brands){const s=i.userAgentData.brands.find(l=>l.brand==="Chromium");if(s)return{browser:"chrome",version:parseInt(s.version,10)}}if(i.mozGetUserMedia)n.browser="firefox",n.version=parseInt(Ts(i.userAgent,/Firefox\/(\d+)\./,1));else if(i.webkitGetUserMedia||a.isSecureContext===!1&&a.webkitRTCPeerConnection)n.browser="chrome",n.version=parseInt(Ts(i.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(a.RTCPeerConnection&&i.userAgent.match(/AppleWebKit\/(\d+)\./))n.browser="safari",n.version=parseInt(Ts(i.userAgent,/AppleWebKit\/(\d+)\./,1)),n.supportsUnifiedPlan=a.RTCRtpTransceiver&&"currentDirection"in a.RTCRtpTransceiver.prototype,n._safariVersion=Ts(i.userAgent,/Version\/(\d+(\.?\d+))/,1);else return n.browser="Not a supported browser.",n;return n}function cg(a){return Object.prototype.toString.call(a)==="[object Object]"}function Kg(a){return cg(a)?Object.keys(a).reduce(function(n,i){const s=cg(a[i]),l=s?Kg(a[i]):a[i],u=s&&!Object.keys(l).length;return l===void 0||u?n:Object.assign(n,{[i]:l})},{}):a}function Ku(a,n,i){!n||i.has(n.id)||(i.set(n.id,n),Object.keys(n).forEach(s=>{s.endsWith("Id")?Ku(a,a.get(n[s]),i):s.endsWith("Ids")&&n[s].forEach(l=>{Ku(a,a.get(l),i)})}))}function ug(a,n,i){const s=i?"outbound-rtp":"inbound-rtp",l=new Map;if(n===null)return l;const u=[];return a.forEach(h=>{h.type==="track"&&h.trackIdentifier===n.id&&u.push(h)}),u.forEach(h=>{a.forEach(d=>{d.type===s&&d.trackId===h.id&&Ku(a,d,l)})}),l}const fg=Yg;function Jg(a,n){const i=a&&a.navigator;if(!i.mediaDevices)return;const s=function(d){if(typeof d!="object"||d.mandatory||d.optional)return d;const m={};return Object.keys(d).forEach(g=>{if(g==="require"||g==="advanced"||g==="mediaSource")return;const b=typeof d[g]=="object"?d[g]:{ideal:d[g]};b.exact!==void 0&&typeof b.exact=="number"&&(b.min=b.max=b.exact);const S=function(w,R){return w?w+R.charAt(0).toUpperCase()+R.slice(1):R==="deviceId"?"sourceId":R};if(b.ideal!==void 0){m.optional=m.optional||[];let w={};typeof b.ideal=="number"?(w[S("min",g)]=b.ideal,m.optional.push(w),w={},w[S("max",g)]=b.ideal,m.optional.push(w)):(w[S("",g)]=b.ideal,m.optional.push(w))}b.exact!==void 0&&typeof b.exact!="number"?(m.mandatory=m.mandatory||{},m.mandatory[S("",g)]=b.exact):["min","max"].forEach(w=>{b[w]!==void 0&&(m.mandatory=m.mandatory||{},m.mandatory[S(w,g)]=b[w])})}),d.advanced&&(m.optional=(m.optional||[]).concat(d.advanced)),m},l=function(d,m){if(n.version>=61)return m(d);if(d=JSON.parse(JSON.stringify(d)),d&&typeof d.audio=="object"){const g=function(b,S,w){S in b&&!(w in b)&&(b[w]=b[S],delete b[S])};d=JSON.parse(JSON.stringify(d)),g(d.audio,"autoGainControl","googAutoGainControl"),g(d.audio,"noiseSuppression","googNoiseSuppression"),d.audio=s(d.audio)}if(d&&typeof d.video=="object"){let g=d.video.facingMode;g=g&&(typeof g=="object"?g:{ideal:g});const b=n.version<66;if(g&&(g.exact==="user"||g.exact==="environment"||g.ideal==="user"||g.ideal==="environment")&&!(i.mediaDevices.getSupportedConstraints&&i.mediaDevices.getSupportedConstraints().facingMode&&!b)){delete d.video.facingMode;let S;if(g.exact==="environment"||g.ideal==="environment"?S=["back","rear"]:(g.exact==="user"||g.ideal==="user")&&(S=["front"]),S)return i.mediaDevices.enumerateDevices().then(w=>{w=w.filter(M=>M.kind==="videoinput");let R=w.find(M=>S.some(q=>M.label.toLowerCase().includes(q)));return!R&&w.length&&S.includes("back")&&(R=w[w.length-1]),R&&(d.video.deviceId=g.exact?{exact:R.deviceId}:{ideal:R.deviceId}),d.video=s(d.video),fg("chrome: "+JSON.stringify(d)),m(d)})}d.video=s(d.video)}return fg("chrome: "+JSON.stringify(d)),m(d)},u=function(d){return n.version>=64?d:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[d.name]||d.name,message:d.message,constraint:d.constraint||d.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},h=function(d,m,g){l(d,b=>{i.webkitGetUserMedia(b,m,S=>{g&&g(u(S))})})};if(i.getUserMedia=h.bind(i),i.mediaDevices.getUserMedia){const d=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(m){return l(m,g=>d(g).then(b=>{if(g.audio&&!b.getAudioTracks().length||g.video&&!b.getVideoTracks().length)throw b.getTracks().forEach(S=>{S.stop()}),new DOMException("","NotFoundError");return b},b=>Promise.reject(u(b))))}}}function Qg(a){a.MediaStream=a.MediaStream||a.webkitMediaStream}function Xg(a){if(typeof a=="object"&&a.RTCPeerConnection&&!("ontrack"in a.RTCPeerConnection.prototype)){Object.defineProperty(a.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(i){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=i)},enumerable:!0,configurable:!0});const n=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",l=>{let u;a.RTCPeerConnection.prototype.getReceivers?u=this.getReceivers().find(d=>d.track&&d.track.id===l.track.id):u={track:l.track};const h=new Event("track");h.track=l.track,h.receiver=u,h.transceiver={receiver:u},h.streams=[s.stream],this.dispatchEvent(h)}),s.stream.getTracks().forEach(l=>{let u;a.RTCPeerConnection.prototype.getReceivers?u=this.getReceivers().find(d=>d.track&&d.track.id===l.id):u={track:l};const h=new Event("track");h.track=l,h.receiver=u,h.transceiver={receiver:u},h.streams=[s.stream],this.dispatchEvent(h)})},this.addEventListener("addstream",this._ontrackpoly)),n.apply(this,arguments)}}else Ei(a,"track",n=>(n.transceiver||Object.defineProperty(n,"transceiver",{value:{receiver:n.receiver}}),n))}function Zg(a){if(typeof a=="object"&&a.RTCPeerConnection&&!("getSenders"in a.RTCPeerConnection.prototype)&&"createDTMFSender"in a.RTCPeerConnection.prototype){const n=function(l,u){return{track:u,get dtmf(){return this._dtmf===void 0&&(u.kind==="audio"?this._dtmf=l.createDTMFSender(u):this._dtmf=null),this._dtmf},_pc:l}};if(!a.RTCPeerConnection.prototype.getSenders){a.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const l=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addTrack=function(d,m){let g=l.apply(this,arguments);return g||(g=n(this,d),this._senders.push(g)),g};const u=a.RTCPeerConnection.prototype.removeTrack;a.RTCPeerConnection.prototype.removeTrack=function(d){u.apply(this,arguments);const m=this._senders.indexOf(d);m!==-1&&this._senders.splice(m,1)}}const i=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(u){this._senders=this._senders||[],i.apply(this,[u]),u.getTracks().forEach(h=>{this._senders.push(n(this,h))})};const s=a.RTCPeerConnection.prototype.removeStream;a.RTCPeerConnection.prototype.removeStream=function(u){this._senders=this._senders||[],s.apply(this,[u]),u.getTracks().forEach(h=>{const d=this._senders.find(m=>m.track===h);d&&this._senders.splice(this._senders.indexOf(d),1)})}}else if(typeof a=="object"&&a.RTCPeerConnection&&"getSenders"in a.RTCPeerConnection.prototype&&"createDTMFSender"in a.RTCPeerConnection.prototype&&a.RTCRtpSender&&!("dtmf"in a.RTCRtpSender.prototype)){const n=a.RTCPeerConnection.prototype.getSenders;a.RTCPeerConnection.prototype.getSenders=function(){const s=n.apply(this,[]);return s.forEach(l=>l._pc=this),s},Object.defineProperty(a.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Fg(a){if(!(typeof a=="object"&&a.RTCPeerConnection&&a.RTCRtpSender&&a.RTCRtpReceiver))return;if(!("getStats"in a.RTCRtpSender.prototype)){const i=a.RTCPeerConnection.prototype.getSenders;i&&(a.RTCPeerConnection.prototype.getSenders=function(){const u=i.apply(this,[]);return u.forEach(h=>h._pc=this),u});const s=a.RTCPeerConnection.prototype.addTrack;s&&(a.RTCPeerConnection.prototype.addTrack=function(){const u=s.apply(this,arguments);return u._pc=this,u}),a.RTCRtpSender.prototype.getStats=function(){const u=this;return this._pc.getStats().then(h=>ug(h,u.track,!0))}}if(!("getStats"in a.RTCRtpReceiver.prototype)){const i=a.RTCPeerConnection.prototype.getReceivers;i&&(a.RTCPeerConnection.prototype.getReceivers=function(){const l=i.apply(this,[]);return l.forEach(u=>u._pc=this),l}),Ei(a,"track",s=>(s.receiver._pc=s.srcElement,s)),a.RTCRtpReceiver.prototype.getStats=function(){const l=this;return this._pc.getStats().then(u=>ug(u,l.track,!1))}}if(!("getStats"in a.RTCRtpSender.prototype&&"getStats"in a.RTCRtpReceiver.prototype))return;const n=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof a.MediaStreamTrack){const s=arguments[0];let l,u,h;return this.getSenders().forEach(d=>{d.track===s&&(l?h=!0:l=d)}),this.getReceivers().forEach(d=>(d.track===s&&(u?h=!0:u=d),d.track===s)),h||l&&u?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):l?l.getStats():u?u.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return n.apply(this,arguments)}}function em(a){a.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(h=>this._shimmedLocalStreams[h][0])};const n=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addTrack=function(h,d){if(!d)return n.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const m=n.apply(this,arguments);return this._shimmedLocalStreams[d.id]?this._shimmedLocalStreams[d.id].indexOf(m)===-1&&this._shimmedLocalStreams[d.id].push(m):this._shimmedLocalStreams[d.id]=[d,m],m};const i=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(h){this._shimmedLocalStreams=this._shimmedLocalStreams||{},h.getTracks().forEach(g=>{if(this.getSenders().find(S=>S.track===g))throw new DOMException("Track already exists.","InvalidAccessError")});const d=this.getSenders();i.apply(this,arguments);const m=this.getSenders().filter(g=>d.indexOf(g)===-1);this._shimmedLocalStreams[h.id]=[h].concat(m)};const s=a.RTCPeerConnection.prototype.removeStream;a.RTCPeerConnection.prototype.removeStream=function(h){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[h.id],s.apply(this,arguments)};const l=a.RTCPeerConnection.prototype.removeTrack;a.RTCPeerConnection.prototype.removeTrack=function(h){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},h&&Object.keys(this._shimmedLocalStreams).forEach(d=>{const m=this._shimmedLocalStreams[d].indexOf(h);m!==-1&&this._shimmedLocalStreams[d].splice(m,1),this._shimmedLocalStreams[d].length===1&&delete this._shimmedLocalStreams[d]}),l.apply(this,arguments)}}function tm(a,n){if(!a.RTCPeerConnection)return;if(a.RTCPeerConnection.prototype.addTrack&&n.version>=65)return em(a);const i=a.RTCPeerConnection.prototype.getLocalStreams;a.RTCPeerConnection.prototype.getLocalStreams=function(){const b=i.apply(this);return this._reverseStreams=this._reverseStreams||{},b.map(S=>this._reverseStreams[S.id])};const s=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(b){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},b.getTracks().forEach(S=>{if(this.getSenders().find(R=>R.track===S))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[b.id]){const S=new a.MediaStream(b.getTracks());this._streams[b.id]=S,this._reverseStreams[S.id]=b,b=S}s.apply(this,[b])};const l=a.RTCPeerConnection.prototype.removeStream;a.RTCPeerConnection.prototype.removeStream=function(b){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},l.apply(this,[this._streams[b.id]||b]),delete this._reverseStreams[this._streams[b.id]?this._streams[b.id].id:b.id],delete this._streams[b.id]},a.RTCPeerConnection.prototype.addTrack=function(b,S){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const w=[].slice.call(arguments,1);if(w.length!==1||!w[0].getTracks().find(q=>q===b))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(q=>q.track===b))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const M=this._streams[S.id];if(M)M.addTrack(b),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const q=new a.MediaStream([b]);this._streams[S.id]=q,this._reverseStreams[q.id]=S,this.addStream(q)}return this.getSenders().find(q=>q.track===b)};function u(g,b){let S=b.sdp;return Object.keys(g._reverseStreams||[]).forEach(w=>{const R=g._reverseStreams[w],M=g._streams[R.id];S=S.replace(new RegExp(M.id,"g"),R.id)}),new RTCSessionDescription({type:b.type,sdp:S})}function h(g,b){let S=b.sdp;return Object.keys(g._reverseStreams||[]).forEach(w=>{const R=g._reverseStreams[w],M=g._streams[R.id];S=S.replace(new RegExp(R.id,"g"),M.id)}),new RTCSessionDescription({type:b.type,sdp:S})}["createOffer","createAnswer"].forEach(function(g){const b=a.RTCPeerConnection.prototype[g],S={[g](){const w=arguments;return arguments.length&&typeof arguments[0]=="function"?b.apply(this,[M=>{const q=u(this,M);w[0].apply(null,[q])},M=>{w[1]&&w[1].apply(null,M)},arguments[2]]):b.apply(this,arguments).then(M=>u(this,M))}};a.RTCPeerConnection.prototype[g]=S[g]});const d=a.RTCPeerConnection.prototype.setLocalDescription;a.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?d.apply(this,arguments):(arguments[0]=h(this,arguments[0]),d.apply(this,arguments))};const m=Object.getOwnPropertyDescriptor(a.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(a.RTCPeerConnection.prototype,"localDescription",{get(){const g=m.get.apply(this);return g.type===""?g:u(this,g)}}),a.RTCPeerConnection.prototype.removeTrack=function(b){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!b._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(b._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let w;Object.keys(this._streams).forEach(R=>{this._streams[R].getTracks().find(q=>b.track===q)&&(w=this._streams[R])}),w&&(w.getTracks().length===1?this.removeStream(this._reverseStreams[w.id]):w.removeTrack(b.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Ju(a,n){!a.RTCPeerConnection&&a.webkitRTCPeerConnection&&(a.RTCPeerConnection=a.webkitRTCPeerConnection),a.RTCPeerConnection&&n.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const s=a.RTCPeerConnection.prototype[i],l={[i](){return arguments[0]=new(i==="addIceCandidate"?a.RTCIceCandidate:a.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};a.RTCPeerConnection.prototype[i]=l[i]})}function nm(a,n){Ei(a,"negotiationneeded",i=>{const s=i.target;if(!((n.version<72||s.getConfiguration&&s.getConfiguration().sdpSemantics==="plan-b")&&s.signalingState!=="stable"))return i})}const hg=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:nm,shimAddTrackRemoveTrack:tm,shimAddTrackRemoveTrackWithNative:em,shimGetSendersWithDtmf:Zg,shimGetUserMedia:Jg,shimMediaStream:Qg,shimOnTrack:Xg,shimPeerConnection:Ju,shimSenderReceiverGetStats:Fg},Symbol.toStringTag,{value:"Module"}));function rm(a,n){const i=a&&a.navigator,s=a&&a.MediaStreamTrack;if(i.getUserMedia=function(l,u,h){df("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),i.mediaDevices.getUserMedia(l).then(u,h)},!(n.version>55&&"autoGainControl"in i.mediaDevices.getSupportedConstraints())){const l=function(h,d,m){d in h&&!(m in h)&&(h[m]=h[d],delete h[d])},u=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(h){return typeof h=="object"&&typeof h.audio=="object"&&(h=JSON.parse(JSON.stringify(h)),l(h.audio,"autoGainControl","mozAutoGainControl"),l(h.audio,"noiseSuppression","mozNoiseSuppression")),u(h)},s&&s.prototype.getSettings){const h=s.prototype.getSettings;s.prototype.getSettings=function(){const d=h.apply(this,arguments);return l(d,"mozAutoGainControl","autoGainControl"),l(d,"mozNoiseSuppression","noiseSuppression"),d}}if(s&&s.prototype.applyConstraints){const h=s.prototype.applyConstraints;s.prototype.applyConstraints=function(d){return this.kind==="audio"&&typeof d=="object"&&(d=JSON.parse(JSON.stringify(d)),l(d,"autoGainControl","mozAutoGainControl"),l(d,"noiseSuppression","mozNoiseSuppression")),h.apply(this,[d])}}}}function gb(a,n){a.navigator.mediaDevices&&"getDisplayMedia"in a.navigator.mediaDevices||a.navigator.mediaDevices&&(a.navigator.mediaDevices.getDisplayMedia=function(s){if(!(s&&s.video)){const l=new DOMException("getDisplayMedia without video constraints is undefined");return l.name="NotFoundError",l.code=8,Promise.reject(l)}return s.video===!0?s.video={mediaSource:n}:s.video.mediaSource=n,a.navigator.mediaDevices.getUserMedia(s)})}function im(a){typeof a=="object"&&a.RTCTrackEvent&&"receiver"in a.RTCTrackEvent.prototype&&!("transceiver"in a.RTCTrackEvent.prototype)&&Object.defineProperty(a.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Qu(a,n){if(typeof a!="object"||!(a.RTCPeerConnection||a.mozRTCPeerConnection))return;!a.RTCPeerConnection&&a.mozRTCPeerConnection&&(a.RTCPeerConnection=a.mozRTCPeerConnection),n.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(l){const u=a.RTCPeerConnection.prototype[l],h={[l](){return arguments[0]=new(l==="addIceCandidate"?a.RTCIceCandidate:a.RTCSessionDescription)(arguments[0]),u.apply(this,arguments)}};a.RTCPeerConnection.prototype[l]=h[l]});const i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(){const[u,h,d]=arguments;return s.apply(this,[u||null]).then(m=>{if(n.version<53&&!h)try{m.forEach(g=>{g.type=i[g.type]||g.type})}catch(g){if(g.name!=="TypeError")throw g;m.forEach((b,S)=>{m.set(S,Object.assign({},b,{type:i[b.type]||b.type}))})}return m}).then(h,d)}}function am(a){if(!(typeof a=="object"&&a.RTCPeerConnection&&a.RTCRtpSender)||a.RTCRtpSender&&"getStats"in a.RTCRtpSender.prototype)return;const n=a.RTCPeerConnection.prototype.getSenders;n&&(a.RTCPeerConnection.prototype.getSenders=function(){const l=n.apply(this,[]);return l.forEach(u=>u._pc=this),l});const i=a.RTCPeerConnection.prototype.addTrack;i&&(a.RTCPeerConnection.prototype.addTrack=function(){const l=i.apply(this,arguments);return l._pc=this,l}),a.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function sm(a){if(!(typeof a=="object"&&a.RTCPeerConnection&&a.RTCRtpSender)||a.RTCRtpSender&&"getStats"in a.RTCRtpReceiver.prototype)return;const n=a.RTCPeerConnection.prototype.getReceivers;n&&(a.RTCPeerConnection.prototype.getReceivers=function(){const s=n.apply(this,[]);return s.forEach(l=>l._pc=this),s}),Ei(a,"track",i=>(i.receiver._pc=i.srcElement,i)),a.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function om(a){!a.RTCPeerConnection||"removeStream"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.removeStream=function(i){df("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&i.getTracks().includes(s.track)&&this.removeTrack(s)})})}function lm(a){a.DataChannel&&!a.RTCDataChannel&&(a.RTCDataChannel=a.DataChannel)}function cm(a){if(!(typeof a=="object"&&a.RTCPeerConnection))return;const n=a.RTCPeerConnection.prototype.addTransceiver;n&&(a.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;s===void 0&&(s=[]),s=[...s];const l=s.length>0;l&&s.forEach(h=>{if("rid"in h&&!/^[a-z0-9]{0,16}$/i.test(h.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in h&&!(parseFloat(h.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in h&&!(parseFloat(h.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const u=n.apply(this,arguments);if(l){const{sender:h}=u,d=h.getParameters();(!("encodings"in d)||d.encodings.length===1&&Object.keys(d.encodings[0]).length===0)&&(d.encodings=s,h.sendEncodings=s,this.setParametersPromises.push(h.setParameters(d).then(()=>{delete h.sendEncodings}).catch(()=>{delete h.sendEncodings})))}return u})}function um(a){if(!(typeof a=="object"&&a.RTCRtpSender))return;const n=a.RTCRtpSender.prototype.getParameters;n&&(a.RTCRtpSender.prototype.getParameters=function(){const s=n.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function fm(a){if(!(typeof a=="object"&&a.RTCPeerConnection))return;const n=a.RTCPeerConnection.prototype.createOffer;a.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>n.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):n.apply(this,arguments)}}function hm(a){if(!(typeof a=="object"&&a.RTCPeerConnection))return;const n=a.RTCPeerConnection.prototype.createAnswer;a.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>n.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):n.apply(this,arguments)}}const dg=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:cm,shimCreateAnswer:hm,shimCreateOffer:fm,shimGetDisplayMedia:gb,shimGetParameters:um,shimGetUserMedia:rm,shimOnTrack:im,shimPeerConnection:Qu,shimRTCDataChannel:lm,shimReceiverGetStats:sm,shimRemoveStream:om,shimSenderGetStats:am},Symbol.toStringTag,{value:"Module"}));function dm(a){if(!(typeof a!="object"||!a.RTCPeerConnection)){if("getLocalStreams"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in a.RTCPeerConnection.prototype)){const n=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(l=>n.call(this,l,s)),s.getVideoTracks().forEach(l=>n.call(this,l,s))},a.RTCPeerConnection.prototype.addTrack=function(s,...l){return l&&l.forEach(u=>{this._localStreams?this._localStreams.includes(u)||this._localStreams.push(u):this._localStreams=[u]}),n.apply(this,arguments)}}"removeStream"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.removeStream=function(i){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(i);if(s===-1)return;this._localStreams.splice(s,1);const l=i.getTracks();this.getSenders().forEach(u=>{l.includes(u.track)&&this.removeTrack(u)})})}}function pm(a){if(!(typeof a!="object"||!a.RTCPeerConnection)&&("getRemoteStreams"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in a.RTCPeerConnection.prototype))){Object.defineProperty(a.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(i){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=i),this.addEventListener("track",this._onaddstreampoly=s=>{s.streams.forEach(l=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(l))return;this._remoteStreams.push(l);const u=new Event("addstream");u.stream=l,this.dispatchEvent(u)})})}});const n=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(l){l.streams.forEach(u=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(u)>=0)return;s._remoteStreams.push(u);const h=new Event("addstream");h.stream=u,s.dispatchEvent(h)})}),n.apply(s,arguments)}}}function gm(a){if(typeof a!="object"||!a.RTCPeerConnection)return;const n=a.RTCPeerConnection.prototype,i=n.createOffer,s=n.createAnswer,l=n.setLocalDescription,u=n.setRemoteDescription,h=n.addIceCandidate;n.createOffer=function(g,b){const S=arguments.length>=2?arguments[2]:arguments[0],w=i.apply(this,[S]);return b?(w.then(g,b),Promise.resolve()):w},n.createAnswer=function(g,b){const S=arguments.length>=2?arguments[2]:arguments[0],w=s.apply(this,[S]);return b?(w.then(g,b),Promise.resolve()):w};let d=function(m,g,b){const S=l.apply(this,[m]);return b?(S.then(g,b),Promise.resolve()):S};n.setLocalDescription=d,d=function(m,g,b){const S=u.apply(this,[m]);return b?(S.then(g,b),Promise.resolve()):S},n.setRemoteDescription=d,d=function(m,g,b){const S=h.apply(this,[m]);return b?(S.then(g,b),Promise.resolve()):S},n.addIceCandidate=d}function mm(a){const n=a&&a.navigator;if(n.mediaDevices&&n.mediaDevices.getUserMedia){const i=n.mediaDevices,s=i.getUserMedia.bind(i);n.mediaDevices.getUserMedia=l=>s(vm(l))}!n.getUserMedia&&n.mediaDevices&&n.mediaDevices.getUserMedia&&(n.getUserMedia=(function(s,l,u){n.mediaDevices.getUserMedia(s).then(l,u)}).bind(n))}function vm(a){return a&&a.video!==void 0?Object.assign({},a,{video:Kg(a.video)}):a}function ym(a){if(!a.RTCPeerConnection)return;const n=a.RTCPeerConnection;a.RTCPeerConnection=function(s,l){if(s&&s.iceServers){const u=[];for(let h=0;h<s.iceServers.length;h++){let d=s.iceServers[h];d.urls===void 0&&d.url?(df("RTCIceServer.url","RTCIceServer.urls"),d=JSON.parse(JSON.stringify(d)),d.urls=d.url,delete d.url,u.push(d)):u.push(s.iceServers[h])}s.iceServers=u}return new n(s,l)},a.RTCPeerConnection.prototype=n.prototype,"generateCertificate"in n&&Object.defineProperty(a.RTCPeerConnection,"generateCertificate",{get(){return n.generateCertificate}})}function bm(a){typeof a=="object"&&a.RTCTrackEvent&&"receiver"in a.RTCTrackEvent.prototype&&!("transceiver"in a.RTCTrackEvent.prototype)&&Object.defineProperty(a.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function _m(a){const n=a.RTCPeerConnection.prototype.createOffer;a.RTCPeerConnection.prototype.createOffer=function(s){if(s){typeof s.offerToReceiveAudio<"u"&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const l=this.getTransceivers().find(h=>h.receiver.track.kind==="audio");s.offerToReceiveAudio===!1&&l?l.direction==="sendrecv"?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":l.direction==="recvonly"&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):s.offerToReceiveAudio===!0&&!l&&this.addTransceiver("audio",{direction:"recvonly"}),typeof s.offerToReceiveVideo<"u"&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const u=this.getTransceivers().find(h=>h.receiver.track.kind==="video");s.offerToReceiveVideo===!1&&u?u.direction==="sendrecv"?u.setDirection?u.setDirection("sendonly"):u.direction="sendonly":u.direction==="recvonly"&&(u.setDirection?u.setDirection("inactive"):u.direction="inactive"):s.offerToReceiveVideo===!0&&!u&&this.addTransceiver("video",{direction:"recvonly"})}return n.apply(this,arguments)}}function Sm(a){typeof a!="object"||a.AudioContext||(a.AudioContext=a.webkitAudioContext)}const pg=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Sm,shimCallbacksAPI:gm,shimConstraints:vm,shimCreateOfferLegacy:_m,shimGetUserMedia:mm,shimLocalStreamsAPI:dm,shimRTCIceServerUrls:ym,shimRemoteStreamsAPI:pm,shimTrackEventTransceiver:bm},Symbol.toStringTag,{value:"Module"}));var zu={exports:{}},gg;function mb(){return gg||(gg=1,(function(a){const n={};n.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},n.localCName=n.generateIdentifier(),n.splitLines=function(i){return i.trim().split(`
`).map(s=>s.trim())},n.splitSections=function(i){return i.split(`
m=`).map((l,u)=>(u>0?"m="+l:l).trim()+`\r
`)},n.getDescription=function(i){const s=n.splitSections(i);return s&&s[0]},n.getMediaSections=function(i){const s=n.splitSections(i);return s.shift(),s},n.matchPrefix=function(i,s){return n.splitLines(i).filter(l=>l.indexOf(s)===0)},n.parseCandidate=function(i){let s;i.indexOf("a=candidate:")===0?s=i.substring(12).split(" "):s=i.substring(10).split(" ");const l={foundation:s[0],component:{1:"rtp",2:"rtcp"}[s[1]]||s[1],protocol:s[2].toLowerCase(),priority:parseInt(s[3],10),ip:s[4],address:s[4],port:parseInt(s[5],10),type:s[7]};for(let u=8;u<s.length;u+=2)switch(s[u]){case"raddr":l.relatedAddress=s[u+1];break;case"rport":l.relatedPort=parseInt(s[u+1],10);break;case"tcptype":l.tcpType=s[u+1];break;case"ufrag":l.ufrag=s[u+1],l.usernameFragment=s[u+1];break;default:l[s[u]]===void 0&&(l[s[u]]=s[u+1]);break}return l},n.writeCandidate=function(i){const s=[];s.push(i.foundation);const l=i.component;l==="rtp"?s.push(1):l==="rtcp"?s.push(2):s.push(l),s.push(i.protocol.toUpperCase()),s.push(i.priority),s.push(i.address||i.ip),s.push(i.port);const u=i.type;return s.push("typ"),s.push(u),u!=="host"&&i.relatedAddress&&i.relatedPort&&(s.push("raddr"),s.push(i.relatedAddress),s.push("rport"),s.push(i.relatedPort)),i.tcpType&&i.protocol.toLowerCase()==="tcp"&&(s.push("tcptype"),s.push(i.tcpType)),(i.usernameFragment||i.ufrag)&&(s.push("ufrag"),s.push(i.usernameFragment||i.ufrag)),"candidate:"+s.join(" ")},n.parseIceOptions=function(i){return i.substring(14).split(" ")},n.parseRtpMap=function(i){let s=i.substring(9).split(" ");const l={payloadType:parseInt(s.shift(),10)};return s=s[0].split("/"),l.name=s[0],l.clockRate=parseInt(s[1],10),l.channels=s.length===3?parseInt(s[2],10):1,l.numChannels=l.channels,l},n.writeRtpMap=function(i){let s=i.payloadType;i.preferredPayloadType!==void 0&&(s=i.preferredPayloadType);const l=i.channels||i.numChannels||1;return"a=rtpmap:"+s+" "+i.name+"/"+i.clockRate+(l!==1?"/"+l:"")+`\r
`},n.parseExtmap=function(i){const s=i.substring(9).split(" ");return{id:parseInt(s[0],10),direction:s[0].indexOf("/")>0?s[0].split("/")[1]:"sendrecv",uri:s[1],attributes:s.slice(2).join(" ")}},n.writeExtmap=function(i){return"a=extmap:"+(i.id||i.preferredId)+(i.direction&&i.direction!=="sendrecv"?"/"+i.direction:"")+" "+i.uri+(i.attributes?" "+i.attributes:"")+`\r
`},n.parseFmtp=function(i){const s={};let l;const u=i.substring(i.indexOf(" ")+1).split(";");for(let h=0;h<u.length;h++)l=u[h].trim().split("="),s[l[0].trim()]=l[1];return s},n.writeFmtp=function(i){let s="",l=i.payloadType;if(i.preferredPayloadType!==void 0&&(l=i.preferredPayloadType),i.parameters&&Object.keys(i.parameters).length){const u=[];Object.keys(i.parameters).forEach(h=>{i.parameters[h]!==void 0?u.push(h+"="+i.parameters[h]):u.push(h)}),s+="a=fmtp:"+l+" "+u.join(";")+`\r
`}return s},n.parseRtcpFb=function(i){const s=i.substring(i.indexOf(" ")+1).split(" ");return{type:s.shift(),parameter:s.join(" ")}},n.writeRtcpFb=function(i){let s="",l=i.payloadType;return i.preferredPayloadType!==void 0&&(l=i.preferredPayloadType),i.rtcpFeedback&&i.rtcpFeedback.length&&i.rtcpFeedback.forEach(u=>{s+="a=rtcp-fb:"+l+" "+u.type+(u.parameter&&u.parameter.length?" "+u.parameter:"")+`\r
`}),s},n.parseSsrcMedia=function(i){const s=i.indexOf(" "),l={ssrc:parseInt(i.substring(7,s),10)},u=i.indexOf(":",s);return u>-1?(l.attribute=i.substring(s+1,u),l.value=i.substring(u+1)):l.attribute=i.substring(s+1),l},n.parseSsrcGroup=function(i){const s=i.substring(13).split(" ");return{semantics:s.shift(),ssrcs:s.map(l=>parseInt(l,10))}},n.getMid=function(i){const s=n.matchPrefix(i,"a=mid:")[0];if(s)return s.substring(6)},n.parseFingerprint=function(i){const s=i.substring(14).split(" ");return{algorithm:s[0].toLowerCase(),value:s[1].toUpperCase()}},n.getDtlsParameters=function(i,s){return{role:"auto",fingerprints:n.matchPrefix(i+s,"a=fingerprint:").map(n.parseFingerprint)}},n.writeDtlsParameters=function(i,s){let l="a=setup:"+s+`\r
`;return i.fingerprints.forEach(u=>{l+="a=fingerprint:"+u.algorithm+" "+u.value+`\r
`}),l},n.parseCryptoLine=function(i){const s=i.substring(9).split(" ");return{tag:parseInt(s[0],10),cryptoSuite:s[1],keyParams:s[2],sessionParams:s.slice(3)}},n.writeCryptoLine=function(i){return"a=crypto:"+i.tag+" "+i.cryptoSuite+" "+(typeof i.keyParams=="object"?n.writeCryptoKeyParams(i.keyParams):i.keyParams)+(i.sessionParams?" "+i.sessionParams.join(" "):"")+`\r
`},n.parseCryptoKeyParams=function(i){if(i.indexOf("inline:")!==0)return null;const s=i.substring(7).split("|");return{keyMethod:"inline",keySalt:s[0],lifeTime:s[1],mkiValue:s[2]?s[2].split(":")[0]:void 0,mkiLength:s[2]?s[2].split(":")[1]:void 0}},n.writeCryptoKeyParams=function(i){return i.keyMethod+":"+i.keySalt+(i.lifeTime?"|"+i.lifeTime:"")+(i.mkiValue&&i.mkiLength?"|"+i.mkiValue+":"+i.mkiLength:"")},n.getCryptoParameters=function(i,s){return n.matchPrefix(i+s,"a=crypto:").map(n.parseCryptoLine)},n.getIceParameters=function(i,s){const l=n.matchPrefix(i+s,"a=ice-ufrag:")[0],u=n.matchPrefix(i+s,"a=ice-pwd:")[0];return l&&u?{usernameFragment:l.substring(12),password:u.substring(10)}:null},n.writeIceParameters=function(i){let s="a=ice-ufrag:"+i.usernameFragment+`\r
a=ice-pwd:`+i.password+`\r
`;return i.iceLite&&(s+=`a=ice-lite\r
`),s},n.parseRtpParameters=function(i){const s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},u=n.splitLines(i)[0].split(" ");s.profile=u[2];for(let d=3;d<u.length;d++){const m=u[d],g=n.matchPrefix(i,"a=rtpmap:"+m+" ")[0];if(g){const b=n.parseRtpMap(g),S=n.matchPrefix(i,"a=fmtp:"+m+" ");switch(b.parameters=S.length?n.parseFmtp(S[0]):{},b.rtcpFeedback=n.matchPrefix(i,"a=rtcp-fb:"+m+" ").map(n.parseRtcpFb),s.codecs.push(b),b.name.toUpperCase()){case"RED":case"ULPFEC":s.fecMechanisms.push(b.name.toUpperCase());break}}}n.matchPrefix(i,"a=extmap:").forEach(d=>{s.headerExtensions.push(n.parseExtmap(d))});const h=n.matchPrefix(i,"a=rtcp-fb:* ").map(n.parseRtcpFb);return s.codecs.forEach(d=>{h.forEach(m=>{d.rtcpFeedback.find(b=>b.type===m.type&&b.parameter===m.parameter)||d.rtcpFeedback.push(m)})}),s},n.writeRtpDescription=function(i,s){let l="";l+="m="+i+" ",l+=s.codecs.length>0?"9":"0",l+=" "+(s.profile||"UDP/TLS/RTP/SAVPF")+" ",l+=s.codecs.map(h=>h.preferredPayloadType!==void 0?h.preferredPayloadType:h.payloadType).join(" ")+`\r
`,l+=`c=IN IP4 0.0.0.0\r
`,l+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,s.codecs.forEach(h=>{l+=n.writeRtpMap(h),l+=n.writeFmtp(h),l+=n.writeRtcpFb(h)});let u=0;return s.codecs.forEach(h=>{h.maxptime>u&&(u=h.maxptime)}),u>0&&(l+="a=maxptime:"+u+`\r
`),s.headerExtensions&&s.headerExtensions.forEach(h=>{l+=n.writeExtmap(h)}),l},n.parseRtpEncodingParameters=function(i){const s=[],l=n.parseRtpParameters(i),u=l.fecMechanisms.indexOf("RED")!==-1,h=l.fecMechanisms.indexOf("ULPFEC")!==-1,d=n.matchPrefix(i,"a=ssrc:").map(w=>n.parseSsrcMedia(w)).filter(w=>w.attribute==="cname"),m=d.length>0&&d[0].ssrc;let g;const b=n.matchPrefix(i,"a=ssrc-group:FID").map(w=>w.substring(17).split(" ").map(M=>parseInt(M,10)));b.length>0&&b[0].length>1&&b[0][0]===m&&(g=b[0][1]),l.codecs.forEach(w=>{if(w.name.toUpperCase()==="RTX"&&w.parameters.apt){let R={ssrc:m,codecPayloadType:parseInt(w.parameters.apt,10)};m&&g&&(R.rtx={ssrc:g}),s.push(R),u&&(R=JSON.parse(JSON.stringify(R)),R.fec={ssrc:m,mechanism:h?"red+ulpfec":"red"},s.push(R))}}),s.length===0&&m&&s.push({ssrc:m});let S=n.matchPrefix(i,"b=");return S.length&&(S[0].indexOf("b=TIAS:")===0?S=parseInt(S[0].substring(7),10):S[0].indexOf("b=AS:")===0?S=parseInt(S[0].substring(5),10)*1e3*.95-2e3*8:S=void 0,s.forEach(w=>{w.maxBitrate=S})),s},n.parseRtcpParameters=function(i){const s={},l=n.matchPrefix(i,"a=ssrc:").map(d=>n.parseSsrcMedia(d)).filter(d=>d.attribute==="cname")[0];l&&(s.cname=l.value,s.ssrc=l.ssrc);const u=n.matchPrefix(i,"a=rtcp-rsize");s.reducedSize=u.length>0,s.compound=u.length===0;const h=n.matchPrefix(i,"a=rtcp-mux");return s.mux=h.length>0,s},n.writeRtcpParameters=function(i){let s="";return i.reducedSize&&(s+=`a=rtcp-rsize\r
`),i.mux&&(s+=`a=rtcp-mux\r
`),i.ssrc!==void 0&&i.cname&&(s+="a=ssrc:"+i.ssrc+" cname:"+i.cname+`\r
`),s},n.parseMsid=function(i){let s;const l=n.matchPrefix(i,"a=msid:");if(l.length===1)return s=l[0].substring(7).split(" "),{stream:s[0],track:s[1]};const u=n.matchPrefix(i,"a=ssrc:").map(h=>n.parseSsrcMedia(h)).filter(h=>h.attribute==="msid");if(u.length>0)return s=u[0].value.split(" "),{stream:s[0],track:s[1]}},n.parseSctpDescription=function(i){const s=n.parseMLine(i),l=n.matchPrefix(i,"a=max-message-size:");let u;l.length>0&&(u=parseInt(l[0].substring(19),10)),isNaN(u)&&(u=65536);const h=n.matchPrefix(i,"a=sctp-port:");if(h.length>0)return{port:parseInt(h[0].substring(12),10),protocol:s.fmt,maxMessageSize:u};const d=n.matchPrefix(i,"a=sctpmap:");if(d.length>0){const m=d[0].substring(10).split(" ");return{port:parseInt(m[0],10),protocol:m[1],maxMessageSize:u}}},n.writeSctpDescription=function(i,s){let l=[];return i.protocol!=="DTLS/SCTP"?l=["m="+i.kind+" 9 "+i.protocol+" "+s.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+s.port+`\r
`]:l=["m="+i.kind+" 9 "+i.protocol+" "+s.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+s.port+" "+s.protocol+` 65535\r
`],s.maxMessageSize!==void 0&&l.push("a=max-message-size:"+s.maxMessageSize+`\r
`),l.join("")},n.generateSessionId=function(){return Math.random().toString().substr(2,22)},n.writeSessionBoilerplate=function(i,s,l){let u;const h=s!==void 0?s:2;return i?u=i:u=n.generateSessionId(),`v=0\r
o=`+(l||"thisisadapterortc")+" "+u+" "+h+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},n.getDirection=function(i,s){const l=n.splitLines(i);for(let u=0;u<l.length;u++)switch(l[u]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return l[u].substring(2)}return s?n.getDirection(s):"sendrecv"},n.getKind=function(i){return n.splitLines(i)[0].split(" ")[0].substring(2)},n.isRejected=function(i){return i.split(" ",2)[1]==="0"},n.parseMLine=function(i){const l=n.splitLines(i)[0].substring(2).split(" ");return{kind:l[0],port:parseInt(l[1],10),protocol:l[2],fmt:l.slice(3).join(" ")}},n.parseOLine=function(i){const l=n.matchPrefix(i,"o=")[0].substring(2).split(" ");return{username:l[0],sessionId:l[1],sessionVersion:parseInt(l[2],10),netType:l[3],addressType:l[4],address:l[5]}},n.isValidSDP=function(i){if(typeof i!="string"||i.length===0)return!1;const s=n.splitLines(i);for(let l=0;l<s.length;l++)if(s[l].length<2||s[l].charAt(1)!=="=")return!1;return!0},a.exports=n})(zu)),zu.exports}var Tm=mb();const _a=Hg(Tm),vb=Yy({__proto__:null,default:_a},[Tm]);function ll(a){if(!a.RTCIceCandidate||a.RTCIceCandidate&&"foundation"in a.RTCIceCandidate.prototype)return;const n=a.RTCIceCandidate;a.RTCIceCandidate=function(s){if(typeof s=="object"&&s.candidate&&s.candidate.indexOf("a=")===0&&(s=JSON.parse(JSON.stringify(s)),s.candidate=s.candidate.substring(2)),s.candidate&&s.candidate.length){const l=new n(s),u=_a.parseCandidate(s.candidate);for(const h in u)h in l||Object.defineProperty(l,h,{value:u[h]});return l.toJSON=function(){return{candidate:l.candidate,sdpMid:l.sdpMid,sdpMLineIndex:l.sdpMLineIndex,usernameFragment:l.usernameFragment}},l}return new n(s)},a.RTCIceCandidate.prototype=n.prototype,Ei(a,"icecandidate",i=>(i.candidate&&Object.defineProperty(i,"candidate",{value:new a.RTCIceCandidate(i.candidate),writable:"false"}),i))}function Xu(a){!a.RTCIceCandidate||a.RTCIceCandidate&&"relayProtocol"in a.RTCIceCandidate.prototype||Ei(a,"icecandidate",n=>{if(n.candidate){const i=_a.parseCandidate(n.candidate.candidate);i.type==="relay"&&(n.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[i.priority>>24])}return n})}function cl(a,n){if(!a.RTCPeerConnection)return;"sctp"in a.RTCPeerConnection.prototype||Object.defineProperty(a.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const i=function(d){if(!d||!d.sdp)return!1;const m=_a.splitSections(d.sdp);return m.shift(),m.some(g=>{const b=_a.parseMLine(g);return b&&b.kind==="application"&&b.protocol.indexOf("SCTP")!==-1})},s=function(d){const m=d.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(m===null||m.length<2)return-1;const g=parseInt(m[1],10);return g!==g?-1:g},l=function(d){let m=65536;return n.browser==="firefox"&&(n.version<57?d===-1?m=16384:m=2147483637:n.version<60?m=n.version===57?65535:65536:m=2147483637),m},u=function(d,m){let g=65536;n.browser==="firefox"&&n.version===57&&(g=65535);const b=_a.matchPrefix(d.sdp,"a=max-message-size:");return b.length>0?g=parseInt(b[0].substring(19),10):n.browser==="firefox"&&m!==-1&&(g=2147483637),g},h=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,n.browser==="chrome"&&n.version>=76){const{sdpSemantics:m}=this.getConfiguration();m==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(i(arguments[0])){const m=s(arguments[0]),g=l(m),b=u(arguments[0],m);let S;g===0&&b===0?S=Number.POSITIVE_INFINITY:g===0||b===0?S=Math.max(g,b):S=Math.min(g,b);const w={};Object.defineProperty(w,"maxMessageSize",{get(){return S}}),this._sctp=w}return h.apply(this,arguments)}}function ul(a){if(!(a.RTCPeerConnection&&"createDataChannel"in a.RTCPeerConnection.prototype))return;function n(s,l){const u=s.send;s.send=function(){const d=arguments[0],m=d.length||d.size||d.byteLength;if(s.readyState==="open"&&l.sctp&&m>l.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+l.sctp.maxMessageSize+" bytes)");return u.apply(s,arguments)}}const i=a.RTCPeerConnection.prototype.createDataChannel;a.RTCPeerConnection.prototype.createDataChannel=function(){const l=i.apply(this,arguments);return n(l,this),l},Ei(a,"datachannel",s=>(n(s.channel,s.target),s))}function Zu(a){if(!a.RTCPeerConnection||"connectionState"in a.RTCPeerConnection.prototype)return;const n=a.RTCPeerConnection.prototype;Object.defineProperty(n,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(n,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(i){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),i&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=i)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(i=>{const s=n[i];n[i]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=l=>{const u=l.target;if(u._lastConnectionState!==u.connectionState){u._lastConnectionState=u.connectionState;const h=new Event("connectionstatechange",l);u.dispatchEvent(h)}return l},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}function Fu(a,n){if(!a.RTCPeerConnection||n.browser==="chrome"&&n.version>=71||n.browser==="safari"&&n._safariVersion>=13.1)return;const i=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(l){if(l&&l.sdp&&l.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const u=l.sdp.split(`
`).filter(h=>h.trim()!=="a=extmap-allow-mixed").join(`
`);a.RTCSessionDescription&&l instanceof a.RTCSessionDescription?arguments[0]=new a.RTCSessionDescription({type:l.type,sdp:u}):l.sdp=u}return i.apply(this,arguments)}}function fl(a,n){if(!(a.RTCPeerConnection&&a.RTCPeerConnection.prototype))return;const i=a.RTCPeerConnection.prototype.addIceCandidate;!i||i.length===0||(a.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(n.browser==="chrome"&&n.version<78||n.browser==="firefox"&&n.version<68||n.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function hl(a,n){if(!(a.RTCPeerConnection&&a.RTCPeerConnection.prototype))return;const i=a.RTCPeerConnection.prototype.setLocalDescription;!i||i.length===0||(a.RTCPeerConnection.prototype.setLocalDescription=function(){let l=arguments[0]||{};if(typeof l!="object"||l.type&&l.sdp)return i.apply(this,arguments);if(l={type:l.type,sdp:l.sdp},!l.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":l.type="offer";break;default:l.type="answer";break}return l.sdp||l.type!=="offer"&&l.type!=="answer"?i.apply(this,[l]):(l.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(h=>i.apply(this,[h]))})}const yb=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Fu,shimAddIceCandidateNullOrEmpty:fl,shimConnectionState:Zu,shimMaxMessageSize:cl,shimParameterlessSetLocalDescription:hl,shimRTCIceCandidate:ll,shimRTCIceCandidateRelayProtocol:Xu,shimSendThrowTypeError:ul},Symbol.toStringTag,{value:"Module"}));function bb({window:a}={},n={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const i=Yg,s=pb(a),l={browserDetails:s,commonShim:yb,extractVersion:Ts,disableLog:hb,disableWarnings:db,sdp:vb};switch(s.browser){case"chrome":if(!hg||!Ju||!n.shimChrome)return i("Chrome shim is not included in this adapter release."),l;if(s.version===null)return i("Chrome shim can not determine version, not shimming."),l;i("adapter.js shimming chrome."),l.browserShim=hg,fl(a,s),hl(a),Jg(a,s),Qg(a),Ju(a,s),Xg(a),tm(a,s),Zg(a),Fg(a),nm(a,s),ll(a),Xu(a),Zu(a),cl(a,s),ul(a),Fu(a,s);break;case"firefox":if(!dg||!Qu||!n.shimFirefox)return i("Firefox shim is not included in this adapter release."),l;i("adapter.js shimming firefox."),l.browserShim=dg,fl(a,s),hl(a),rm(a,s),Qu(a,s),im(a),om(a),am(a),sm(a),lm(a),cm(a),um(a),fm(a),hm(a),ll(a),Zu(a),cl(a,s),ul(a);break;case"safari":if(!pg||!n.shimSafari)return i("Safari shim is not included in this adapter release."),l;i("adapter.js shimming safari."),l.browserShim=pg,fl(a,s),hl(a),ym(a),_m(a),gm(a),dm(a),pm(a),bm(a),mm(a),Sm(a),ll(a),Xu(a),cl(a,s),ul(a),Fu(a,s);break;default:i("Unsupported browser!");break}return l}const mg=bb({window:typeof window>"u"?void 0:window});function wi(a,n,i,s){Object.defineProperty(a,n,{get:i,set:s,enumerable:!0,configurable:!0})}class Em{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=n=>{const i=[],s=n.byteLength,l=Math.ceil(s/this.chunkedMTU);let u=0,h=0;for(;h<s;){const d=Math.min(s,h+this.chunkedMTU),m=n.slice(h,d),g={__peerData:this._dataCount,n:u,data:m,total:l};i.push(g),h=d,u++}return this._dataCount++,i}}}function _b(a){let n=0;for(const l of a)n+=l.byteLength;const i=new Uint8Array(n);let s=0;for(const l of a)i.set(l,s),s+=l.byteLength;return i}const Lu=mg.default||mg,_s=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const a=this.getBrowser(),n=this.getVersion();return this.supportedBrowsers.includes(a)?a==="chrome"?n>=this.minChromeVersion:a==="firefox"?n>=this.minFirefoxVersion:a==="safari"?!this.isIOS&&n>=this.minSafariVersion:!1:!1}getBrowser(){return Lu.browserDetails.browser}getVersion(){return Lu.browserDetails.version||0}isUnifiedPlanSupported(){const a=this.getBrowser(),n=Lu.browserDetails.version||0;if(a==="chrome"&&n<this.minChromeVersion)return!1;if(a==="firefox"&&n>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let i,s=!1;try{i=new RTCPeerConnection,i.addTransceiver("audio"),s=!0}catch{}finally{i&&i.close()}return s}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},Sb=a=>!a||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(a),wm=()=>Math.random().toString(36).slice(2),vg={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class Tb extends Em{noop(){}blobToArrayBuffer(n,i){const s=new FileReader;return s.onload=function(l){l.target&&i(l.target.result)},s.readAsArrayBuffer(n),s}binaryStringToArrayBuffer(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s)&255;return i.buffer}isSecure(){return location.protocol==="https:"}constructor(...n){super(...n),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=vg,this.browser=_s.getBrowser(),this.browserVersion=_s.getVersion(),this.pack=Gg,this.unpack=Ig,this.supports=(function(){const i={browser:_s.isBrowserSupported(),webRTC:_s.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!i.webRTC)return i;let s;try{s=new RTCPeerConnection(vg),i.audioVideo=!0;let l;try{l=s.createDataChannel("_PEERJSTEST",{ordered:!0}),i.data=!0,i.reliable=!!l.ordered;try{l.binaryType="blob",i.binaryBlob=!_s.isIOS}catch{}}catch{}finally{l&&l.close()}}catch{}finally{s&&s.close()}return i})(),this.validateId=Sb,this.randomToken=wm}}const Zt=new Tb,Eb="PeerJS: ";class wb{get logLevel(){return this._logLevel}set logLevel(n){this._logLevel=n}log(...n){this._logLevel>=3&&this._print(3,...n)}warn(...n){this._logLevel>=2&&this._print(2,...n)}error(...n){this._logLevel>=1&&this._print(1,...n)}setLogFunction(n){this._print=n}_print(n,...i){const s=[Eb,...i];for(const l in s)s[l]instanceof Error&&(s[l]="("+s[l].name+") "+s[l].message);n>=3?console.log(...s):n>=2?console.warn("WARNING",...s):n>=1&&console.error("ERROR",...s)}constructor(){this._logLevel=0}}var le=new wb,pf={},Cb=Object.prototype.hasOwnProperty,$t="~";function As(){}Object.create&&(As.prototype=Object.create(null),new As().__proto__||($t=!1));function Ab(a,n,i){this.fn=a,this.context=n,this.once=i||!1}function Cm(a,n,i,s,l){if(typeof i!="function")throw new TypeError("The listener must be a function");var u=new Ab(i,s||a,l),h=$t?$t+n:n;return a._events[h]?a._events[h].fn?a._events[h]=[a._events[h],u]:a._events[h].push(u):(a._events[h]=u,a._eventsCount++),a}function dl(a,n){--a._eventsCount===0?a._events=new As:delete a._events[n]}function Bt(){this._events=new As,this._eventsCount=0}Bt.prototype.eventNames=function(){var n=[],i,s;if(this._eventsCount===0)return n;for(s in i=this._events)Cb.call(i,s)&&n.push($t?s.slice(1):s);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(i)):n};Bt.prototype.listeners=function(n){var i=$t?$t+n:n,s=this._events[i];if(!s)return[];if(s.fn)return[s.fn];for(var l=0,u=s.length,h=new Array(u);l<u;l++)h[l]=s[l].fn;return h};Bt.prototype.listenerCount=function(n){var i=$t?$t+n:n,s=this._events[i];return s?s.fn?1:s.length:0};Bt.prototype.emit=function(n,i,s,l,u,h){var d=$t?$t+n:n;if(!this._events[d])return!1;var m=this._events[d],g=arguments.length,b,S;if(m.fn){switch(m.once&&this.removeListener(n,m.fn,void 0,!0),g){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,i),!0;case 3:return m.fn.call(m.context,i,s),!0;case 4:return m.fn.call(m.context,i,s,l),!0;case 5:return m.fn.call(m.context,i,s,l,u),!0;case 6:return m.fn.call(m.context,i,s,l,u,h),!0}for(S=1,b=new Array(g-1);S<g;S++)b[S-1]=arguments[S];m.fn.apply(m.context,b)}else{var w=m.length,R;for(S=0;S<w;S++)switch(m[S].once&&this.removeListener(n,m[S].fn,void 0,!0),g){case 1:m[S].fn.call(m[S].context);break;case 2:m[S].fn.call(m[S].context,i);break;case 3:m[S].fn.call(m[S].context,i,s);break;case 4:m[S].fn.call(m[S].context,i,s,l);break;default:if(!b)for(R=1,b=new Array(g-1);R<g;R++)b[R-1]=arguments[R];m[S].fn.apply(m[S].context,b)}}return!0};Bt.prototype.on=function(n,i,s){return Cm(this,n,i,s,!1)};Bt.prototype.once=function(n,i,s){return Cm(this,n,i,s,!0)};Bt.prototype.removeListener=function(n,i,s,l){var u=$t?$t+n:n;if(!this._events[u])return this;if(!i)return dl(this,u),this;var h=this._events[u];if(h.fn)h.fn===i&&(!l||h.once)&&(!s||h.context===s)&&dl(this,u);else{for(var d=0,m=[],g=h.length;d<g;d++)(h[d].fn!==i||l&&!h[d].once||s&&h[d].context!==s)&&m.push(h[d]);m.length?this._events[u]=m.length===1?m[0]:m:dl(this,u)}return this};Bt.prototype.removeAllListeners=function(n){var i;return n?(i=$t?$t+n:n,this._events[i]&&dl(this,i)):(this._events=new As,this._eventsCount=0),this};Bt.prototype.off=Bt.prototype.removeListener;Bt.prototype.addListener=Bt.prototype.on;Bt.prefixed=$t;Bt.EventEmitter=Bt;pf=Bt;var Ci={};wi(Ci,"ConnectionType",()=>Gr);wi(Ci,"PeerErrorType",()=>vt);wi(Ci,"BaseConnectionErrorType",()=>ef);wi(Ci,"DataConnectionErrorType",()=>gf);wi(Ci,"SerializationType",()=>bl);wi(Ci,"SocketEventType",()=>Ir);wi(Ci,"ServerMessageType",()=>Nt);var Gr=(function(a){return a.Data="data",a.Media="media",a})({}),vt=(function(a){return a.BrowserIncompatible="browser-incompatible",a.Disconnected="disconnected",a.InvalidID="invalid-id",a.InvalidKey="invalid-key",a.Network="network",a.PeerUnavailable="peer-unavailable",a.SslUnavailable="ssl-unavailable",a.ServerError="server-error",a.SocketError="socket-error",a.SocketClosed="socket-closed",a.UnavailableID="unavailable-id",a.WebRTC="webrtc",a})({}),ef=(function(a){return a.NegotiationFailed="negotiation-failed",a.ConnectionClosed="connection-closed",a})({}),gf=(function(a){return a.NotOpenYet="not-open-yet",a.MessageToBig="message-too-big",a})({}),bl=(function(a){return a.Binary="binary",a.BinaryUTF8="binary-utf8",a.JSON="json",a.None="raw",a})({}),Ir=(function(a){return a.Message="message",a.Disconnected="disconnected",a.Error="error",a.Close="close",a})({}),Nt=(function(a){return a.Heartbeat="HEARTBEAT",a.Candidate="CANDIDATE",a.Offer="OFFER",a.Answer="ANSWER",a.Open="OPEN",a.Error="ERROR",a.IdTaken="ID-TAKEN",a.InvalidKey="INVALID-KEY",a.Leave="LEAVE",a.Expire="EXPIRE",a})({});const Am="1.5.5";class Rb extends pf.EventEmitter{constructor(n,i,s,l,u,h=5e3){super(),this.pingInterval=h,this._disconnected=!0,this._messagesQueue=[];const d=n?"wss://":"ws://";this._baseUrl=d+i+":"+s+l+"peerjs?key="+u}start(n,i){this._id=n;const s=`${this._baseUrl}&id=${n}&token=${i}`;this._socket||!this._disconnected||(this._socket=new WebSocket(s+"&version="+Am),this._disconnected=!1,this._socket.onmessage=l=>{let u;try{u=JSON.parse(l.data),le.log("Server message received:",u)}catch{le.log("Invalid server message",l.data);return}this.emit(Ir.Message,u)},this._socket.onclose=l=>{this._disconnected||(le.log("Socket closed.",l),this._cleanup(),this._disconnected=!0,this.emit(Ir.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),le.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){le.log("Cannot send heartbeat, because socket closed");return}const n=JSON.stringify({type:Nt.Heartbeat});this._socket.send(n),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const n=[...this._messagesQueue];this._messagesQueue=[];for(const i of n)this.send(i)}send(n){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(n);return}if(!n.type){this.emit(Ir.Error,"Invalid message");return}if(!this._wsOpen())return;const i=JSON.stringify(n);this._socket.send(i)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class Rm{constructor(n){this.connection=n}startConnection(n){const i=this._startPeerConnection();if(this.connection.peerConnection=i,this.connection.type===Gr.Media&&n._stream&&this._addTracksToConnection(n._stream,i),n.originator){const s=this.connection,l={ordered:!!n.reliable},u=i.createDataChannel(s.label,l);s._initializeDataChannel(u),this._makeOffer()}else this.handleSDP("OFFER",n.sdp)}_startPeerConnection(){le.log("Creating RTCPeerConnection.");const n=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(n),n}_setupListeners(n){const i=this.connection.peer,s=this.connection.connectionId,l=this.connection.type,u=this.connection.provider;le.log("Listening for ICE candidates."),n.onicecandidate=h=>{!h.candidate||!h.candidate.candidate||(le.log(`Received ICE candidates for ${i}:`,h.candidate),u.socket.send({type:Nt.Candidate,payload:{candidate:h.candidate,type:l,connectionId:s},dst:i}))},n.oniceconnectionstatechange=()=>{switch(n.iceConnectionState){case"failed":le.log("iceConnectionState is failed, closing connections to "+i),this.connection.emitError(ef.NegotiationFailed,"Negotiation of connection to "+i+" failed."),this.connection.close();break;case"closed":le.log("iceConnectionState is closed, closing connections to "+i),this.connection.emitError(ef.ConnectionClosed,"Connection to "+i+" closed."),this.connection.close();break;case"disconnected":le.log("iceConnectionState changed to disconnected on the connection with "+i);break;case"completed":n.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",n.iceConnectionState)},le.log("Listening for data channel"),n.ondatachannel=h=>{le.log("Received data channel");const d=h.channel;u.getConnection(i,s)._initializeDataChannel(d)},le.log("Listening for remote stream"),n.ontrack=h=>{le.log("Received remote stream");const d=h.streams[0],m=u.getConnection(i,s);if(m.type===Gr.Media){const g=m;this._addStreamToMediaConnection(d,g)}}}cleanup(){le.log("Cleaning up PeerConnection to "+this.connection.peer);const n=this.connection.peerConnection;if(!n)return;this.connection.peerConnection=null,n.onicecandidate=n.oniceconnectionstatechange=n.ondatachannel=n.ontrack=()=>{};const i=n.signalingState!=="closed";let s=!1;const l=this.connection.dataChannel;l&&(s=!!l.readyState&&l.readyState!=="closed"),(i||s)&&n.close()}async _makeOffer(){const n=this.connection.peerConnection,i=this.connection.provider;try{const s=await n.createOffer(this.connection.options.constraints);le.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await n.setLocalDescription(s),le.log("Set localDescription:",s,`for:${this.connection.peer}`);let l={sdp:s,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Gr.Data){const u=this.connection;l={...l,label:u.label,reliable:u.reliable,serialization:u.serialization}}i.socket.send({type:Nt.Offer,payload:l,dst:this.connection.peer})}catch(l){l!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(i.emitError(vt.WebRTC,l),le.log("Failed to setLocalDescription, ",l))}}catch(s){i.emitError(vt.WebRTC,s),le.log("Failed to createOffer, ",s)}}async _makeAnswer(){const n=this.connection.peerConnection,i=this.connection.provider;try{const s=await n.createAnswer();le.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await n.setLocalDescription(s),le.log("Set localDescription:",s,`for:${this.connection.peer}`),i.socket.send({type:Nt.Answer,payload:{sdp:s,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(l){i.emitError(vt.WebRTC,l),le.log("Failed to setLocalDescription, ",l)}}catch(s){i.emitError(vt.WebRTC,s),le.log("Failed to create answer, ",s)}}async handleSDP(n,i){i=new RTCSessionDescription(i);const s=this.connection.peerConnection,l=this.connection.provider;le.log("Setting remote description",i);const u=this;try{await s.setRemoteDescription(i),le.log(`Set remoteDescription:${n} for:${this.connection.peer}`),n==="OFFER"&&await u._makeAnswer()}catch(h){l.emitError(vt.WebRTC,h),le.log("Failed to setRemoteDescription, ",h)}}async handleCandidate(n){le.log("handleCandidate:",n);try{await this.connection.peerConnection.addIceCandidate(n),le.log(`Added ICE candidate for:${this.connection.peer}`)}catch(i){this.connection.provider.emitError(vt.WebRTC,i),le.log("Failed to handleCandidate, ",i)}}_addTracksToConnection(n,i){if(le.log(`add tracks from stream ${n.id} to peer connection`),!i.addTrack)return le.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");n.getTracks().forEach(s=>{i.addTrack(s,n)})}_addStreamToMediaConnection(n,i){le.log(`add stream ${n.id} to media connection ${i.connectionId}`),i.addStream(n)}}class Om extends pf.EventEmitter{emitError(n,i){le.error("Error:",i),this.emit("error",new Ob(`${n}`,i))}}class Ob extends Error{constructor(n,i){typeof i=="string"?super(i):(super(),Object.assign(this,i)),this.type=n}}class xm extends Om{get open(){return this._open}constructor(n,i,s){super(),this.peer=n,this.provider=i,this.options=s,this._open=!1,this.metadata=s.metadata}}class pl extends xm{static#e=this.ID_PREFIX="mc_";get type(){return Gr.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(n,i,s){super(n,i,s),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||pl.ID_PREFIX+Zt.randomToken(),this._negotiator=new Rm(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(n){this.dataChannel=n,this.dataChannel.onopen=()=>{le.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{le.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(n){le.log("Receiving stream",n),this._remoteStream=n,super.emit("stream",n)}handleMessage(n){const i=n.type,s=n.payload;switch(n.type){case Nt.Answer:this._negotiator.handleSDP(i,s.sdp),this._open=!0;break;case Nt.Candidate:this._negotiator.handleCandidate(s.candidate);break;default:le.warn(`Unrecognized message type:${i} from peer:${this.peer}`);break}}answer(n,i={}){if(this._localStream){le.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=n,i&&i.sdpTransform&&(this.options.sdpTransform=i.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:n});const s=this.provider._getMessages(this.connectionId);for(const l of s)this.handleMessage(l);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class xb{constructor(n){this._options=n}_buildRequest(n){const i=this._options.secure?"https":"http",{host:s,port:l,path:u,key:h}=this._options,d=new URL(`${i}://${s}:${l}${u}${h}/${n}`);return d.searchParams.set("ts",`${Date.now()}${Math.random()}`),d.searchParams.set("version",Am),fetch(d.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const n=await this._buildRequest("id");if(n.status!==200)throw new Error(`Error. Status:${n.status}`);return n.text()}catch(n){le.error("Error retrieving ID",n);let i="";throw this._options.path==="/"&&this._options.host!==Zt.CLOUD_HOST&&(i=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+i)}}async listAllPeers(){try{const n=await this._buildRequest("peers");if(n.status!==200){if(n.status===401){let i="";throw this._options.host===Zt.CLOUD_HOST?i="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":i="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+i)}throw new Error(`Error. Status:${n.status}`)}return n.json()}catch(n){throw le.error("Error retrieving list peers",n),new Error("Could not get list peers from the server."+n)}}}class gl extends xm{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return Gr.Data}constructor(n,i,s){super(n,i,s),this.connectionId=this.options.connectionId||gl.ID_PREFIX+wm(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new Rm(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(n){this.dataChannel=n,this.dataChannel.onopen=()=>{le.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=i=>{le.log(`DC#${this.connectionId} dc onmessage:`,i.data)},this.dataChannel.onclose=()=>{le.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(n){if(n?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(n,i=!1){if(!this.open){this.emitError(gf.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(n,i)}async handleMessage(n){const i=n.payload;switch(n.type){case Nt.Answer:await this._negotiator.handleSDP(n.type,i.sdp);break;case Nt.Candidate:await this._negotiator.handleCandidate(i.candidate);break;default:le.warn("Unrecognized message type:",n.type,"from peer:",this.peer);break}}}class mf extends gl{get bufferSize(){return this._bufferSize}_initializeDataChannel(n){super._initializeDataChannel(n),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",i=>this._handleDataMessage(i))}_bufferedSend(n){(this._buffering||!this._trySend(n))&&(this._buffer.push(n),this._bufferSize=this._buffer.length)}_trySend(n){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>gl.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(n)}catch(i){return le.error(`DC#:${this.connectionId} Error when sending:`,i),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const n=this._buffer[0];this._trySend(n)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(n){if(n?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...n){super(...n),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class qu extends mf{close(n){super.close(n),this._chunkedData={}}constructor(n,i,s){super(n,i,s),this.chunker=new Em,this.serialization=bl.Binary,this._chunkedData={}}_handleDataMessage({data:n}){const i=Ig(n),s=i.__peerData;if(s){if(s.type==="close"){this.close();return}this._handleChunk(i);return}this.emit("data",i)}_handleChunk(n){const i=n.__peerData,s=this._chunkedData[i]||{data:[],count:0,total:n.total};if(s.data[n.n]=new Uint8Array(n.data),s.count++,this._chunkedData[i]=s,s.total===s.count){delete this._chunkedData[i];const l=_b(s.data);this._handleDataMessage({data:l})}}_send(n,i){const s=Gg(n);if(s instanceof Promise)return this._send_blob(s);if(!i&&s.byteLength>this.chunker.chunkedMTU){this._sendChunks(s);return}this._bufferedSend(s)}async _send_blob(n){const i=await n;if(i.byteLength>this.chunker.chunkedMTU){this._sendChunks(i);return}this._bufferedSend(i)}_sendChunks(n){const i=this.chunker.chunk(n);le.log(`DC#${this.connectionId} Try to send ${i.length} chunks...`);for(const s of i)this.send(s,!0)}}class kb extends mf{_handleDataMessage({data:n}){super.emit("data",n)}_send(n,i){this._bufferedSend(n)}constructor(...n){super(...n),this.serialization=bl.None}}class jb extends mf{_handleDataMessage({data:n}){const i=this.parse(this.decoder.decode(n)),s=i.__peerData;if(s&&s.type==="close"){this.close();return}this.emit("data",i)}_send(n,i){const s=this.encoder.encode(this.stringify(n));if(s.byteLength>=Zt.chunkedMTU){this.emitError(gf.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(s)}constructor(...n){super(...n),this.serialization=bl.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class vf extends Om{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const n=Object.create(null);for(const[i,s]of this._connections)n[i]=s;return n}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(n,i){super(),this._serializers={raw:kb,json:jb,binary:qu,"binary-utf8":qu,default:qu},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let s;if(n&&n.constructor==Object?i=n:n&&(s=n.toString()),i={debug:0,host:Zt.CLOUD_HOST,port:Zt.CLOUD_PORT,path:"/",key:vf.DEFAULT_KEY,token:Zt.randomToken(),config:Zt.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...i},this._options=i,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Zt.CLOUD_HOST?this._options.secure=Zt.isSecure():this._options.host==Zt.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&le.setLogFunction(this._options.logFunction),le.logLevel=this._options.debug||0,this._api=new xb(i),this._socket=this._createServerConnection(),!Zt.supports.audioVideo&&!Zt.supports.data){this._delayedAbort(vt.BrowserIncompatible,"The current browser does not support WebRTC");return}if(s&&!Zt.validateId(s)){this._delayedAbort(vt.InvalidID,`ID "${s}" is invalid`);return}s?this._initialize(s):this._api.retrieveId().then(l=>this._initialize(l)).catch(l=>this._abort(vt.ServerError,l))}_createServerConnection(){const n=new Rb(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return n.on(Ir.Message,i=>{this._handleMessage(i)}),n.on(Ir.Error,i=>{this._abort(vt.SocketError,i)}),n.on(Ir.Disconnected,()=>{this.disconnected||(this.emitError(vt.Network,"Lost connection to server."),this.disconnect())}),n.on(Ir.Close,()=>{this.disconnected||this._abort(vt.SocketClosed,"Underlying socket is already closed.")}),n}_initialize(n){this._id=n,this.socket.start(n,this._options.token)}_handleMessage(n){const i=n.type,s=n.payload,l=n.src;switch(i){case Nt.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Nt.Error:this._abort(vt.ServerError,s.msg);break;case Nt.IdTaken:this._abort(vt.UnavailableID,`ID "${this.id}" is taken`);break;case Nt.InvalidKey:this._abort(vt.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Nt.Leave:le.log(`Received leave message from ${l}`),this._cleanupPeer(l),this._connections.delete(l);break;case Nt.Expire:this.emitError(vt.PeerUnavailable,`Could not connect to peer ${l}`);break;case Nt.Offer:{const u=s.connectionId;let h=this.getConnection(l,u);if(h&&(h.close(),le.warn(`Offer received for existing Connection ID:${u}`)),s.type===Gr.Media){const m=new pl(l,this,{connectionId:u,_payload:s,metadata:s.metadata});h=m,this._addConnection(l,h),this.emit("call",m)}else if(s.type===Gr.Data){const m=new this._serializers[s.serialization](l,this,{connectionId:u,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});h=m,this._addConnection(l,h),this.emit("connection",m)}else{le.warn(`Received malformed connection type:${s.type}`);return}const d=this._getMessages(u);for(const m of d)h.handleMessage(m);break}default:{if(!s){le.warn(`You received a malformed message from ${l} of type ${i}`);return}const u=s.connectionId,h=this.getConnection(l,u);h&&h.peerConnection?h.handleMessage(n):u?this._storeMessage(u,n):le.warn("You received an unrecognized message:",n);break}}}_storeMessage(n,i){this._lostMessages.has(n)||this._lostMessages.set(n,[]),this._lostMessages.get(n).push(i)}_getMessages(n){const i=this._lostMessages.get(n);return i?(this._lostMessages.delete(n),i):[]}connect(n,i={}){if(i={serialization:"default",...i},this.disconnected){le.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(vt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const s=new this._serializers[i.serialization](n,this,i);return this._addConnection(n,s),s}call(n,i,s={}){if(this.disconnected){le.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(vt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!i){le.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const l=new pl(n,this,{...s,_stream:i});return this._addConnection(n,l),l}_addConnection(n,i){le.log(`add connection ${i.type}:${i.connectionId} to peerId:${n}`),this._connections.has(n)||this._connections.set(n,[]),this._connections.get(n).push(i)}_removeConnection(n){const i=this._connections.get(n.peer);if(i){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}this._lostMessages.delete(n.connectionId)}getConnection(n,i){const s=this._connections.get(n);if(!s)return null;for(const l of s)if(l.connectionId===i)return l;return null}_delayedAbort(n,i){setTimeout(()=>{this._abort(n,i)},0)}_abort(n,i){le.error("Aborting!"),this.emitError(n,i),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(le.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const n of this._connections.keys())this._cleanupPeer(n),this._connections.delete(n);this.socket.removeAllListeners()}_cleanupPeer(n){const i=this._connections.get(n);if(i)for(const s of i)s.close()}disconnect(){if(this.disconnected)return;const n=this.id;le.log(`Disconnect peer with ID:${n}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=n,this._id=null,this.emit("disconnected",n)}reconnect(){if(this.disconnected&&!this.destroyed)le.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)le.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(n=i=>{}){this._api.listAllPeers().then(i=>n(i)).catch(i=>this._abort(vt.ServerError,i))}}var Db=vf;function _l(a,n){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&n.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(a);l<s.length;l++)n.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(a,s[l])&&(i[s[l]]=a[s[l]]);return i}function Ub(a,n,i,s){function l(u){return u instanceof i?u:new i(function(h){h(u)})}return new(i||(i=Promise))(function(u,h){function d(b){try{g(s.next(b))}catch(S){h(S)}}function m(b){try{g(s.throw(b))}catch(S){h(S)}}function g(b){b.done?u(b.value):l(b.value).then(d,m)}g((s=s.apply(a,n||[])).next())})}const Mb=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);class yf extends Error{constructor(n,i="FunctionsError",s){super(n),this.name=i,this.context=s}}class Nb extends yf{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class yg extends yf{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class bg extends yf{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var tf;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(tf||(tf={}));class Bb{constructor(n,{headers:i={},customFetch:s,region:l=tf.Any}={}){this.url=n,this.headers=i,this.region=l,this.fetch=Mb(s)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Ub(this,arguments,void 0,function*(i,s={}){var l;let u,h;try{const{headers:d,method:m,body:g,signal:b,timeout:S}=s;let w={},{region:R}=s;R||(R=this.region);const M=new URL(`${this.url}/${i}`);R&&R!=="any"&&(w["x-region"]=R,M.searchParams.set("forceFunctionRegion",R));let q;g&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",q=g):typeof g=="string"?(w["Content-Type"]="text/plain",q=g):typeof FormData<"u"&&g instanceof FormData?q=g:(w["Content-Type"]="application/json",q=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?q=JSON.stringify(g):q=g;let W=b;S&&(h=new AbortController,u=setTimeout(()=>h.abort(),S),b?(W=h.signal,b.addEventListener("abort",()=>h.abort())):W=h.signal);const V=yield this.fetch(M.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),d),body:q,signal:W}).catch(ge=>{throw new Nb(ge)}),L=V.headers.get("x-relay-error");if(L&&L==="true")throw new yg(V);if(!V.ok)throw new bg(V);let B=((l=V.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),Y;return B==="application/json"?Y=yield V.json():B==="application/octet-stream"||B==="application/pdf"?Y=yield V.blob():B==="text/event-stream"?Y=V:B==="multipart/form-data"?Y=yield V.formData():Y=yield V.text(),{data:Y,error:null,response:V}}catch(d){return{data:null,error:d,response:d instanceof bg||d instanceof yg?d.context:void 0}}finally{u&&clearTimeout(u)}})}}var zb=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},Lb=class{constructor(a){var n,i;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(n=a.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=a.signal,this.isMaybeSingle=(i=a.isMaybeSingle)!==null&&i!==void 0?i:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,n){return this.headers=new Headers(this.headers),this.headers.set(a,n),this}then(a,n){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let l=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let h=null,d=null,m=null,g=u.status,b=u.statusText;if(u.ok){var S,w;if(i.method!=="HEAD"){var R;const V=await u.text();V===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((R=i.headers.get("Accept"))===null||R===void 0)&&R.includes("application/vnd.pgrst.plan+text"))?d=V:d=JSON.parse(V))}const q=(S=i.headers.get("Prefer"))===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),W=(w=u.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");q&&W&&W.length>1&&(m=parseInt(W[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(d)&&(d.length>1?(h={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,m=null,g=406,b="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var M;const q=await u.text();try{h=JSON.parse(q),Array.isArray(h)&&u.status===404&&(d=[],h=null,g=200,b="OK")}catch{u.status===404&&q===""?(g=204,b="No Content"):h={message:q}}if(h&&i.isMaybeSingle&&(!(h==null||(M=h.details)===null||M===void 0)&&M.includes("0 rows"))&&(h=null,g=200,b="OK"),h&&i.shouldThrowOnError)throw new zb(h)}return{error:h,data:d,count:m,status:g,statusText:b}});return this.shouldThrowOnError||(l=l.catch(u=>{var h;let d="";const m=u?.cause;if(m){var g,b,S,w;const M=(g=m?.message)!==null&&g!==void 0?g:"",q=(b=m?.code)!==null&&b!==void 0?b:"";d=`${(S=u?.name)!==null&&S!==void 0?S:"FetchError"}: ${u?.message}`,d+=`

Caused by: ${(w=m?.name)!==null&&w!==void 0?w:"Error"}: ${M}`,q&&(d+=` (${q})`),m?.stack&&(d+=`
${m.stack}`)}else{var R;d=(R=u?.stack)!==null&&R!==void 0?R:""}return{error:{message:`${(h=u?.name)!==null&&h!==void 0?h:"FetchError"}: ${u?.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(a,n)}returns(){return this}overrideTypes(){return this}},qb=class extends Lb{select(a){let n=!1;const i=(a??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:n=!0,nullsFirst:i,foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${a}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,n,{foreignTable:i,referencedTable:s=i}={}){const l=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(u,`${n-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:n=!1,settings:i=!1,buffers:s=!1,wal:l=!1,format:u="text"}={}){var h;const d=[a?"analyze":null,n?"verbose":null,i?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};const _g=new RegExp("[,()]");var ma=class extends qb{eq(a,n){return this.url.searchParams.append(a,`eq.${n}`),this}neq(a,n){return this.url.searchParams.append(a,`neq.${n}`),this}gt(a,n){return this.url.searchParams.append(a,`gt.${n}`),this}gte(a,n){return this.url.searchParams.append(a,`gte.${n}`),this}lt(a,n){return this.url.searchParams.append(a,`lt.${n}`),this}lte(a,n){return this.url.searchParams.append(a,`lte.${n}`),this}like(a,n){return this.url.searchParams.append(a,`like.${n}`),this}likeAllOf(a,n){return this.url.searchParams.append(a,`like(all).{${n.join(",")}}`),this}likeAnyOf(a,n){return this.url.searchParams.append(a,`like(any).{${n.join(",")}}`),this}ilike(a,n){return this.url.searchParams.append(a,`ilike.${n}`),this}ilikeAllOf(a,n){return this.url.searchParams.append(a,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(a,n){return this.url.searchParams.append(a,`ilike(any).{${n.join(",")}}`),this}regexMatch(a,n){return this.url.searchParams.append(a,`match.${n}`),this}regexIMatch(a,n){return this.url.searchParams.append(a,`imatch.${n}`),this}is(a,n){return this.url.searchParams.append(a,`is.${n}`),this}isDistinct(a,n){return this.url.searchParams.append(a,`isdistinct.${n}`),this}in(a,n){const i=Array.from(new Set(n)).map(s=>typeof s=="string"&&_g.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(a,`in.(${i})`),this}notIn(a,n){const i=Array.from(new Set(n)).map(s=>typeof s=="string"&&_g.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(a,`not.in.(${i})`),this}contains(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cs.{${n.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(n)}`),this}containedBy(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cd.{${n.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(n)}`),this}rangeGt(a,n){return this.url.searchParams.append(a,`sr.${n}`),this}rangeGte(a,n){return this.url.searchParams.append(a,`nxl.${n}`),this}rangeLt(a,n){return this.url.searchParams.append(a,`sl.${n}`),this}rangeLte(a,n){return this.url.searchParams.append(a,`nxr.${n}`),this}rangeAdjacent(a,n){return this.url.searchParams.append(a,`adj.${n}`),this}overlaps(a,n){return typeof n=="string"?this.url.searchParams.append(a,`ov.${n}`):this.url.searchParams.append(a,`ov.{${n.join(",")}}`),this}textSearch(a,n,{config:i,type:s}={}){let l="";s==="plain"?l="pl":s==="phrase"?l="ph":s==="websearch"&&(l="w");const u=i===void 0?"":`(${i})`;return this.url.searchParams.append(a,`${l}fts${u}.${n}`),this}match(a){return Object.entries(a).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(a,n,i){return this.url.searchParams.append(a,`not.${n}.${i}`),this}or(a,{foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.or`:"or";return this.url.searchParams.append(s,`(${a})`),this}filter(a,n,i){return this.url.searchParams.append(a,`${n}.${i}`),this}},Pb=class{constructor(a,{headers:n={},schema:i,fetch:s}){this.url=a,this.headers=new Headers(n),this.schema=i,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(a,n){const{head:i=!1,count:s}=n??{},l=i?"HEAD":"GET";let u=!1;const h=(a??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join(""),{url:d,headers:m}=this.cloneRequestState();return d.searchParams.set("select",h),s&&m.append("Prefer",`count=${s}`),new ma({method:l,url:d,headers:m,schema:this.schema,fetch:this.fetch})}insert(a,{count:n,defaultToNull:i=!0}={}){var s;const l="POST",{url:u,headers:h}=this.cloneRequestState();if(n&&h.append("Prefer",`count=${n}`),i||h.append("Prefer","missing=default"),Array.isArray(a)){const d=a.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(d.length>0){const m=[...new Set(d)].map(g=>`"${g}"`);u.searchParams.set("columns",m.join(","))}}return new ma({method:l,url:u,headers:h,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(a,{onConflict:n,ignoreDuplicates:i=!1,count:s,defaultToNull:l=!0}={}){var u;const h="POST",{url:d,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&d.searchParams.set("on_conflict",n),s&&m.append("Prefer",`count=${s}`),l||m.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((b,S)=>b.concat(Object.keys(S)),[]);if(g.length>0){const b=[...new Set(g)].map(S=>`"${S}"`);d.searchParams.set("columns",b.join(","))}}return new ma({method:h,url:d,headers:m,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:n}={}){var i;const s="PATCH",{url:l,headers:u}=this.cloneRequestState();return n&&u.append("Prefer",`count=${n}`),new ma({method:s,url:l,headers:u,schema:this.schema,body:a,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:a}={}){var n;const i="DELETE",{url:s,headers:l}=this.cloneRequestState();return a&&l.append("Prefer",`count=${a}`),new ma({method:i,url:s,headers:l,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},$b=class km{constructor(n,{headers:i={},schema:s,fetch:l}={}){this.url=n,this.headers=new Headers(i),this.schemaName=s,this.fetch=l}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Pb(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new km(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,i={},{head:s=!1,get:l=!1,count:u}={}){var h;let d;const m=new URL(`${this.url}/rpc/${n}`);let g;const b=R=>R!==null&&typeof R=="object"&&(!Array.isArray(R)||R.some(b)),S=s&&Object.values(i).some(b);S?(d="POST",g=i):s||l?(d=s?"HEAD":"GET",Object.entries(i).filter(([R,M])=>M!==void 0).map(([R,M])=>[R,Array.isArray(M)?`{${M.join(",")}}`:`${M}`]).forEach(([R,M])=>{m.searchParams.append(R,M)})):(d="POST",g=i);const w=new Headers(this.headers);return S?w.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&w.set("Prefer",`count=${u}`),new ma({method:d,url:m,headers:w,schema:this.schemaName,body:g,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class Hb{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const s=i.versions;if(s&&s.node){const l=s.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const s=this.getWebSocketConstructor();return new s(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Ib="2.93.2",Gb=`realtime-js/${Ib}`,Vb="1.0.0",jm="2.0.0",Sg=jm,nf=1e4,Wb=1e3,Yb=100;var $r;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})($r||($r={}));var St;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(St||(St={}));var xn;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(xn||(xn={}));var rf;(function(a){a.websocket="websocket"})(rf||(rf={}));var _i;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(_i||(_i={}));class Kb{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let s=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,s;const l=(s=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(n){var i,s;const l=(s=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},h=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(n,i,s){var l,u;const h=n.topic,d=(l=n.ref)!==null&&l!==void 0?l:"",m=(u=n.join_ref)!==null&&u!==void 0?u:"",g=n.payload.event,b=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},S=Object.keys(b).length===0?"":JSON.stringify(b);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+d.length+h.length+g.length+S.length,R=new ArrayBuffer(this.HEADER_LENGTH+w);let M=new DataView(R),q=0;M.setUint8(q++,this.KINDS.userBroadcastPush),M.setUint8(q++,m.length),M.setUint8(q++,d.length),M.setUint8(q++,h.length),M.setUint8(q++,g.length),M.setUint8(q++,S.length),M.setUint8(q++,i),Array.from(m,V=>M.setUint8(q++,V.charCodeAt(0))),Array.from(d,V=>M.setUint8(q++,V.charCodeAt(0))),Array.from(h,V=>M.setUint8(q++,V.charCodeAt(0))),Array.from(g,V=>M.setUint8(q++,V.charCodeAt(0))),Array.from(S,V=>M.setUint8(q++,V.charCodeAt(0)));var W=new Uint8Array(R.byteLength+s.byteLength);return W.set(new Uint8Array(R),0),W.set(new Uint8Array(s),R.byteLength),W.buffer}decode(n,i){if(this._isArrayBuffer(n)){let s=this._binaryDecode(n);return i(s)}if(typeof n=="string"){const s=JSON.parse(n),[l,u,h,d,m]=s;return i({join_ref:l,ref:u,topic:h,event:d,payload:m})}return i({})}_binaryDecode(n){const i=new DataView(n),s=i.getUint8(0),l=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,i,l)}_decodeUserBroadcast(n,i,s){const l=i.getUint8(1),u=i.getUint8(2),h=i.getUint8(3),d=i.getUint8(4);let m=this.HEADER_LENGTH+4;const g=s.decode(n.slice(m,m+l));m=m+l;const b=s.decode(n.slice(m,m+u));m=m+u;const S=s.decode(n.slice(m,m+h));m=m+h;const w=n.slice(m,n.byteLength),R=d===this.JSON_ENCODING?JSON.parse(s.decode(w)):w,M={type:this.BROADCAST_EVENT,event:b,payload:R};return h>0&&(M.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:M}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([s])=>i.includes(s)))}}class Dm{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Qe||(Qe={}));const Tg=(a,n,i={})=>{var s;const l=(s=i.skipTypes)!==null&&s!==void 0?s:[];return n?Object.keys(n).reduce((u,h)=>(u[h]=Jb(h,a,n,l),u),{}):{}},Jb=(a,n,i,s)=>{const l=n.find(d=>d.name===a),u=l?.type,h=i[a];return u&&!s.includes(u)?Um(u,h):af(h)},Um=(a,n)=>{if(a.charAt(0)==="_"){const i=a.slice(1,a.length);return Fb(n,i)}switch(a){case Qe.bool:return Qb(n);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return Xb(n);case Qe.json:case Qe.jsonb:return Zb(n);case Qe.timestamp:return e0(n);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return af(n);default:return af(n)}},af=a=>a,Qb=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},Xb=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},Zb=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a}return a},Fb=(a,n)=>{if(typeof a!="string")return a;const i=a.length-1,s=a[i];if(a[0]==="{"&&s==="}"){let u;const h=a.slice(1,i);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(d=>Um(n,d))}return a},e0=a=>typeof a=="string"?a.replace(" ","T"):a,Mm=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Pu{constructor(n,i,s={},l=nf){this.channel=n,this.event=i,this.payload=s,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var s;return this._hasReceived(n)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(s=>s.status===n).forEach(s=>s.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Eg;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Eg||(Eg={}));class ws{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},l=>{const{onJoin:u,onLeave:h,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ws.syncState(this.state,l,u,h),this.pendingDiffs.forEach(m=>{this.state=ws.syncDiff(this.state,m,u,h)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},l=>{const{onJoin:u,onLeave:h,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=ws.syncDiff(this.state,l,u,h),d())}),this.onJoin((l,u,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:h})}),this.onLeave((l,u,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,s,l){const u=this.cloneDeep(n),h=this.transformState(i),d={},m={};return this.map(u,(g,b)=>{h[g]||(m[g]=b)}),this.map(h,(g,b)=>{const S=u[g];if(S){const w=b.map(W=>W.presence_ref),R=S.map(W=>W.presence_ref),M=b.filter(W=>R.indexOf(W.presence_ref)<0),q=S.filter(W=>w.indexOf(W.presence_ref)<0);M.length>0&&(d[g]=M),q.length>0&&(m[g]=q)}else d[g]=b}),this.syncDiff(u,{joins:d,leaves:m},s,l)}static syncDiff(n,i,s,l){const{joins:u,leaves:h}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),l||(l=()=>{}),this.map(u,(d,m)=>{var g;const b=(g=n[d])!==null&&g!==void 0?g:[];if(n[d]=this.cloneDeep(m),b.length>0){const S=n[d].map(R=>R.presence_ref),w=b.filter(R=>S.indexOf(R.presence_ref)<0);n[d].unshift(...w)}s(d,b,m)}),this.map(h,(d,m)=>{let g=n[d];if(!g)return;const b=m.map(S=>S.presence_ref);g=g.filter(S=>b.indexOf(S.presence_ref)<0),n[d]=g,l(d,g,m),g.length===0&&delete n[d]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(s=>i(s,n[s]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,s)=>{const l=n[s];return"metas"in l?i[s]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[s]=l,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wg;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(wg||(wg={}));var Cs;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Cs||(Cs={}));var or;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(or||(or={}));class ba{constructor(n,i={config:{}},s){var l,u;if(this.topic=n,this.params=i,this.socket=s,this.bindings={},this.state=St.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Pu(this,xn.join,this.params,this.timeout),this.rejoinTimer=new Dm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=St.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=St.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xn.reply,{},(h,d)=>{this._trigger(this._replyEventName(d),h)}),this.presence=new ws(this),this.broadcastEndpointURL=Mm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var s,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==St.closed){const{config:{broadcast:h,presence:d,private:m}}=this.params,g=(l=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(R=>R.filter))!==null&&l!==void 0?l:[],b=!!this.bindings[Cs.PRESENCE]&&this.bindings[Cs.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,S={},w={broadcast:h,presence:Object.assign(Object.assign({},d),{enabled:b}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(R=>n?.(or.CHANNEL_ERROR,R)),this._onClose(()=>n?.(or.CLOSED)),this.updateJoinPayload(Object.assign({config:w},S)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:R})=>{var M;if(this.socket._isManualToken()||this.socket.setAuth(),R===void 0){n?.(or.SUBSCRIBED);return}else{const q=this.bindings.postgres_changes,W=(M=q?.length)!==null&&M!==void 0?M:0,V=[];for(let L=0;L<W;L++){const B=q[L],{filter:{event:Y,schema:ge,table:de,filter:re}}=B,qe=R&&R[L];if(qe&&qe.event===Y&&ba.isFilterValueEqual(qe.schema,ge)&&ba.isFilterValueEqual(qe.table,de)&&ba.isFilterValueEqual(qe.filter,re))V.push(Object.assign(Object.assign({},B),{id:qe.id}));else{this.unsubscribe(),this.state=St.errored,n?.(or.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,n&&n(or.SUBSCRIBED);return}}).receive("error",R=>{this.state=St.errored,n?.(or.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(R).join(", ")||"error")))}).receive("timeout",()=>{n?.(or.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,s){return this.state===St.joined&&n===Cs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,s)}async httpSend(n,i,s={}){var l;if(i==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);if(d.status===202)return{success:!0};let m=d.statusText;try{const g=await d.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(n,i={}){var s,l;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:h}=n,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,d,m;const g=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(d=(h=this.params)===null||h===void 0?void 0:h.config)===null||d===void 0?void 0:d.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=St.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(l=>{s=new Pu(this,xn.leave,{},n),s.receive("ok",()=>{i(),l("ok")}).receive("timeout",()=>{i(),l("timed out")}).receive("error",()=>{l("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=St.closed,this.bindings={}}async _fetchWithTimeout(n,i,s){const l=new AbortController,u=setTimeout(()=>l.abort(),s),h=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:l.signal}));return clearTimeout(u),h}_push(n,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Pu(this,n,i,s);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Yb){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,s){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,s){var l,u;const h=n.toLocaleLowerCase(),{close:d,error:m,leave:g,join:b}=xn;if(s&&[d,m,g,b].indexOf(h)>=0&&s!==this._joinRef())return;let w=this._onMessage(h,i,s);if(i&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(R=>{var M,q,W;return((M=R.filter)===null||M===void 0?void 0:M.event)==="*"||((W=(q=R.filter)===null||q===void 0?void 0:q.event)===null||W===void 0?void 0:W.toLocaleLowerCase())===h}).map(R=>R.callback(w,s)):(u=this.bindings[h])===null||u===void 0||u.filter(R=>{var M,q,W,V,L,B;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in R){const Y=R.id,ge=(M=R.filter)===null||M===void 0?void 0:M.event;return Y&&((q=i.ids)===null||q===void 0?void 0:q.includes(Y))&&(ge==="*"||ge?.toLocaleLowerCase()===((W=i.data)===null||W===void 0?void 0:W.type.toLocaleLowerCase()))}else{const Y=(L=(V=R?.filter)===null||V===void 0?void 0:V.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return Y==="*"||Y===((B=i?.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return R.type.toLocaleLowerCase()===h}).map(R=>{if(typeof w=="object"&&"ids"in w){const M=w.data,{schema:q,table:W,commit_timestamp:V,type:L,errors:B}=M;w=Object.assign(Object.assign({},{schema:q,table:W,commit_timestamp:V,eventType:L,new:{},old:{},errors:B}),this._getPayloadRecords(M))}R.callback(w,s)})}_isClosed(){return this.state===St.closed}_isJoined(){return this.state===St.joined}_isJoining(){return this.state===St.joining}_isLeaving(){return this.state===St.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,s){const l=n.toLocaleLowerCase(),u={type:l,filter:i,callback:s};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(n,i){const s=n.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===s&&ba.isEqual(l.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const s in n)if(n[s]!==i[s])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(xn.close,{},n)}_onError(n){this._on(xn.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=St.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=Tg(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=Tg(n.columns,n.old_record)),i}}const $u=()=>{},tl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},t0=[1e3,2e3,5e3,1e4],n0=1e4,r0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class i0{constructor(n,i){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nf,this.transport=null,this.heartbeatIntervalMs=tl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$u,this.ref=0,this.reconnectTimer=null,this.vsn=Sg,this.logger=$u,this.conn=null,this.sendBuffer=[],this.serializer=new Kb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((s=i?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${rf.websocket}`,this.httpEndpoint=Mm(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Hb.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,s){this.logger(n,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case $r.connecting:return _i.Connecting;case $r.open:return _i.Open;case $r.closing:return _i.Closing;default:return _i.Closed}}isConnected(){return this.connectionState()===_i.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const s=`realtime:${n}`,l=this.getChannels().find(u=>u.topic===s);if(l)return l;{const u=new ba(`realtime:${n}`,i,this);return this.channels.push(u),u}}push(n){const{topic:i,event:s,payload:l,ref:u}=n,h=()=>{this.encode(n,d=>{var m;(m=this.conn)===null||m===void 0||m.send(d)})};this.log("push",`${i} ${s} (${u})`,l),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Wb,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},tl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(s=>s.topic===n&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",g)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:l,payload:u,ref:h}=i,d=h?`(${h})`:"",m=u.status||"";this.log("receive",`${m} ${s} ${l} ${d}`.trim(),u),this.channels.filter(g=>g._isMember(s)).forEach(g=>g._trigger(l,u,h)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===$r.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===$r.open||this.conn.readyState===$r.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(i){this.log("error","error in heartbeat callback",i)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(xn.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const s=n.match(/\?/)?"&":"?",l=new URLSearchParams(i);return`${n}${s}${l}`}_workerObjectUrl(n){let i;if(n)i=n;else{const s=new Blob([r0],{type:"application/javascript"});i=URL.createObjectURL(s)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,s=!1;if(n)i=n,s=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),i=this.accessTokenValue}else i=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(l=>{const u={access_token:i,version:Gb};i&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(xn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(s=>{try{s(i)}catch(l){this.log("error",`error in ${n} callback`,l)}})}catch(s){this.log("error",`error triggering ${n} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Dm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},tl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,s,l,u,h,d,m,g,b,S,w,R;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(s=n?.timeout)!==null&&s!==void 0?s:nf,this.heartbeatIntervalMs=(l=n?.heartbeatIntervalMs)!==null&&l!==void 0?l:tl.HEARTBEAT_INTERVAL,this.worker=(u=n?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=n?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(d=n?.heartbeatCallback)!==null&&d!==void 0?d:$u,this.vsn=(m=n?.vsn)!==null&&m!==void 0?m:Sg,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n?.reconnectAfterMs)!==null&&g!==void 0?g:(M=>t0[M-1]||n0),this.vsn){case Vb:this.encode=(b=n?.encode)!==null&&b!==void 0?b:((M,q)=>q(JSON.stringify(M))),this.decode=(S=n?.decode)!==null&&S!==void 0?S:((M,q)=>q(JSON.parse(M)));break;case jm:this.encode=(w=n?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(R=n?.decode)!==null&&R!==void 0?R:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Rs=class extends Error{constructor(a,n){super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function a0(a,n,i){const s=new URL(n,a);if(i)for(const[l,u]of Object.entries(i))u!==void 0&&s.searchParams.set(l,u);return s.toString()}async function s0(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function o0(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:i,path:s,query:l,body:u,headers:h}){const d=a0(a.baseUrl,s,l),m=await s0(a.auth),g=await n(d,{method:i,headers:{...u?{"Content-Type":"application/json"}:{},...m,...h},body:u?JSON.stringify(u):void 0}),b=await g.text(),S=(g.headers.get("content-type")||"").includes("application/json"),w=S&&b?JSON.parse(b):b;if(!g.ok){const R=S?w:void 0,M=R?.error;throw new Rs(M?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:M?.type,icebergCode:M?.code,details:R})}return{status:g.status,headers:g.headers,data:w}}}}function nl(a){return a.join("")}var l0=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:nl(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(a,n){const i={namespace:a.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${nl(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${nl(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${nl(a.namespace)}`}),!0}catch(n){if(n instanceof Rs&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(i){if(i instanceof Rs&&i.status===409)return;throw i}}};function ua(a){return a.join("")}var c0=class{constructor(a,n="",i){this.client=a,this.prefix=n,this.accessDelegation=i}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ua(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ua(a.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(a,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ua(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ua(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ua(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ua(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(i){if(i instanceof Rs&&i.status===404)return!1;throw i}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(i){if(i instanceof Rs&&i.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw i}}},u0=class{constructor(a){let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const i=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=o0({baseUrl:i,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new l0(this.client,n),this.tableOps=new c0(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}},Sl=class extends Error{constructor(a,n="storage",i,s){super(a),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=i,this.statusCode=s}};function Tl(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}var rl=class extends Sl{constructor(a,n,i,s="storage"){super(a,s,n,i),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Nm=class extends Sl{constructor(a,n,i="storage"){super(a,i),this.name=i==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const f0=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),h0=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},sf=a=>{if(Array.isArray(a))return a.map(i=>sf(i));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([i,s])=>{const l=i.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[l]=sf(s)}),n},d0=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a);function Os(a){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Os(a)}function p0(a,n){if(Os(a)!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var s=i.call(a,n);if(Os(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function g0(a){var n=p0(a,"string");return Os(n)=="symbol"?n:n+""}function m0(a,n,i){return(n=g0(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a}function Cg(a,n){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),i.push.apply(i,s)}return i}function be(a){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Cg(Object(i),!0).forEach(function(s){m0(a,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):Cg(Object(i)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(i,s))})}return a}const Ag=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},v0=async(a,n,i,s)=>{if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!i?.noResolveJson){const l=a,u=l.status||500;if(typeof l.json=="function")l.json().then(h=>{const d=h?.statusCode||h?.code||u+"";n(new rl(Ag(h),u,d,s))}).catch(()=>{if(s==="vectors"){const h=u+"";n(new rl(l.statusText||`HTTP ${u} error`,u,h,s))}else{const h=u+"";n(new rl(l.statusText||`HTTP ${u} error`,u,h,s))}});else{const h=u+"";n(new rl(l.statusText||`HTTP ${u} error`,u,h,s))}}else n(new Nm(Ag(a),a,s))},y0=(a,n,i,s)=>{const l={method:a,headers:n?.headers||{}};return a==="GET"||a==="HEAD"||!s?be(be({},l),i):(h0(s)?(l.headers=be({"Content-Type":"application/json"},n?.headers),l.body=JSON.stringify(s)):l.body=s,n?.duplex&&(l.duplex=n.duplex),be(be({},l),i))};async function Ss(a,n,i,s,l,u,h){return new Promise((d,m)=>{a(i,y0(n,s,l,u)).then(g=>{if(!g.ok)throw g;if(s?.noResolveJson)return g;if(h==="vectors"){const b=g.headers.get("content-type");if(!b||!b.includes("application/json"))return{}}return g.json()}).then(g=>d(g)).catch(g=>v0(g,m,s,h))})}function b0(a="storage"){return{get:async(n,i,s,l)=>Ss(n,"GET",i,s,l,void 0,a),post:async(n,i,s,l,u)=>Ss(n,"POST",i,l,u,s,a),put:async(n,i,s,l,u)=>Ss(n,"PUT",i,l,u,s,a),head:async(n,i,s,l)=>Ss(n,"HEAD",i,be(be({},s),{},{noResolveJson:!0}),l,void 0,a),remove:async(n,i,s,l,u)=>Ss(n,"DELETE",i,l,u,s,a)}}const _0=b0("storage"),{get:xs,post:nt,put:of,head:S0,remove:bf}=_0;var Ta=class{constructor(a,n={},i,s="storage"){this.shouldThrowOnError=!1,this.url=a,this.headers=n,this.fetch=f0(i),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(a){var n=this;try{return{data:await a(),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Tl(i))return{data:null,error:i};throw i}}},T0=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n}then(a,n){return this.execute().then(a,n)}async execute(){var a=this;try{return{data:(await a.downloadFn()).body,error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Tl(n))return{data:null,error:n};throw n}}};let Bm;Bm=Symbol.toStringTag;var E0=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n,this[Bm]="BlobDownloadBuilder",this.promise=null}asStream(){return new T0(this.downloadFn,this.shouldThrowOnError)}then(a,n){return this.getPromise().then(a,n)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var a=this;try{return{data:await(await a.downloadFn()).blob(),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Tl(n))return{data:null,error:n};throw n}}};const w0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var C0=class extends Ta{constructor(a,n={},i,s){super(a,n,s,"storage"),this.bucketId=i}async uploadOrUpdate(a,n,i,s){var l=this;return l.handleOperation(async()=>{let u;const h=be(be({},Rg),s);let d=be(be({},l.headers),a==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),m&&u.append("metadata",l.encodeMetadata(m)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.has("cacheControl")||u.append("cacheControl",h.cacheControl),m&&!u.has("metadata")&&u.append("metadata",l.encodeMetadata(m))):(u=i,d["cache-control"]=`max-age=${h.cacheControl}`,d["content-type"]=h.contentType,m&&(d["x-metadata"]=l.toBase64(l.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!h.duplex&&(h.duplex="half")),s?.headers&&(d=be(be({},d),s.headers));const g=l._removeEmptyFolders(n),b=l._getFinalPath(g),S=await(a=="PUT"?of:nt)(l.fetch,`${l.url}/object/${b}`,u,be({headers:d},h?.duplex?{duplex:h.duplex}:{}));return{path:g,id:S.Id,fullPath:S.Key}})}async upload(a,n,i){return this.uploadOrUpdate("POST",a,n,i)}async uploadToSignedUrl(a,n,i,s){var l=this;const u=l._removeEmptyFolders(a),h=l._getFinalPath(u),d=new URL(l.url+`/object/upload/sign/${h}`);return d.searchParams.set("token",n),l.handleOperation(async()=>{let m;const g=be({upsert:Rg.upsert},s),b=be(be({},l.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",g.cacheControl)):(m=i,b["cache-control"]=`max-age=${g.cacheControl}`,b["content-type"]=g.contentType),{path:u,fullPath:(await of(l.fetch,d.toString(),m,{headers:b})).Key}})}async createSignedUploadUrl(a,n){var i=this;return i.handleOperation(async()=>{let s=i._getFinalPath(a);const l=be({},i.headers);n?.upsert&&(l["x-upsert"]="true");const u=await nt(i.fetch,`${i.url}/object/upload/sign/${s}`,{},{headers:l}),h=new URL(i.url+u.url),d=h.searchParams.get("token");if(!d)throw new Sl("No token returned by API");return{signedUrl:h.toString(),path:a,token:d}})}async update(a,n,i){return this.uploadOrUpdate("PUT",a,n,i)}async move(a,n,i){var s=this;return s.handleOperation(async()=>await nt(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:a,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:s.headers}))}async copy(a,n,i){var s=this;return s.handleOperation(async()=>({path:(await nt(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:a,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(a,n,i){var s=this;return s.handleOperation(async()=>{let l=s._getFinalPath(a),u=await nt(s.fetch,`${s.url}/object/sign/${l}`,be({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:s.headers});const h=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{signedUrl:encodeURI(`${s.url}${u.signedURL}${h}`)}})}async createSignedUrls(a,n,i){var s=this;return s.handleOperation(async()=>{const l=await nt(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:n,paths:a},{headers:s.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return l.map(h=>be(be({},h),{},{signedUrl:h.signedURL?encodeURI(`${s.url}${h.signedURL}${u}`):null}))})}download(a,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),l=s?`?${s}`:"",u=this._getFinalPath(a),h=()=>xs(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new E0(h,this.shouldThrowOnError)}async info(a){var n=this;const i=n._getFinalPath(a);return n.handleOperation(async()=>sf(await xs(n.fetch,`${n.url}/object/info/${i}`,{headers:n.headers})))}async exists(a){var n=this;const i=n._getFinalPath(a);try{return await S0(n.fetch,`${n.url}/object/${i}`,{headers:n.headers}),{data:!0,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Tl(s)&&s instanceof Nm){const l=s.originalError;if([400,404].includes(l?.status))return{data:!1,error:s}}throw s}}getPublicUrl(a,n){const i=this._getFinalPath(a),s=[],l=n?.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&s.push(l);const u=typeof n?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(n?.transform||{});h!==""&&s.push(h);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${i}${d}`)}}}async remove(a){var n=this;return n.handleOperation(async()=>await bf(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:a},{headers:n.headers}))}async list(a,n,i){var s=this;return s.handleOperation(async()=>{const l=be(be(be({},w0),n),{},{prefix:a||""});return await nt(s.fetch,`${s.url}/object/list/${s.bucketId}`,l,{headers:s.headers},i)})}async listV2(a,n){var i=this;return i.handleOperation(async()=>{const s=be({},a);return await nt(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,s,{headers:i.headers},n)})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const n=[];return a.width&&n.push(`width=${a.width}`),a.height&&n.push(`height=${a.height}`),a.resize&&n.push(`resize=${a.resize}`),a.format&&n.push(`format=${a.format}`),a.quality&&n.push(`quality=${a.quality}`),n.join("&")}};const A0="2.93.2",Us={"X-Client-Info":`storage-js/${A0}`};var R0=class extends Ta{constructor(a,n={},i,s){const l=new URL(a);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase."));const u=l.href.replace(/\/$/,""),h=be(be({},Us),n);super(u,h,i,"storage")}async listBuckets(a){var n=this;return n.handleOperation(async()=>{const i=n.listBucketOptionsToQueryString(a);return await xs(n.fetch,`${n.url}/bucket${i}`,{headers:n.headers})})}async getBucket(a){var n=this;return n.handleOperation(async()=>await xs(n.fetch,`${n.url}/bucket/${a}`,{headers:n.headers}))}async createBucket(a,n={public:!1}){var i=this;return i.handleOperation(async()=>await nt(i.fetch,`${i.url}/bucket`,{id:a,name:a,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async updateBucket(a,n){var i=this;return i.handleOperation(async()=>await of(i.fetch,`${i.url}/bucket/${a}`,{id:a,name:a,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async emptyBucket(a){var n=this;return n.handleOperation(async()=>await nt(n.fetch,`${n.url}/bucket/${a}/empty`,{},{headers:n.headers}))}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await bf(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(a){const n={};return a&&("limit"in a&&(n.limit=String(a.limit)),"offset"in a&&(n.offset=String(a.offset)),a.search&&(n.search=a.search),a.sortColumn&&(n.sortColumn=a.sortColumn),a.sortOrder&&(n.sortOrder=a.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},O0=class extends Ta{constructor(a,n={},i){const s=a.replace(/\/$/,""),l=be(be({},Us),n);super(s,l,i,"storage")}async createBucket(a){var n=this;return n.handleOperation(async()=>await nt(n.fetch,`${n.url}/bucket`,{name:a},{headers:n.headers}))}async listBuckets(a){var n=this;return n.handleOperation(async()=>{const i=new URLSearchParams;a?.limit!==void 0&&i.set("limit",a.limit.toString()),a?.offset!==void 0&&i.set("offset",a.offset.toString()),a?.sortColumn&&i.set("sortColumn",a.sortColumn),a?.sortOrder&&i.set("sortOrder",a.sortOrder),a?.search&&i.set("search",a.search);const s=i.toString(),l=s?`${n.url}/bucket?${s}`:`${n.url}/bucket`;return await xs(n.fetch,l,{headers:n.headers})})}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await bf(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}))}from(a){var n=this;if(!d0(a))throw new Sl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new u0({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(i,{get(l,u){const h=l[u];return typeof h!="function"?h:async(...d)=>{try{return{data:await h.apply(l,d),error:null}}catch(m){if(s)throw m;return{data:null,error:m}}}}})}},x0=class extends Ta{constructor(a,n={},i){const s=a.replace(/\/$/,""),l=be(be({},Us),{},{"Content-Type":"application/json"},n);super(s,l,i,"vectors")}async createIndex(a){var n=this;return n.handleOperation(async()=>await nt(n.fetch,`${n.url}/CreateIndex`,a,{headers:n.headers})||{})}async getIndex(a,n){var i=this;return i.handleOperation(async()=>await nt(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:a,indexName:n},{headers:i.headers}))}async listIndexes(a){var n=this;return n.handleOperation(async()=>await nt(n.fetch,`${n.url}/ListIndexes`,a,{headers:n.headers}))}async deleteIndex(a,n){var i=this;return i.handleOperation(async()=>await nt(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:a,indexName:n},{headers:i.headers})||{})}},k0=class extends Ta{constructor(a,n={},i){const s=a.replace(/\/$/,""),l=be(be({},Us),{},{"Content-Type":"application/json"},n);super(s,l,i,"vectors")}async putVectors(a){var n=this;if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await nt(n.fetch,`${n.url}/PutVectors`,a,{headers:n.headers})||{})}async getVectors(a){var n=this;return n.handleOperation(async()=>await nt(n.fetch,`${n.url}/GetVectors`,a,{headers:n.headers}))}async listVectors(a){var n=this;if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return n.handleOperation(async()=>await nt(n.fetch,`${n.url}/ListVectors`,a,{headers:n.headers}))}async queryVectors(a){var n=this;return n.handleOperation(async()=>await nt(n.fetch,`${n.url}/QueryVectors`,a,{headers:n.headers}))}async deleteVectors(a){var n=this;if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await nt(n.fetch,`${n.url}/DeleteVectors`,a,{headers:n.headers})||{})}},j0=class extends Ta{constructor(a,n={},i){const s=a.replace(/\/$/,""),l=be(be({},Us),{},{"Content-Type":"application/json"},n);super(s,l,i,"vectors")}async createBucket(a){var n=this;return n.handleOperation(async()=>await nt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{})}async getBucket(a){var n=this;return n.handleOperation(async()=>await nt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:a},{headers:n.headers}))}async listBuckets(a={}){var n=this;return n.handleOperation(async()=>await nt(n.fetch,`${n.url}/ListVectorBuckets`,a,{headers:n.headers}))}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await nt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{})}},D0=class extends j0{constructor(a,n={}){super(a,n.headers||{},n.fetch)}from(a){return new U0(this.url,this.headers,a,this.fetch)}async createBucket(a){var n=()=>super.createBucket,i=this;return n().call(i,a)}async getBucket(a){var n=()=>super.getBucket,i=this;return n().call(i,a)}async listBuckets(a={}){var n=()=>super.listBuckets,i=this;return n().call(i,a)}async deleteBucket(a){var n=()=>super.deleteBucket,i=this;return n().call(i,a)}},U0=class extends x0{constructor(a,n,i,s){super(a,n,s),this.vectorBucketName=i}async createIndex(a){var n=()=>super.createIndex,i=this;return n().call(i,be(be({},a),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(a={}){var n=()=>super.listIndexes,i=this;return n().call(i,be(be({},a),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(a){var n=()=>super.getIndex,i=this;return n().call(i,i.vectorBucketName,a)}async deleteIndex(a){var n=()=>super.deleteIndex,i=this;return n().call(i,i.vectorBucketName,a)}index(a){return new M0(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},M0=class extends k0{constructor(a,n,i,s,l){super(a,n,l),this.vectorBucketName=i,this.indexName=s}async putVectors(a){var n=()=>super.putVectors,i=this;return n().call(i,be(be({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(a){var n=()=>super.getVectors,i=this;return n().call(i,be(be({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(a={}){var n=()=>super.listVectors,i=this;return n().call(i,be(be({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(a){var n=()=>super.queryVectors,i=this;return n().call(i,be(be({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(a){var n=()=>super.deleteVectors,i=this;return n().call(i,be(be({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},N0=class extends R0{constructor(a,n={},i,s){super(a,n,i,s)}from(a){return new C0(this.url,this.headers,a,this.fetch)}get vectors(){return new D0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new O0(this.url+"/iceberg",this.headers,this.fetch)}};const zm="2.93.2",va=30*1e3,lf=3,Hu=lf*va,B0="http://localhost:9999",z0="supabase.auth.token",L0={"X-Client-Info":`gotrue-js/${zm}`},cf="X-Supabase-Api-Version",Lm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},q0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,P0=600*1e3;class ks extends Error{constructor(n,i,s){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}}function he(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class $0 extends ks{constructor(n,i,s){super(n,i,s),this.name="AuthApiError",this.status=i,this.code=s}}function H0(a){return he(a)&&a.name==="AuthApiError"}class Si extends ks{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class lr extends ks{constructor(n,i,s,l){super(n,s,l),this.name=i,this.status=s}}class cn extends lr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Iu(a){return he(a)&&a.name==="AuthSessionMissingError"}class fa extends lr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class il extends lr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class al extends lr{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function I0(a){return he(a)&&a.name==="AuthImplicitGrantRedirectError"}class Og extends lr{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class G0 extends lr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class uf extends lr{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function Gu(a){return he(a)&&a.name==="AuthRetryableFetchError"}class xg extends lr{constructor(n,i,s){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}}class ff extends lr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const ml="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kg=` 	
\r=`.split(""),V0=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<kg.length;n+=1)a[kg[n].charCodeAt(0)]=-2;for(let n=0;n<ml.length;n+=1)a[ml[n].charCodeAt(0)]=n;return a})();function jg(a,n,i){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;i(ml[s]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;i(ml[s]),n.queuedBits-=6}}function qm(a,n,i){const s=V0[a];if(s>-1)for(n.queue=n.queue<<6|s,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function Dg(a){const n=[],i=h=>{n.push(String.fromCodePoint(h))},s={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=h=>{K0(h,s,i)};for(let h=0;h<a.length;h+=1)qm(a.charCodeAt(h),l,u);return n.join("")}function W0(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function Y0(a,n){for(let i=0;i<a.length;i+=1){let s=a.charCodeAt(i);if(s>55295&&s<=56319){const l=(s-55296)*1024&65535;s=(a.charCodeAt(i+1)-56320&65535|l)+65536,i+=1}W0(s,n)}}function K0(a,n,i){if(n.utf8seq===0){if(a<=127){i(a);return}for(let s=1;s<6;s+=1)if((a>>7-s&1)===0){n.utf8seq=s;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Sa(a){const n=[],i={queue:0,queuedBits:0},s=l=>{n.push(l)};for(let l=0;l<a.length;l+=1)qm(a.charCodeAt(l),i,s);return new Uint8Array(n)}function J0(a){const n=[];return Y0(a,i=>n.push(i)),new Uint8Array(n)}function Ti(a){const n=[],i={queue:0,queuedBits:0},s=l=>{n.push(l)};return a.forEach(l=>jg(l,i,s)),jg(null,i,s),n.join("")}function Q0(a){return Math.round(Date.now()/1e3)+a}function X0(){return Symbol("auth-callback")}const Dt=()=>typeof window<"u"&&typeof document<"u",vi={tested:!1,writable:!1},Pm=()=>{if(!Dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vi.tested)return vi.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),vi.tested=!0,vi.writable=!0}catch{vi.tested=!0,vi.writable=!1}return vi.writable};function Z0(a){const n={},i=new URL(a);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((l,u)=>{n[u]=l})}catch{}return i.searchParams.forEach((s,l)=>{n[l]=s}),n}const $m=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),F0=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",ya=async(a,n,i)=>{await a.setItem(n,JSON.stringify(i))},yi=async(a,n)=>{const i=await a.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},jt=async(a,n)=>{await a.removeItem(n)};class El{constructor(){this.promise=new El.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}El.promiseConstructor=Promise;function sl(a){const n=a.split(".");if(n.length!==3)throw new ff("Invalid JWT structure");for(let s=0;s<n.length;s++)if(!q0.test(n[s]))throw new ff("JWT not in base64url format");return{header:JSON.parse(Dg(n[0])),payload:JSON.parse(Dg(n[1])),signature:Sa(n[2]),raw:{header:n[0],payload:n[1]}}}async function e_(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function t_(a,n){return new Promise((s,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await a(u);if(!n(u,null,h)){s(h);return}}catch(h){if(!n(u,h)){l(h);return}}})()})}function n_(a){return("0"+a.toString(16)).substr(-2)}function r_(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let l="";for(let u=0;u<56;u++)l+=i.charAt(Math.floor(Math.random()*s));return l}return crypto.getRandomValues(n),Array.from(n,n_).join("")}async function i_(a){const i=new TextEncoder().encode(a),s=await crypto.subtle.digest("SHA-256",i),l=new Uint8Array(s);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function a_(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const i=await i_(a);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ha(a,n,i=!1){const s=r_();let l=s;i&&(l+="/PASSWORD_RECOVERY"),await ya(a,`${n}-code-verifier`,l);const u=await a_(s);return[u,s===u?"plain":"s256"]}const s_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function o_(a){const n=a.headers.get(cf);if(!n||!n.match(s_))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function l_(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function c_(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const u_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function da(a){if(!u_.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vu(){const a={};return new Proxy(a,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function f_(a,n){return new Proxy(a,{get:(i,s,l)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const u=s.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,s,l)}return!n.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,s,l)}})}function Ug(a){return JSON.parse(JSON.stringify(a))}const bi=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),h_=[502,503,504];async function Mg(a){var n;if(!F0(a))throw new uf(bi(a),0);if(h_.includes(a.status))throw new uf(bi(a),a.status);let i;try{i=await a.json()}catch(u){throw new Si(bi(u),u)}let s;const l=o_(a);if(l&&l.getTime()>=Lm["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new xg(bi(i),a.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(s==="session_not_found")throw new cn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new xg(bi(i),a.status,i.weak_password.reasons);throw new $0(bi(i),a.status||500,s)}const d_=(a,n,i,s)=>{const l={method:a,headers:n?.headers||{}};return a==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),l.body=JSON.stringify(s),Object.assign(Object.assign({},l),i))};async function ye(a,n,i,s){var l;const u=Object.assign({},s?.headers);u[cf]||(u[cf]=Lm["2024-01-01"].name),s?.jwt&&(u.Authorization=`Bearer ${s.jwt}`);const h=(l=s?.query)!==null&&l!==void 0?l:{};s?.redirectTo&&(h.redirect_to=s.redirectTo);const d=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await p_(a,n,i+d,{headers:u,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(m):{data:Object.assign({},m),error:null}}async function p_(a,n,i,s,l,u){const h=d_(n,s,l,u);let d;try{d=await a(i,Object.assign({},h))}catch(m){throw console.error(m),new uf(bi(m),0)}if(d.ok||await Mg(d),s?.noResolveJson)return d;try{return await d.json()}catch(m){await Mg(m)}}function On(a){var n;let i=null;v_(a)&&(i=Object.assign({},a),a.expires_at||(i.expires_at=Q0(a.expires_in)));const s=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:i,user:s},error:null}}function Ng(a){const n=On(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(n.data.weak_password=a.weak_password),n}function Hr(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function g_(a){return{data:a,error:null}}function m_(a){const{action_link:n,email_otp:i,hashed_token:s,redirect_to:l,verification_type:u}=a,h=_l(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:n,email_otp:i,hashed_token:s,redirect_to:l,verification_type:u},m=Object.assign({},h);return{data:{properties:d,user:m},error:null}}function Bg(a){return a}function v_(a){return a.access_token&&a.refresh_token&&a.expires_in}const Wu=["global","local","others"];class y_{constructor({url:n="",headers:i={},fetch:s}){this.url=n,this.headers=i,this.fetch=$m(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=Wu[0]){if(Wu.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wu.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}async inviteUserByEmail(n,i={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Hr})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async generateLink(n){try{const{options:i}=n,s=_l(n,["options"]),l=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(l.new_email=s?.newEmail,delete l.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:m_,redirectTo:i?.redirectTo})}catch(i){if(he(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Hr})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,s,l,u,h,d,m;try{const g={nextPage:null,lastPage:0,total:0},b=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(u=(l=n?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Bg});if(b.error)throw b.error;const S=await b.json(),w=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,R=(m=(d=b.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&m!==void 0?m:[];return R.length>0&&(R.forEach(M=>{const q=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),W=JSON.parse(M.split(";")[1].split("=")[1]);g[`${W}Page`]=q}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},S),g),error:null}}catch(g){if(he(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){da(n);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Hr})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){da(n);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:Hr})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async deleteUser(n,i=!1){da(n);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:Hr})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async _listFactors(n){da(n.userId);try{const{data:i,error:s}=await ye(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:i,error:s}}catch(i){if(he(i))return{data:null,error:i};throw i}}async _deleteFactor(n){da(n.userId),da(n.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,s,l,u,h,d,m;try{const g={nextPage:null,lastPage:0,total:0},b=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(u=(l=n?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Bg});if(b.error)throw b.error;const S=await b.json(),w=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,R=(m=(d=b.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&m!==void 0?m:[];return R.length>0&&(R.forEach(M=>{const q=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),W=JSON.parse(M.split(";")[1].split("=")[1]);g[`${W}Page`]=q}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},S),g),error:null}}catch(g){if(he(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(n){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(he(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(he(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(n){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(he(i))return{data:null,error:i};throw i}}}function zg(a={}){return{getItem:n=>a[n]||null,setItem:(n,i)=>{a[n]=i},removeItem:n=>{delete a[n]}}}const pa={debug:!!(globalThis&&Pm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hm extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class b_ extends Hm{}async function __(a,n,i){pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const s=new globalThis.AbortController;return n>0&&setTimeout(()=>{s.abort(),pa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async l=>{if(l){pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,l.name);try{return await i()}finally{pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,l.name)}}else{if(n===0)throw pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new b_(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(pa.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function S_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Im(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function T_(a){return parseInt(a,16)}function E_(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,s=>s.toString(16).padStart(2,"0")).join("")}function w_(a){var n;const{chainId:i,domain:s,expirationTime:l,issuedAt:u=new Date,nonce:h,notBefore:d,requestId:m,resources:g,scheme:b,uri:S,version:w}=a;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const R=Im(a.address),M=b?`${b}://${s}`:s,q=a.statement?`${a.statement}
`:"",W=`${M} wants you to sign in with your Ethereum account:
${R}

${q}`;let V=`URI: ${S}
Version: ${w}
Chain ID: ${i}${h?`
Nonce: ${h}`:""}
Issued At: ${u.toISOString()}`;if(l&&(V+=`
Expiration Time: ${l.toISOString()}`),d&&(V+=`
Not Before: ${d.toISOString()}`),m&&(V+=`
Request ID: ${m}`),g){let L=`
Resources:`;for(const B of g){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);L+=`
- ${B}`}V+=L}return`${W}
${V}`}class yt extends Error{constructor({message:n,code:i,cause:s,name:l}){var u;super(n,{cause:s}),this.__isWebAuthnError=!0,this.name=(u=l??(s instanceof Error?s.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=i}}class vl extends yt{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function C_({error:a,options:n}){var i,s,l;const{publicKey:u}=n;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new yt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((i=u.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new yt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((s=u.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new yt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new yt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new yt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new yt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new yt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new yt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const h=window.location.hostname;if(Gm(h)){if(u.rp.id!==h)return new yt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new yt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new yt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new yt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new yt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function A_({error:a,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new yt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new yt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const s=window.location.hostname;if(Gm(s)){if(i.rpId!==s)return new yt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new yt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new yt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new yt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class R_{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const O_=new R_;function x_(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:i,excludeCredentials:s}=a,l=_l(a,["challenge","user","excludeCredentials"]),u=Sa(n).buffer,h=Object.assign(Object.assign({},i),{id:Sa(i.id).buffer}),d=Object.assign(Object.assign({},l),{challenge:u,user:h});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let m=0;m<s.length;m++){const g=s[m];d.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:Sa(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function k_(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:i}=a,s=_l(a,["challenge","allowCredentials"]),l=Sa(n).buffer,u=Object.assign(Object.assign({},s),{challenge:l});if(i&&i.length>0){u.allowCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const d=i[h];u.allowCredentials[h]=Object.assign(Object.assign({},d),{id:Sa(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function j_(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a;return{id:a.id,rawId:a.id,response:{attestationObject:Ti(new Uint8Array(a.response.attestationObject)),clientDataJSON:Ti(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function D_(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a,s=a.getClientExtensionResults(),l=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:Ti(new Uint8Array(l.authenticatorData)),clientDataJSON:Ti(new Uint8Array(l.clientDataJSON)),signature:Ti(new Uint8Array(l.signature)),userHandle:l.userHandle?Ti(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Gm(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function Lg(){var a,n;return!!(Dt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function U_(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new vl("Browser returned unexpected credential type",n)}:{data:null,error:new vl("Empty credential response",n)}}catch(n){return{data:null,error:C_({error:n,options:a})}}}async function M_(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new vl("Browser returned unexpected credential type",n)}:{data:null,error:new vl("Empty credential response",n)}}catch(n){return{data:null,error:A_({error:n,options:a})}}}const N_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},B_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yl(...a){const n=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),i=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),s={};for(const l of a)if(l)for(const u in l){const h=l[u];if(h!==void 0)if(Array.isArray(h))s[u]=h;else if(i(h))s[u]=h;else if(n(h)){const d=s[u];n(d)?s[u]=yl(d,h):s[u]=yl(h)}else s[u]=h}return s}function z_(a,n){return yl(N_,a,n||{})}function L_(a,n){return yl(B_,a,n||{})}class q_{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:s,signal:l},u){try{const{data:h,error:d}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!h)return{data:null,error:d};const m=l??O_.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:g}=h.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${s}`),g.displayName||(g.displayName=g.name)}switch(h.webauthn.type){case"create":{const g=z_(h.webauthn.credential_options.publicKey,u?.create),{data:b,error:S}=await U_({publicKey:g,signal:m});return b?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:S}}case"request":{const g=L_(h.webauthn.credential_options.publicKey,u?.request),{data:b,error:S}=await M_(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:g,signal:m}));return b?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:S}}}}catch(h){return he(h)?{data:null,error:h}:{data:null,error:new Si("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:i,webauthn:s}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:s})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!i)return{data:null,error:new ks("rpId is required for WebAuthn authentication")};try{if(!Lg())return{data:null,error:new Si("Browser does not support WebAuthn",null)};const{data:h,error:d}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:s},signal:l},{request:u});if(!h)return{data:null,error:d};const{webauthn:m}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:m.type,rpId:i,rpOrigins:s,credential_response:m.credential_response}})}catch(h){return he(h)?{data:null,error:h}:{data:null,error:new Si("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!i)return{data:null,error:new ks("rpId is required for WebAuthn registration")};try{if(!Lg())return{data:null,error:new Si("Browser does not support WebAuthn",null)};const{data:h,error:d}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(b=>{var S;return(S=b.data)===null||S===void 0?void 0:S.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:d};const{data:m,error:g}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:i,rpOrigins:s},signal:l},{create:u});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:i,rpOrigins:s,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(h){return he(h)?{data:null,error:h}:{data:null,error:new Si("Unexpected error in register",h)}}}}S_();const P_={url:B0,storageKey:z0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:L0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function qg(a,n,i){return await i()}const ga={};class js{get jwks(){var n,i;return(i=(n=ga[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){ga[this.storageKey]=Object.assign(Object.assign({},ga[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=ga[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){ga[this.storageKey]=Object.assign(Object.assign({},ga[this.storageKey]),{cachedAt:n})}constructor(n){var i,s,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},P_),n);if(this.storageKey=u.storageKey,this.instanceID=(i=js.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,js.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Dt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new y_({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=$m(u.fetch),this.lock=u.lock||qg,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&Dt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=__:this.lock=qg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new q_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Pm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zg(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=zg(this.memoryStorage)),Dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zm}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},s="none";if(Dt()&&(i=Z0(window.location.href),this._isImplicitGrantCallback(i)?s="implicit":await this._isPKCECallback(i)&&(s="pkce")),Dt()&&this.detectSessionInUrl&&s!=="none"){const{data:l,error:u}=await this._getSessionFromURL(i,s);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),I0(u)){const m=(n=u.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:h,redirectType:d}=l;return this._debug("#_initialize()","detected session in URL",h,"redirect type",d),await this._saveSession(h),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return he(i)?this._returnResult({error:i}):this._returnResult({error:new Si("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,s,l;try{const u=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(l=n?.options)===null||l===void 0?void 0:l.captchaToken}},xform:On}),{data:h,error:d}=u;if(d||!h)return this._returnResult({data:{user:null,session:null},error:d});const m=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(he(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(n){var i,s,l;try{let u;if("email"in n){const{email:b,password:S,options:w}=n;let R=null,M=null;this.flowType==="pkce"&&([R,M]=await ha(this.storage,this.storageKey)),u=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:b,password:S,data:(i=w?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:R,code_challenge_method:M},xform:On})}else if("phone"in n){const{phone:b,password:S,options:w}=n;u=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:S,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(l=w?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:On})}else throw new il("You must provide either an email or phone number and a password");const{data:h,error:d}=u;if(d||!h)return await jt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const m=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(await jt(this.storage,`${this.storageKey}-code-verifier`),he(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(n){try{let i;if("email"in n){const{email:u,password:h,options:d}=n;i=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Ng})}else if("phone"in n){const{phone:u,password:h,options:d}=n;i=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Ng})}else throw new il("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s||!s.session||!s.user){const u=new fa;return this._returnResult({data:{user:null,session:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:l})}catch(i){if(he(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,s,l,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=n.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,s,l,u,h,d,m,g,b,S,w;let R,M;if("message"in n)R=n.message,M=n.signature;else{const{chain:q,wallet:W,statement:V,options:L}=n;let B;if(Dt())if(typeof W=="object")B=W;else{const Ie=window;if("ethereum"in Ie&&typeof Ie.ethereum=="object"&&"request"in Ie.ethereum&&typeof Ie.ethereum.request=="function")B=Ie.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof W!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=W}const Y=new URL((i=L?.url)!==null&&i!==void 0?i:window.location.href),ge=await B.request({method:"eth_requestAccounts"}).then(Ie=>Ie).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ge||ge.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const de=Im(ge[0]);let re=(s=L?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!re){const Ie=await B.request({method:"eth_chainId"});re=T_(Ie)}const qe={domain:Y.host,address:de,statement:V,uri:Y.href,version:"1",chainId:re,nonce:(l=L?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(h=(u=L?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(d=L?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(m=L?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=L?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(b=L?.signInWithEthereum)===null||b===void 0?void 0:b.resources};R=w_(qe),M=await B.request({method:"personal_sign",params:[E_(R),de]})}try{const{data:q,error:W}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:R,signature:M},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:On});if(W)throw W;if(!q||!q.session||!q.user){const V=new fa;return this._returnResult({data:{user:null,session:null},error:V})}return q.session&&(await this._saveSession(q.session),await this._notifyAllSubscribers("SIGNED_IN",q.session)),this._returnResult({data:Object.assign({},q),error:W})}catch(q){if(he(q))return this._returnResult({data:{user:null,session:null},error:q});throw q}}async signInWithSolana(n){var i,s,l,u,h,d,m,g,b,S,w,R;let M,q;if("message"in n)M=n.message,q=n.signature;else{const{chain:W,wallet:V,statement:L,options:B}=n;let Y;if(Dt())if(typeof V=="object")Y=V;else{const de=window;if("solana"in de&&typeof de.solana=="object"&&("signIn"in de.solana&&typeof de.solana.signIn=="function"||"signMessage"in de.solana&&typeof de.solana.signMessage=="function"))Y=de.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=V}const ge=new URL((i=B?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in Y&&Y.signIn){const de=await Y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:ge.host,uri:ge.href}),L?{statement:L}:null));let re;if(Array.isArray(de)&&de[0]&&typeof de[0]=="object")re=de[0];else if(de&&typeof de=="object"&&"signedMessage"in de&&"signature"in de)re=de;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in re&&"signature"in re&&(typeof re.signedMessage=="string"||re.signedMessage instanceof Uint8Array)&&re.signature instanceof Uint8Array)M=typeof re.signedMessage=="string"?re.signedMessage:new TextDecoder().decode(re.signedMessage),q=re.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Y)||typeof Y.signMessage!="function"||!("publicKey"in Y)||typeof Y!="object"||!Y.publicKey||!("toBase58"in Y.publicKey)||typeof Y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");M=[`${ge.host} wants you to sign in with your Solana account:`,Y.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${ge.href}`,`Issued At: ${(l=(s=B?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=B?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((h=B?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((d=B?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((m=B?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((g=B?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((S=(b=B?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||S===void 0)&&S.length?["Resources",...B.signInWithSolana.resources.map(re=>`- ${re}`)]:[]].join(`
`);const de=await Y.signMessage(new TextEncoder().encode(M),"utf8");if(!de||!(de instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");q=de}}try{const{data:W,error:V}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:M,signature:Ti(q)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(R=n.options)===null||R===void 0?void 0:R.captchaToken}}:null),xform:On});if(V)throw V;if(!W||!W.session||!W.user){const L=new fa;return this._returnResult({data:{user:null,session:null},error:L})}return W.session&&(await this._saveSession(W.session),await this._notifyAllSubscribers("SIGNED_IN",W.session)),this._returnResult({data:Object.assign({},W),error:V})}catch(W){if(he(W))return this._returnResult({data:{user:null,session:null},error:W});throw W}}async _exchangeCodeForSession(n){const i=await yi(this.storage,`${this.storageKey}-code-verifier`),[s,l]=(i??"").split("/");try{if(!s&&this.flowType==="pkce")throw new G0;const{data:u,error:h}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:s},xform:On});if(await jt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!u||!u.session||!u.user){const d=new fa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:h})}catch(u){if(await jt(this.storage,`${this.storageKey}-code-verifier`),he(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(n){try{const{options:i,provider:s,token:l,access_token:u,nonce:h}=n,d=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:l,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:On}),{data:m,error:g}=d;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const b=new fa;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(i){if(he(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,s,l,u,h;try{if("email"in n){const{email:d,options:m}=n;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await ha(this.storage,this.storageKey));const{error:S}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(i=m?.data)!==null&&i!==void 0?i:{},create_user:(s=m?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:b},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in n){const{phone:d,options:m}=n,{data:g,error:b}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(h=m?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:b})}throw new il("You must provide either an email or phone number.")}catch(d){if(await jt(this.storage,`${this.storageKey}-code-verifier`),he(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(n){var i,s;try{let l,u;"options"in n&&(l=(i=n.options)===null||i===void 0?void 0:i.redirectTo,u=(s=n.options)===null||s===void 0?void 0:s.captchaToken);const{data:h,error:d}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:On});if(d)throw d;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,g=h.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(l){if(he(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(n){var i,s,l,u,h;try{let d=null,m=null;this.flowType==="pkce"&&([d,m]=await ha(this.storage,this.storageKey));const g=await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(s=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((l=n?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:m}),headers:this.headers,xform:g_});return!((u=g.data)===null||u===void 0)&&u.url&&Dt()&&!(!((h=n.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(d){if(await jt(this.storage,`${this.storageKey}-code-verifier`),he(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)throw s;if(!i)throw new cn;const{error:l}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(n){if(he(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:s,type:l,options:u}=n,{error:h}=await ye(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in n){const{phone:s,type:l,options:u}=n,{data:h,error:d}=await ye(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:d})}throw new il("You must provide either an email or phone number and a type")}catch(i){if(he(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await yi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const s=n.expires_at?n.expires_at*1e3-Date.now()<Hu:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",n.expires_at),!s){if(this.userStorage){const h=await yi(this.userStorage,this.storageKey+"-user");h?.user?n.user=h.user:n.user=Vu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};n.user=f_(n.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Hr}):await this._useSession(async i=>{var s,l,u;const{data:h,error:d}=i;if(d)throw d;return!(!((s=h.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cn}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Hr})})}catch(i){if(he(i))return Iu(i)&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async s=>{const{data:l,error:u}=s;if(u)throw u;if(!l.session)throw new cn;const h=l.session;let d=null,m=null;this.flowType==="pkce"&&n.email!=null&&([d,m]=await ha(this.storage,this.storageKey));const{data:g,error:b}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:d,code_challenge_method:m}),jwt:h.access_token,xform:Hr});if(b)throw b;return h.user=g.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(s){if(await jt(this.storage,`${this.storageKey}-code-verifier`),he(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new cn;const i=Date.now()/1e3;let s=i,l=!0,u=null;const{payload:h}=sl(n.access_token);if(h.exp&&(s=h.exp,l=s<=i),l){const{data:d,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!d)return{data:{user:null,session:null},error:null};u=d}else{const{data:d,error:m}=await this._getUser(n.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});u={access_token:n.access_token,refresh_token:n.refresh_token,user:d.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(i){if(he(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var s;if(!n){const{data:h,error:d}=i;if(d)throw d;n=(s=h.session)!==null&&s!==void 0?s:void 0}if(!n?.refresh_token)throw new cn;const{data:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(he(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!Dt())throw new al("No browser detected.");if(n.error||n.error_description||n.error_code)throw new al(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Og("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new al("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Og("No code detected.");const{data:L,error:B}=await this._exchangeCodeForSession(n.code);if(B)throw B;const Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:l,access_token:u,refresh_token:h,expires_in:d,expires_at:m,token_type:g}=n;if(!u||!d||!h||!g)throw new al("No session defined in URL");const b=Math.round(Date.now()/1e3),S=parseInt(d);let w=b+S;m&&(w=parseInt(m));const R=w-b;R*1e3<=va&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${R}s, should have been closer to ${S}s`);const M=w-S;b-M>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",M,w,b):b-M<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",M,w,b);const{data:q,error:W}=await this._getUser(u);if(W)throw W;const V={provider_token:s,provider_refresh_token:l,access_token:u,expires_in:S,expires_at:w,refresh_token:h,token_type:g,user:q.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:V,redirectType:n.type},error:null})}catch(s){if(he(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await yi(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:l,error:u}=i;if(u&&!Iu(u))return this._returnResult({error:u});const h=(s=l.session)===null||s===void 0?void 0:s.access_token;if(h){const{error:d}=await this.admin.signOut(h,n);if(d&&!(H0(d)&&(d.status===404||d.status===401||d.status===403)||Iu(d)))return this._returnResult({error:d})}return n!=="others"&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=X0(),s={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(n){return await this._useSession(async i=>{var s,l;try{const{data:{session:u},error:h}=i;if(h)throw h;await((s=this.stateChangeEmitters.get(n))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,i={}){let s=null,l=null;this.flowType==="pkce"&&([s,l]=await ha(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:s,code_challenge_method:l,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(await jt(this.storage,`${this.storageKey}-code-verifier`),he(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var n;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(he(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:s,error:l}=await this._useSession(async u=>{var h,d,m,g,b;const{data:S,error:w}=u;if(w)throw w;const R=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(d=n.options)===null||d===void 0?void 0:d.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",R,{headers:this.headers,jwt:(b=(g=S.session)===null||g===void 0?void 0:g.access_token)!==null&&b!==void 0?b:void 0})});if(l)throw l;return Dt()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:n.provider,url:s?.url},error:null})}catch(s){if(he(s))return this._returnResult({data:{provider:n.provider,url:null},error:s});throw s}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var s;try{const{error:l,data:{session:u}}=i;if(l)throw l;const{options:h,provider:d,token:m,access_token:g,nonce:b}=n,S=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=u?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:m,access_token:g,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:On}),{data:w,error:R}=S;return R?this._returnResult({data:{user:null,session:null},error:R}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new fa}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:R}))}catch(l){if(await jt(this.storage,`${this.storageKey}-code-verifier`),he(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var s,l;const{data:u,error:h}=i;if(h)throw h;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(l=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0})})}catch(i){if(he(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await t_(async l=>(l>0&&await e_(200*Math.pow(2,l-1)),this._debug(i,"refreshing attempt",l),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:On})),(l,u)=>{const h=200*Math.pow(2,l);return u&&Gu(u)&&Date.now()+h-s<va})}catch(s){if(this._debug(i,"error",s),he(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",s),Dt()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:n,url:s},error:null}}async _recoverAndRefresh(){var n,i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const l=await yi(this.storage,this.storageKey);if(l&&this.userStorage){let h=await yi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:l.user},await ya(this.userStorage,this.storageKey+"-user",h)),l.user=(n=h?.user)!==null&&n!==void 0?n:Vu()}else if(l&&!l.user&&!l.user){const h=await yi(this.storage,this.storageKey+"-user");h&&h?.user?(l.user=h.user,await jt(this.storage,this.storageKey+"-user"),await ya(this.storage,this.storageKey,l)):l.user=Vu()}if(this._debug(s,"session from storage",l),!this._isValidSession(l)){this._debug(s,"session is not valid"),l!==null&&await this._removeSession();return}const u=((i=l.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Hu;if(this._debug(s,`session has${u?"":" not"} expired with margin of ${Hu}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:h}=await this._callRefreshToken(l.refresh_token);h&&(console.error(h),Gu(h)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:d}=await this._getUser(l.access_token);!d&&h?.user?(l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(s,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(s,"error",l),console.error(l);return}finally{this._debug(s,"end")}}async _callRefreshToken(n){var i,s;if(!n)throw new cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new El;const{data:u,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!u.session)throw new cn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const d={data:u.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(u){if(this._debug(l,"error",u),he(u)){const h={data:null,error:u};return Gu(u)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(h),h}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(n,i,s=!0){const l=`#_notifyAllSubscribers(${n})`;this._debug(l,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:n,session:i});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(n,i)}catch(m){u.push(m)}});if(await Promise.all(h),u.length>0){for(let d=0;d<u.length;d+=1)console.error(u[d]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await jt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),s=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&i.user&&await ya(this.userStorage,this.storageKey+"-user",{user:i.user});const l=Object.assign({},i);delete l.user;const u=Ug(l);await ya(this.storage,this.storageKey,u)}else{const l=Ug(i);await ya(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await jt(this.storage,this.storageKey),await jt(this.storage,this.storageKey+"-code-verifier"),await jt(this.storage,this.storageKey+"-user"),this.userStorage&&await jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Dt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),va);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((s.expires_at*1e3-n)/va);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${va}ms, refresh threshold is ${lf} ticks`),l<=lf&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Hm)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,s){const l=[`provider=${encodeURIComponent(i)}`];if(s?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&l.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[u,h]=await ha(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(d.toString())}if(s?.queryParams){const u=new URLSearchParams(s.queryParams);l.push(u.toString())}return s?.skipBrowserRedirect&&l.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${n}?${l.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var s;const{data:l,error:u}=i;return u?this._returnResult({data:null,error:u}):await ye(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(he(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var s,l;const{data:u,error:h}=i;if(h)return this._returnResult({data:null,error:h});const d=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:g}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(n.factorType==="totp"&&m.type==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(i){if(he(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var s;const{data:l,error:u}=i;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?j_(n.webauthn.credential_response):D_(n.webauthn.credential_response)})}:{code:n.code}),{data:d,error:m}=await ye(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:m}))})}catch(i){if(he(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var s;const{data:l,error:u}=i;if(u)return this._returnResult({data:null,error:u});const h=await ye(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});if(h.error)return h;const{data:d}=h;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:x_(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:k_(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(he(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:s}=await this._challenge({factorId:n.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(n=i?.factors)!==null&&n!==void 0?n:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(n){var i,s,l,u;if(n)try{const{payload:R}=sl(n);let M=null;R.aal&&(M=R.aal);let q=M;const{data:{user:W},error:V}=await this.getUser(n);if(V)return this._returnResult({data:null,error:V});((s=(i=W?.factors)===null||i===void 0?void 0:i.filter(Y=>Y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(q="aal2");const B=R.amr||[];return{data:{currentLevel:M,nextLevel:q,currentAuthenticationMethods:B},error:null}}catch(R){if(he(R))return this._returnResult({data:null,error:R});throw R}const{data:{session:h},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=sl(h.access_token);let g=null;m.aal&&(g=m.aal);let b=g;((u=(l=h.user.factors)===null||l===void 0?void 0:l.filter(R=>R.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(b="aal2");const w=m.amr||[];return{data:{currentLevel:g,nextLevel:b,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:s},error:l}=i;return l?this._returnResult({data:null,error:l}):s?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new cn})})}catch(i){if(he(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new cn});const h=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return h.data&&h.data.redirect_url&&Dt()&&!i?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(s){if(he(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(n,i){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new cn});const h=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return h.data&&h.data.redirect_url&&Dt()&&!i?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(s){if(he(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new cn})})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:s},error:l}=i;return l?this._returnResult({data:null,error:l}):s?(await ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new cn})})}catch(i){if(he(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let s=i.keys.find(d=>d.kid===n);if(s)return s;const l=Date.now();if(s=this.jwks.keys.find(d=>d.kid===n),s&&this.jwks_cached_at+P0>l)return s;const{data:u,error:h}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,s=u.keys.find(d=>d.kid===n),!s)?null:s}async getClaims(n,i={}){try{let s=n;if(!s){const{data:R,error:M}=await this.getSession();if(M||!R.session)return this._returnResult({data:null,error:M});s=R.session.access_token}const{header:l,payload:u,signature:h,raw:{header:d,payload:m}}=sl(s);i?.allowExpired||l_(u.exp);const g=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!g){const{error:R}=await this.getUser(s);if(R)throw R;return{data:{claims:u,header:l,signature:h},error:null}}const b=c_(l.alg),S=await crypto.subtle.importKey("jwk",g,b,!0,["verify"]);if(!await crypto.subtle.verify(b,S,h,J0(`${d}.${m}`)))throw new ff("Invalid JWT signature");return{data:{claims:u,header:l,signature:h},error:null}}catch(s){if(he(s))return this._returnResult({data:null,error:s});throw s}}}js.nextInstanceID={};const $_=js,H_="2.93.2";let Es="";typeof Deno<"u"?Es="deno":typeof document<"u"?Es="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Es="react-native":Es="node";const I_={"X-Client-Info":`supabase-js-${Es}/${H_}`},G_={headers:I_},V_={schema:"public"},W_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Y_={};function Ds(a){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ds(a)}function K_(a,n){if(Ds(a)!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var s=i.call(a,n);if(Ds(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function J_(a){var n=K_(a,"string");return Ds(n)=="symbol"?n:n+""}function Q_(a,n,i){return(n=J_(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a}function Pg(a,n){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),i.push.apply(i,s)}return i}function ot(a){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Pg(Object(i),!0).forEach(function(s){Q_(a,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):Pg(Object(i)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(i,s))})}return a}const X_=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),Z_=()=>Headers,F_=(a,n,i)=>{const s=X_(i),l=Z_();return async(u,h)=>{var d;const m=(d=await n())!==null&&d!==void 0?d:a;let g=new l(h?.headers);return g.has("apikey")||g.set("apikey",a),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),s(u,ot(ot({},h),{},{headers:g}))}};function eS(a){return a.endsWith("/")?a:a+"/"}function tS(a,n){var i,s;const{db:l,auth:u,realtime:h,global:d}=a,{db:m,auth:g,realtime:b,global:S}=n,w={db:ot(ot({},m),l),auth:ot(ot({},g),u),realtime:ot(ot({},b),h),storage:{},global:ot(ot(ot({},S),d),{},{headers:ot(ot({},(i=S?.headers)!==null&&i!==void 0?i:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return a.accessToken?w.accessToken=a.accessToken:delete w.accessToken,w}function nS(a){const n=a?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eS(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var rS=class extends $_{constructor(a){super(a)}},iS=class{constructor(a,n,i){var s,l;this.supabaseUrl=a,this.supabaseKey=n;const u=nS(a);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:V_,realtime:Y_,auth:ot(ot({},W_),{},{storageKey:h}),global:G_},m=tS(i??{},d);if(this.storageKey=(s=m.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(b,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=m.auth)!==null&&g!==void 0?g:{},this.headers,m.global.fetch)}this.fetch=F_(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(ot({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new $b(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new N0(this.storageUrl.href,this.headers,this.fetch,i?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Bb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,n,i)}channel(a,n={config:{}}){return this.realtime.channel(a,n)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a=this,n,i;if(a.accessToken)return await a.accessToken();const{data:s}=await a.auth.getSession();return(n=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:a.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:l,storageKey:u,flowType:h,lock:d,debug:m,throwOnError:g},b,S){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rS({url:this.authUrl.href,headers:ot(ot({},w),b),storageKey:u,autoRefreshToken:a,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:l,flowType:h,lock:d,debug:m,throwOnError:g,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(R=>R.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new i0(this.realtimeUrl.href,ot(ot({},a),{},{params:ot(ot({},{apikey:this.supabaseKey}),a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,n)=>{this._handleTokenChanged(a,"CLIENT",n?.access_token)})}_handleTokenChanged(a,n,i){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const aS=(a,n,i)=>new iS(a,n,i);function sS(){if(typeof window<"u")return!1;const a=globalThis.process;if(!a)return!1;const n=a.version;if(n==null)return!1;const i=n.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}sS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const oS="https://vfcukdsbpvraxbgavhvx.supabase.co",lS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZmY3VrZHNicHZyYXhiZ2F2aHZ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk1NTY0NTcsImV4cCI6MjA4NTEzMjQ1N30.Fv_xc_jRROhzYChAkqc5Kc1Fq1S61dPRBT1ZLucE7q4",ol=aS(oS,lS),$g={async getOrCreateUser(a){const{data:n,error:i}=await ol.from("profiles").select("*").eq("id",a.id).maybeSingle();if(i)return console.error("Error fetching user:",i),null;if(n)return n;const s={id:a.id,username:a.username||null,full_name:`${a.first_name} ${a.last_name||""}`.trim(),puka_coins:0,is_premium:!1},{data:l,error:u}=await ol.from("profiles").insert([s]).select().single();return u?u.code==="23505"?this.getOrCreateUser(a):(console.error("Error creating user:",u),null):l},async updateBalance(a,n){const{data:i,error:s}=await ol.from("profiles").select("puka_coins").eq("id",a).single();if(s||!i)return null;const l=i.puka_coins+n,{data:u,error:h}=await ol.from("profiles").update({puka_coins:l}).eq("id",a).select().single();return h?null:u.puka_coins}},cS=[{id:"small_pack",name:" ",coins:100,priceStars:50,emoji:""},{id:"medium_pack",name:" ",coins:500,priceStars:200,emoji:"",popular:!0},{id:"large_pack",name:" ",coins:1500,priceStars:500,emoji:""}],uS=({onBack:a,onBuy:n})=>Q.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white p-4",children:[Q.jsxs("div",{className:"flex items-center justify-between mb-8",children:[Q.jsx("button",{onClick:a,className:"text-2xl hover:scale-110 transition-transform",children:""}),Q.jsx("h1",{className:"text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500",children:""}),Q.jsx("div",{className:"w-8"})," "]}),Q.jsx("div",{className:"grid gap-4",children:cS.map(i=>Q.jsxs("div",{onClick:()=>n(i),className:`relative bg-gray-800 rounded-2xl p-4 border-2 ${i.popular?"border-yellow-500 shadow-[0_0_15px_rgba(234,179,8,0.3)]":"border-gray-700"} active:scale-95 transition-all flex items-center justify-between group overflow-hidden`,children:[i.popular&&Q.jsx("div",{className:"absolute top-0 right-0 bg-yellow-500 text-black text-[10px] font-bold px-2 py-1 rounded-bl-lg",children:"BEST VALUE"}),Q.jsxs("div",{className:"flex items-center gap-4 z-10",children:[Q.jsx("div",{className:"text-4xl bg-gray-900/50 p-3 rounded-xl group-hover:scale-110 transition-transform",children:i.emoji}),Q.jsxs("div",{children:[Q.jsx("div",{className:"font-bold text-lg text-white",children:i.name}),Q.jsxs("div",{className:"font-mono text-yellow-400",children:["+",i.coins," PukaCoins"]})]})]}),Q.jsx("div",{className:"z-10",children:Q.jsxs("button",{className:"bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-1",children:[Q.jsx("span",{className:"text-xs",children:""}),i.priceStars]})}),Q.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-transparent to-white/5 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]},i.id))}),Q.jsxs("div",{className:"mt-8 text-center text-gray-500 text-xs",children:["   Telegram Stars.",Q.jsx("br",{}),"     Telegram."]})]}),Yu=50,fS=()=>{const[a,n]=wt.useState([]);return{logs:a,log:s=>{console.log(s),n(l=>[s,...l].slice(0,10))}}};function hS(){const{logs:a,log:n}=fS(),[i,s]=wt.useState("MENU"),[l,u]=wt.useState("..."),[h,d]=wt.useState(null),[m,g]=wt.useState(null),[b,S]=wt.useState(null),[w,R]=wt.useState(null),M=wt.useRef(null),q=wt.useRef(null),W=wt.useRef(!1),[V,L]=wt.useState({myClicks:0,opponentClicks:0,myTime:null,opponentTime:null}),B=wt.useRef(0),[Y,ge]=wt.useState("0.00"),de=wt.useRef(()=>{});wt.useEffect(()=>{mi.expand();const x=mi.initDataUnsafe.user,G={name:x?.first_name||`Player-${Math.floor(Math.random()*1e3)}`};d(G),n(`User: ${G.name}`),x?$g.getOrCreateUser(x).then(ve=>{ve?(g(ve),n(`DB: ${ve.puka_coins} coins`)):n("DB Error: Fetch Failed")}):n("No TG User, skipping DB");const oe=new Db({debug:2,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478"}]}});return M.current=oe,oe.on("open",ve=>{n(`My PeerID: ${ve}`),R(ve),u("");const J=mi.initDataUnsafe.start_param;if(J&&J.startsWith("join_")){const C=J.replace("join_","");n(`Joining host: ${C}`),qe(C)}}),oe.on("connection",ve=>{n("Incoming connection..."),re(ve)}),oe.on("error",ve=>{n(`Peer Error: ${ve.type}`),u(`Err: ${ve.type}`)}),()=>oe.destroy()},[]),wt.useEffect(()=>{de.current=x=>{switch(x.type){case"HELLO":n(`Opponent Hello: ${x.payload.name}`),S({name:x.payload.name}),s("LOBBY");break;case"START_GAME":n("Received START_GAME"),ut();break;case"UPDATE_CLICKS":L(G=>({...G,opponentClicks:x.payload.clicks}));break;case"FINISH":n(`Opponent Finished: ${x.payload.time}`),L(G=>({...G,opponentTime:x.payload.time}));break}}});const re=x=>{q.current=x,x.on("open",()=>{n("Connection Established!"),Ie({type:"HELLO",payload:{name:h?.name}})}),x.on("data",G=>{de.current(G)}),x.on("close",()=>{n("Connection Closed"),u(" "),s("MENU"),S(null)}),x.on("error",G=>{n(`Conn Err: ${G}`)})},qe=x=>{if(u(`Connecting to ${x}...`),W.current=!1,!M.current)return;const G=M.current.connect(x,{reliable:!0});re(G)},Ie=x=>{q.current&&q.current.open?q.current.send(x):n("Send failed: Connection not open")},bn=()=>{if(W.current=!0,s("LOBBY"),!w)return;const oe=`https://t.me/pukaboy_bot/game?startapp=join_${w}`;n(`Generated Link: ${oe}`),mi.openTelegramLink(`https://t.me/share/url?url=${encodeURIComponent(oe)}&text=${encodeURIComponent(" DUEL ME!")}`)},Ht=()=>{n("Host Clicked Start"),Ie({type:"START_GAME"}),ut()},ut=()=>{n("Starting Game Loop..."),L({myClicks:0,opponentClicks:0,myTime:null,opponentTime:null}),s("RACING"),B.current=Date.now()},_n=async x=>{if(n(`Buying ${x.name}...`),!m)return;const G=await $g.updateBalance(m.id,x.coins);G!==null&&(g({...m,puka_coins:G}),mi.HapticFeedback.notificationOccurred("success"),n(`Purchased! New Balance: ${G}`),s("MENU"))};wt.useEffect(()=>{let x;const G=()=>{if(i==="RACING"){const oe=Date.now();ge(((oe-B.current)/1e3).toFixed(2)),x=requestAnimationFrame(G)}};return i==="RACING"&&(x=requestAnimationFrame(G)),()=>cancelAnimationFrame(x)},[i]);const It=()=>{if(i!=="RACING"||V.myTime)return;mi.HapticFeedback.impactOccurred("light");const x=V.myClicks+1;if(L(G=>({...G,myClicks:x})),Ie({type:"UPDATE_CLICKS",payload:{clicks:x}}),x>=Yu){const G=Date.now()-B.current;n(`Finished in ${G}ms`),L(oe=>({...oe,myTime:G})),Ie({type:"FINISH",payload:{time:G}}),mi.HapticFeedback.notificationOccurred("success")}},Tt=x=>Math.min(x/Yu*100,100);return Q.jsxs(Q.Fragment,{children:[Q.jsx("div",{className:"fixed bottom-0 left-0 w-full h-20 bg-black/80 text-[10px] text-green-400 font-mono p-2 pointer-events-none overflow-hidden z-50 opacity-50",children:a.map((x,G)=>Q.jsx("div",{children:x},G))}),(function(){return i==="SHOP"?Q.jsx(uS,{onBack:()=>s("MENU"),onBuy:_n}):i==="MENU"?Q.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white p-4 relative overflow-hidden",children:[Q.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2 bg-gray-800/80 rounded-full px-4 py-2 border border-yellow-500/30",children:[Q.jsx("span",{className:"text-xl",children:""}),Q.jsx("span",{className:"font-mono font-bold text-yellow-400",children:m?.puka_coins??"..."})]}),Q.jsx("h1",{className:"text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-green-500 mb-2 transform -skew-x-6 z-10",children:"PUKABOY"}),Q.jsx("div",{className:"text-xs tracking-[0.5em] text-blue-500 mb-8 z-10",children:"REALTIME PVP"}),w?Q.jsxs("div",{className:"w-full max-w-xs space-y-4 z-10",children:[Q.jsxs("button",{onClick:bn,className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-bold py-5 rounded-xl shadow-[0_0_20px_rgba(37,99,235,0.4)] transition-all active:scale-95 flex items-center justify-center gap-2",children:[Q.jsx("span",{children:""}),"  "]}),Q.jsxs("div",{className:"text-[10px] text-gray-600 text-center font-mono mt-4",children:["ID: ",w]})]}):Q.jsx("div",{className:"animate-pulse text-blue-400 font-mono bg-gray-800 px-4 py-2 rounded-lg",children:l})]}):i==="LOBBY"?Q.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white p-4",children:[Q.jsx("h2",{className:"text-xl font-bold mb-8 text-gray-400 tracking-widest",children:" "}),Q.jsxs("div",{className:"flex gap-4 items-center mb-12 w-full justify-center",children:[Q.jsxs("div",{className:"flex flex-col items-center",children:[Q.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center text-3xl mb-2 shadow-[0_0_15px_rgba(37,99,235,0.6)] border-4 border-gray-800",children:""}),Q.jsx("div",{className:"font-bold text-sm bg-gray-800 px-3 py-1 rounded-full",children:h?.name})]}),Q.jsx("div",{className:"text-2xl font-black text-gray-600 italic",children:"VS"}),Q.jsxs("div",{className:"flex flex-col items-center",children:[Q.jsx("div",{className:`w-20 h-20 ${b?"bg-red-600 shadow-[0_0_15px_rgba(220,38,38,0.6)]":"bg-gray-800 border-dashed border-2 border-gray-600"} rounded-full flex items-center justify-center text-3xl mb-2 border-4 border-gray-900 transition-all`,children:b?"":"..."}),Q.jsx("div",{className:"font-bold text-sm bg-gray-800 px-3 py-1 rounded-full",children:b?.name||"..."})]})]}),b&&W.current&&Q.jsx("button",{onClick:Ht,className:"w-full max-w-xs bg-gradient-to-r from-green-500 to-emerald-600 text-white font-black text-xl py-5 rounded-2xl shadow-[0_5px_0_rgb(21,128,61)] active:shadow-none active:translate-y-[5px] transition-all animate-pulse",children:"! "}),b&&!W.current&&Q.jsx("div",{className:"text-green-400 animate-pulse bg-green-900/20 px-4 py-2 rounded-lg",children:"  ..."}),!b&&Q.jsx("div",{className:"text-center text-gray-500 text-xs",children:'    "Share"  ...'})]}):Q.jsxs("div",{className:"flex flex-col h-screen bg-gray-900 text-white overflow-hidden touch-manipulation select-none",children:[Q.jsx("div",{className:`h-20 flex flex-col items-center justify-center border-b border-gray-700 z-10 transition-colors ${V.myTime?"bg-gray-800":"bg-gray-800/80 backdrop-blur-sm"}`,children:Q.jsx("span",{className:`font-mono text-4xl font-bold tracking-tighter ${V.myTime?"text-gray-500":"text-yellow-400"}`,children:V.myTime?(V.myTime/1e3).toFixed(2):Y})}),Q.jsxs("div",{className:"flex-1 flex relative",children:[Q.jsxs("div",{className:"flex-1 border-r border-gray-800 relative bg-blue-900/5",children:[Q.jsx("div",{className:"absolute inset-x-0 bottom-0 bg-blue-600/30 transition-all duration-75 ease-out",style:{height:`${Tt(V.myClicks)}%`}}),Q.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 text-5xl transition-all duration-75 ease-out pb-4",style:{bottom:`${Tt(V.myClicks)}%`},children:""}),Q.jsx("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 font-bold text-blue-500 text-xs tracking-wider bg-blue-900/20 px-2 rounded",children:"YOU"})]}),Q.jsxs("div",{className:"flex-1 relative bg-red-900/5",children:[Q.jsx("div",{className:"absolute inset-x-0 bottom-0 bg-red-600/30 transition-all duration-75 ease-linear",style:{height:`${Tt(V.opponentClicks)}%`}}),Q.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 text-5xl transition-all duration-75 ease-linear pb-4",style:{bottom:`${Tt(V.opponentClicks)}%`},children:""}),Q.jsx("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 font-bold text-red-500 text-xs tracking-wider bg-red-900/20 px-2 rounded",children:b?.name})]}),V.myTime&&V.opponentTime&&Q.jsxs("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-30 flex flex-col items-center justify-center animate-in fade-in duration-300",children:[Q.jsx("div",{className:"text-8xl mb-4 animate-bounce",children:V.myTime<V.opponentTime?"":""}),Q.jsx("h2",{className:`text-4xl font-black italic mb-8 ${V.myTime<V.opponentTime?"text-yellow-400":"text-gray-400"}`,children:V.myTime<V.opponentTime?" !":""}),Q.jsxs("div",{className:"grid grid-cols-2 gap-8 text-center mb-8",children:[Q.jsxs("div",{children:[Q.jsx("div",{className:"text-gray-500 text-xs uppercase",children:" "}),Q.jsxs("div",{className:"text-2xl font-mono font-bold text-white",children:[(V.myTime/1e3).toFixed(2),"s"]})]}),Q.jsxs("div",{children:[Q.jsx("div",{className:"text-gray-500 text-xs uppercase",children:b?.name}),Q.jsxs("div",{className:"text-2xl font-mono font-bold text-red-400",children:[(V.opponentTime/1e3).toFixed(2),"s"]})]})]}),Q.jsx("button",{onClick:()=>{s("MENU"),S(null)},className:"bg-white text-black font-bold py-3 px-8 rounded-full hover:bg-gray-200 transition-colors",children:" "})]})]}),Q.jsxs("div",{className:"h-[35vh] bg-gray-800 p-8 flex justify-center items-center rounded-t-[3rem] shadow-[0_-10px_40px_rgba(0,0,0,0.5)] z-20 relative",children:[Q.jsx("div",{className:"absolute top-3 w-16 h-1 bg-gray-600/30 rounded-full"}),Q.jsxs("button",{onPointerDown:It,disabled:!!V.myTime,className:`w-48 h-48 rounded-full flex flex-col items-center justify-center transition-all duration-75 border-4
                    ${V.myTime?"bg-gray-700 border-gray-600 opacity-50 grayscale":"bg-gradient-to-b from-blue-500 to-blue-700 border-blue-400/30 shadow-[0_10px_0_rgb(30,58,138)] active:shadow-none active:translate-y-[10px] active:scale-95"}
                 `,children:[Q.jsx("span",{className:"text-4xl font-black text-white drop-shadow-md select-none",children:"TAP!"}),Q.jsxs("span",{className:"text-xs font-mono text-blue-200 mt-1",children:[V.myClicks,"/",Yu]})]})]})]})})()]})}rb.createRoot(document.getElementById("root")).render(Q.jsx(wt.StrictMode,{children:Q.jsx(hS,{})}));
